<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><link rel="icon" href="https://sift.com/favicon.ico?v=10272022"><link rel="canonical" href="https://sift.com/developers/docs"><meta name="referrer" content="no-referrer-when-downgrade"><script type="text/javascript" data-cfasync="false" src="https://tribl.io/h.js?orgId=Mo8woK2edzcD8WnZO9Pj"></script><link rel="stylesheet" href="/css/marketing-d0226a6adf1435a28f5e07a05848b4c6.css"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});
var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PF53KPG');</script><title>Fraud Detection Service Integration Docs | Sift</title><script>/*! modernizr 3.3.1 (Custom Build) | MIT *
 * http://modernizr.com/download/?-classlist-cssanimations-es6collections-es6math-es6number-es6object-flexbox-promises-requestanimationframe-srcset-touchevents-video-addtest-mq-setclasses !*/
!function(e,n,t){function r(e,n){return typeof e===n}function o(){var e,n,t,o,i,s,a;for(var u in b)if(b.hasOwnProperty(u)){if(e=[],n=b[u],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(t=0;t<n.options.aliases.length;t++)e.push(n.options.aliases[t].toLowerCase());for(o=r(n.fn,"function")?n.fn():n.fn,i=0;i<e.length;i++)s=e[i],a=s.split("."),1===a.length?Modernizr[a[0]]=o:(!Modernizr[a[0]]||Modernizr[a[0]]instanceof Boolean||(Modernizr[a[0]]=new Boolean(Modernizr[a[0]])),Modernizr[a[0]][a[1]]=o),w.push((o?"":"no-")+a.join("-"))}}function i(e){var n=C.className,t=Modernizr._config.classPrefix||"";if(N&&(n=n.baseVal),Modernizr._config.enableJSClass){var r=new RegExp("(^|\s)"+t+"no-js(\s|$)");n=n.replace(r,"$1"+t+"js$2")}Modernizr._config.enableClasses&&(n+=" "+t+e.join(" "+t),N?C.className.baseVal=n:C.className=n)}function s(e,n){if("object"==typeof e)for(var t in e)T(e,t)&&s(t,e[t]);else{e=e.toLowerCase();var r=e.split("."),o=Modernizr[r[0]];if(2==r.length&&(o=o[r[1]]),"undefined"!=typeof o)return Modernizr;n="function"==typeof n?n():n,1==r.length?Modernizr[r[0]]=n:(!Modernizr[r[0]]||Modernizr[r[0]]instanceof Boolean||(Modernizr[r[0]]=new Boolean(Modernizr[r[0]])),Modernizr[r[0]][r[1]]=n),i([(n&&0!=n?"":"no-")+r.join("-")]),Modernizr._trigger(e,n)}return Modernizr}function a(){return"function"!=typeof n.createElement?n.createElement(arguments[0]):N?n.createElementNS.call(n,"http://www.w3.org/2000/svg",arguments[0]):n.createElement.apply(n,arguments)}function u(){var e=n.body;return e||(e=a(N?"svg":"body"),e.fake=!0),e}function l(e,t,r,o){var i,s,l,f,c="modernizr",d=a("div"),p=u();if(parseInt(r,10))for(;r--;)l=a("div"),l.id=o?o[r]:c+(r+1),d.appendChild(l);return i=a("style"),i.type="text/css",i.id="s"+c,(p.fake?p:d).appendChild(i),p.appendChild(d),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(n.createTextNode(e)),d.id=c,p.fake&&(p.style.background="",p.style.overflow="hidden",f=C.style.overflow,C.style.overflow="hidden",C.appendChild(p)),s=t(d,e),p.fake?(p.parentNode.removeChild(p),C.style.overflow=f,C.offsetHeight):d.parentNode.removeChild(d),!!s}function f(e,n){return!!~(""+e).indexOf(n)}function c(e){return e.replace(/([A-Z])/g,function(e,n){return"-"+n.toLowerCase()}).replace(/^ms-/,"-ms-")}function d(n,r){var o=n.length;if("CSS"in e&&"supports"in e.CSS){for(;o--;)if(e.CSS.supports(c(n[o]),r))return!0;return!1}if("CSSSupportsRule"in e){for(var i=[];o--;)i.push("("+c(n[o])+":"+r+")");return i=i.join(" or "),l("@supports ("+i+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return t}function p(e){return e.replace(/([a-z])-([a-z])/g,function(e,n,t){return n+t.toUpperCase()}).replace(/^-/,"")}function m(e,n,o,i){function s(){l&&(delete E.style,delete E.modElem)}if(i=r(i,"undefined")?!1:i,!r(o,"undefined")){var u=d(e,o);if(!r(u,"undefined"))return u}for(var l,c,m,h,v,y=["modernizr","tspan"];!E.style;)l=!0,E.modElem=a(y.shift()),E.style=E.modElem.style;for(m=e.length,c=0;m>c;c++)if(h=e[c],v=E.style[h],f(h,"-")&&(h=p(h)),E.style[h]!==t){if(i||r(o,"undefined"))return s(),"pfx"==n?h:!0;try{E.style[h]=o}catch(g){}if(E.style[h]!=v)return s(),"pfx"==n?h:!0}return s(),!1}function h(e,n){return function(){return e.apply(n,arguments)}}function v(e,n,t){var o;for(var i in e)if(e[i]in n)return t===!1?e[i]:(o=n[e[i]],r(o,"function")?h(o,t||n):o);return!1}function y(e,n,t,o,i){var s=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+M.join(s+" ")+s).split(" ");return r(n,"string")||r(n,"undefined")?m(a,n,o,i):(a=(e+" "+j.join(s+" ")+s).split(" "),v(a,n,t))}function g(e,n,r){return y(e,t,t,n,r)}var b=[],_={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var t=this;setTimeout(function(){n(t[e])},0)},addTest:function(e,n,t){b.push({name:e,fn:n,options:t})},addAsyncTest:function(e){b.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=_,Modernizr=new Modernizr;var T,w=[],C=n.documentElement,N="svg"===C.nodeName.toLowerCase();!function(){var e={}.hasOwnProperty;T=r(e,"undefined")||r(e.call,"undefined")?function(e,n){return n in e&&r(e.constructor.prototype[n],"undefined")}:function(n,t){return e.call(n,t)}}(),_._l={},_.on=function(e,n){this._l[e]||(this._l[e]=[]),this._l[e].push(n),Modernizr.hasOwnProperty(e)&&setTimeout(function(){Modernizr._trigger(e,Modernizr[e])},0)},_._trigger=function(e,n){if(this._l[e]){var t=this._l[e];setTimeout(function(){var e,r;for(e=0;e<t.length;e++)(r=t[e])(n)},0),delete this._l[e]}},Modernizr._q.push(function(){_.addTest=s});var S=function(){var n=e.matchMedia||e.msMatchMedia;return n?function(e){var t=n(e);return t&&t.matches||!1}:function(n){var t=!1;return l("@media "+n+" { #modernizr { position: absolute; } }",function(n){t="absolute"==(e.getComputedStyle?e.getComputedStyle(n,null):n.currentStyle).position}),t}}();_.mq=S;var x="Moz O ms Webkit",M=_._config.usePrefixes?x.split(" "):[];_._cssomPrefixes=M;var P={elem:a("modernizr")};Modernizr._q.push(function(){delete P.elem});var E={style:P.elem.style};Modernizr._q.unshift(function(){delete E.style});var j=_._config.usePrefixes?x.toLowerCase().split(" "):[];_._domPrefixes=j,_.testAllProps=y,_.testAllProps=g,Modernizr.addTest("cssanimations",g("animationName","a",!0)),Modernizr.addTest("flexbox",g("flexBasis","1px",!0)),Modernizr.addTest("classlist","classList"in C),Modernizr.addTest("es6collections",!!(e.Map&&e.Set&&e.WeakMap&&e.WeakSet)),Modernizr.addTest("es6math",!!(Math&&Math.clz32&&Math.cbrt&&Math.imul&&Math.sign&&Math.log10&&Math.log2&&Math.log1p&&Math.expm1&&Math.cosh&&Math.sinh&&Math.tanh&&Math.acosh&&Math.asinh&&Math.atanh&&Math.hypot&&Math.trunc&&Math.fround)),Modernizr.addTest("es6number",!!(Number.isFinite&&Number.isInteger&&Number.isSafeInteger&&Number.isNaN&&Number.parseInt&&Number.parseFloat&&Number.isInteger(Number.MAX_SAFE_INTEGER)&&Number.isInteger(Number.MIN_SAFE_INTEGER)&&Number.isFinite(Number.EPSILON))),Modernizr.addTest("es6object",!!(Object.assign&&Object.is&&Object.setPrototypeOf)),Modernizr.addTest("promises",function(){return"Promise"in e&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&function(){var n;return new e.Promise(function(e){n=e}),"function"==typeof n}()}),Modernizr.addTest("srcset","srcset"in a("img"));var z=function(n){var r,o=I.length,i=e.CSSRule;if("undefined"==typeof i)return t;if(!n)return!1;if(n=n.replace(/^@/,""),r=n.replace(/-/g,"_").toUpperCase()+"_RULE",r in i)return"@"+n;for(var s=0;o>s;s++){var a=I[s],u=a.toUpperCase()+"_"+r;if(u in i)return"@-"+a.toLowerCase()+"-"+n}return!1};_.atRule=z;var O=_.prefixed=function(e,n,t){return 0===e.indexOf("@")?z(e):(-1!=e.indexOf("-")&&(e=p(e)),n?y(e,n,t):y(e,"pfx"))};Modernizr.addTest("requestanimationframe",!!O("requestAnimationFrame",e),{aliases:["raf"]});var I=_._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):[];_._prefixes=I;var L=_.testStyles=l;Modernizr.addTest("touchevents",function(){var t;if("ontouchstart"in e||e.DocumentTouch&&n instanceof DocumentTouch)t=!0;else{var r=["@media (",I.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");L(r,function(e){t=9===e.offsetTop})}return t}),Modernizr.addTest("video",function(){var e=a("video"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),n.vp9=e.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),n.hls=e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""))}catch(t){}return n}),o(),i(w),delete _.addTest,delete _.addAsyncTest;for(var A=0;A<Modernizr._q.length;A++)Modernizr._q[A]();e.Modernizr=Modernizr}(window,document);;Modernizr.addTest('es6array', !!(Array.prototype && Array.prototype.copyWithin && Array.prototype.fill && Array.prototype.find && Array.prototype.findIndex && Array.prototype.keys && Array.prototype.entries && Array.from && Array.of));;Modernizr.addTest('es6string', !!(String.fromCodePoint && String.raw && String.prototype.codePointAt && String.prototype.repeat && String.prototype.startsWith && String.prototype.endsWith && String.prototype.includes));</script></head><body class="legacy"><script> var _sift = window._sift = window._sift || [];
var _sift_snippet_src = null;

_sift.push(['_setAccount', '9e2571340a']);
_sift.push(['_trackPageview']);

// avoids appending snippet if we're in dev or experiment
(function() {
  function ls() {
    var e;

    // if we're in staging or production, assign the correct JS snippet
    if (window._siftEnvironment === 'staging') {
      _sift_snippet_src = 'https://cdn.stg1.gcp.sift.com/s.js';
    } else if (window._siftEnvironment === 'production') {
      _sift_snippet_src = 'https://cdn.sift.com/s.js';
    }

    if (_sift_snippet_src) {
      e = document.createElement('script');
      e.id = 'sift_js_snippet';
      e.src = _sift_snippet_src;
      document.body.appendChild(e);
    } else {
      return;
    }
  }
  if (window.attachEvent) {
    window.attachEvent('onload', ls);
  } else {
    window.addEventListener('load', ls, false);
  }
})();

</script><div class="api-docs-page"><main role="main" tabindex="-1"><div class="docs-container"><img class="loader" src="/image/circle-loader-dark_2x.png"></div><div class="docs-all"><script>window.APIDocsConstants = {"ROOT_PATH":"/developers/docs","MOBILE_LAYOUT_MAX_WIDTH":840,"VERSION_MATCH":"^(?:\\/developers\\/docs)(\\/v[\\d]{3})?(?:\\/)?.*","Versions":{"V205":"v205","V204":"v204","V203":"v203"},"Preferences":{"LANG":"sift-lang","THEME":"sift-theme"},"Themes":{"LIGHT":"light","DARK":"dark"},"APIs":[{"slug":"apis-overview","displayName":"Sift API Overview","children":[{"slug":"overview","displayName":"Overview"},{"slug":"send-data","displayName":"Send Data"},{"slug":"scores","displayName":"Understand Scores"},{"slug":"build-logic","displayName":"Build Logic"},{"slug":"core-topics","displayName":"Core Topics","children":[{"slug":"overview","displayName":"Overview"},{"slug":"client-libraries","displayName":"Client Libraries"},{"slug":"authentication","displayName":"Authentication"},{"slug":"sandbox","displayName":"Sandbox"},{"slug":"error-reference","displayName":"Error Reference"},{"slug":"changelog","displayName":"Changelog"},{"slug":"faq","displayName":"FAQ","children":[{"slug":"tracking-users","displayName":"Tracking Users and Sessions"},{"slug":"custom-events","displayName":"Reserved and Custom Events"},{"slug":"backfilling","displayName":"Backfilling"},{"slug":"rate-limits","displayName":"Rate Limits"}]}]}]},{"slug":"javascript-api","displayName":"JavaScript Snippet","children":[{"slug":"overview","displayName":"Overview"}]},{"slug":"mobile-sdk","displayName":"Mobile SDK","children":[{"slug":"overview","displayName":"Overview"},{"slug":"ios","displayName":"iOS SDK"},{"slug":"android","displayName":"Android SDK"}]},{"slug":"events-api","displayName":"Events API","children":[{"slug":"overview","displayName":"Overview"},{"slug":"reserved-events","displayName":"Reserved Events","children":[{"slug":"add-item-to-cart","displayName":"$add_item_to_cart"},{"slug":"add-promotion","displayName":"$add_promotion"},{"slug":"chargeback","displayName":"$chargeback"},{"slug":"content-status","displayName":"$content_status"},{"slug":"create-account","displayName":"$create_account"},{"slug":"create-content","displayName":"$create_content","children":[{"slug":"comment","displayName":"$comment"},{"slug":"listing","displayName":"$listing"},{"slug":"message","displayName":"$message"},{"slug":"post","displayName":"$post"},{"slug":"profile","displayName":"$profile"},{"slug":"review","displayName":"$review"}]},{"slug":"create-order","displayName":"$create_order"},{"slug":"flag-content","displayName":"$flag_content"},{"slug":"link-session-to-user","displayName":"$link_session_to_user"},{"slug":"login","displayName":"$login"},{"slug":"logout","displayName":"$logout"},{"slug":"order-status","displayName":"$order_status"},{"slug":"remove-item-from-cart","displayName":"$remove_item_from_cart"},{"slug":"security-notification","displayName":"$security_notification"},{"slug":"transaction","displayName":"$transaction"},{"slug":"update-account","displayName":"$update_account"},{"slug":"update-content","displayName":"$update_content","children":[{"slug":"comment","displayName":"$comment"},{"slug":"listing","displayName":"$listing"},{"slug":"message","displayName":"$message"},{"slug":"post","displayName":"$post"},{"slug":"profile","displayName":"$profile"},{"slug":"review","displayName":"$review"}]},{"slug":"update-order","displayName":"$update_order"},{"slug":"update-password","displayName":"$update_password"},{"slug":"verification","displayName":"$verification"}]},{"slug":"fields","displayName":"Reserved Fields"},{"slug":"complex-field-types","displayName":"Complex Field Types","children":[{"slug":"address","displayName":"address"},{"slug":"app","displayName":"app"},{"slug":"booking","displayName":"booking","children":[{"slug":"event_ticket","displayName":"event_ticket"},{"slug":"accommodation","displayName":"accommodation"},{"slug":"flight","displayName":"flight"},{"slug":"bus","displayName":"bus"},{"slug":"rideshare","displayName":"rideshare"},{"slug":"vehicle","displayName":"vehicle"},{"slug":"cruise","displayName":"cruise"},{"slug":"other","displayName":"other"}]},{"slug":"browser","displayName":"browser"},{"slug":"credit-point","displayName":"credit_point"},{"slug":"digital-order","displayName":"digital_order"},{"slug":"discount","displayName":"discount"},{"slug":"guest","displayName":"guest"},{"slug":"image","displayName":"image"},{"slug":"item","displayName":"item"},{"slug":"merchant-profile","displayName":"merchant_profile"},{"slug":"ordered-from","displayName":"ordered_from"},{"slug":"payment-method","displayName":"payment_method"},{"slug":"promotion","displayName":"promotion"},{"slug":"segment","displayName":"segment"}]},{"slug":"custom-events","displayName":"Custom Events and Fields"},{"slug":"error-codes","displayName":"Error Codes"}]},{"slug":"decisions-api","displayName":"Decisions API","children":[{"slug":"overview","displayName":"Overview"},{"slug":"apply-decisions","displayName":"Apply Decisions"},{"slug":"decision-status","displayName":"Decision Status"},{"slug":"decisions-list","displayName":"Decisions List"},{"slug":"decision-webhooks","displayName":"Decision Webhooks","children":[{"slug":"message-body","displayName":"Message Body","children":[{"slug":"version-1-0-response","displayName":"Version 1.0 Response"},{"slug":"version-1-1-response","displayName":"Version 1.1 Response"},{"slug":"version-1-2-response","displayName":"Version 1.2 Response"}]},{"slug":"authentication","displayName":"Authentication"}]}]},{"slug":"workflows-api","displayName":"Workflows API","children":[{"slug":"overview","displayName":"Overview"},{"slug":"running-workflows","displayName":"Running Workflows","children":[{"slug":"synchronous","displayName":"Synchronous"},{"slug":"asynchronous","displayName":"Asynchronous"}]},{"slug":"workflow-status","displayName":"Workflow Status API"}]},{"slug":"score-api","displayName":"Score API","children":[{"slug":"overview","displayName":"Overview"},{"slug":"synchronous-scores","displayName":"Synchronous Scores","children":[{"slug":"overview","displayName":"Overview"},{"slug":"error-codes","displayName":"Error Codes"}]},{"slug":"get-score","displayName":"Get score API","children":[{"slug":"overview","displayName":"Overview"},{"slug":"error-codes","displayName":"Error Codes"}]},{"slug":"rescore","displayName":"Re-score API","children":[{"slug":"overview","displayName":"Overview"},{"slug":"error-codes","displayName":"Error Codes"}]}]},{"slug":"verification-api","displayName":"Verification API","children":[{"slug":"overview","displayName":"Overview"},{"slug":"check","displayName":"Check"},{"slug":"resend","displayName":"Resend"},{"slug":"send","displayName":"Send"}]},{"slug":"device-fingerprinting-api","displayName":"Device Fingerprinting API","children":[{"slug":"overview","displayName":"Overview"},{"displayName":"Devices","path":"/v3/accounts/{accountId}/devices","slug":"devices","children":[{"displayName":"Device Information","path":"/v3/accounts/{accountId}/devices/{deviceId}","method":"GET","slug":"device-information"},{"displayName":"Label a Device","path":"/v3/accounts/{accountId}/devices/{deviceId}/label","method":"PUT","slug":"label-a-device"}]},{"displayName":"Sessions","path":"/v3/accounts/{accountId}/sessions","slug":"sessions","children":[{"displayName":"Session Information","path":"/v3/accounts/{accountId}/sessions/{sessionId}","method":"GET","slug":"session-information"}]},{"displayName":"Users","path":"/v3/accounts/{accountId}/users","slug":"users","children":[{"displayName":"Device Information for Users","path":"/v3/accounts/{accountId}/users/{userId}/devices","method":"GET","slug":"device-information-for-users"}]}]},{"slug":"partner-api","displayName":"Partner API","children":[{"slug":"overview","displayName":"Overview"}]},{"slug":"labels-api","displayName":"Labels API","children":[{"slug":"label-user","displayName":"Label User"},{"slug":"unlabel-user","displayName":"Unlabel User"}]},{"slug":"webhooks-api","displayName":"Webhooks API","children":[{"slug":"overview","displayName":"Overview"},{"slug":"create","displayName":"Create a Webhook"},{"slug":"retrieve","displayName":"Retrieve a Webhook"},{"slug":"list","displayName":"List All Webhooks"},{"slug":"update","displayName":"Update a Webhook"},{"slug":"delete","displayName":"Delete a Webhook"}]},{"slug":"orders-api","displayName":"Orders API","children":[{"slug":"overview","displayName":"Overview"},{"slug":"order","displayName":"The Order Object"}]},{"slug":"psp-merchant-management-api","displayName":"PSP Merchant Management API","children":[{"slug":"overview","displayName":"Overview"},{"slug":"create","displayName":"Create Merchant"},{"slug":"edit","displayName":"Edit Merchant"},{"slug":"get","displayName":"Get Merchant","children":[{"slug":"request","displayName":"Request"},{"slug":"batch-response","displayName":"Batch Response"},{"slug":"by-id-response","displayName":"By ID Response"}]},{"slug":"object","displayName":"Merchant Object"}]}],"Languages":[{"slug":"curl","displayName":"cURL"},{"slug":"ruby","displayName":"Ruby"},{"slug":"python","displayName":"Python"},{"slug":"php","displayName":"PHP"},{"slug":"java","displayName":"Java"}],"ExternalLinks":[{"href":"/resources/guides","displayName":"Integration Guides"},{"href":"/resources/tutorials","displayName":"Dev Tutorials"},{"href":"/developers/overview#client-libraries","displayName":"Client Libraries"}],"HiddenAPIs":[],"OtherAPIs":["verification-api","device-fingerprinting-api","partner-api","labels-api","webhooks-api","orders-api","psp-merchant-management-api"],"APIConfig":[{"slug":"device-fingerprinting-api","resources":["Devices","Sessions",{"resource":"Users","paths":["/v3/accounts/{accountId}/users/{userId}/devices"]}]},{"slug":"partner-api","resources":[{"resource":"Accounts","paths":["/v3/accounts/{id}/config"]},"Partners"]},{"slug":"public-data-api","children":[{"resource":"Orders","paths":["/v3/accounts/{accountId}/orders/{orderId}"]},{"resource":"Users","paths":["/v3/accounts/{accountId}/users/{userId}","/v3/accounts/{accountId}/users/{userId}/events","/v3/accounts/{accountId}/users/{userId}/page_views","/v3/accounts/{accountId}/users/{userId}/labels","/v3/accounts/{accountId}/users/{userId}/orders","/v3/accounts/{accountId}/users/{userId}/related_users"]}]}]}</script><!-- - main overview--><div class="docs-partial apis-overview-overview"><h1>Sift API Overview</h1><p>Sift is the leader in Digital Trust &amp; Safety, empowering organizations of all sizes 
to unlock new revenue without risk using machine learning. Sift helps businesses 
to make accurate, real-time decisions that both improve user experience and increase 
revenue. You can use Sift whether you’re building a brand new risk system or looking 
to augment an existing legacy system.</p><p>Sift makes risk predictions in real-time using your own data and data from across 
Sift’s global network. Our machine learning systems identify
patterns of behavior across thousands of device, user, network, and transactional 
signals. These are often patterns that only a machine learning system can spot. Using 
Sift, businesses have stopped 100s billions of dollars of fraud worldwide.</p><p>There are many abuse use cases that Sift can stop:</p><ul><li><strong>Payment Protection</strong> - Reduce friction at checkout to increase revenue and stop 
chargebacks before they hurt your business.</li><li><strong>Account Defense</strong><ul><li><strong>Account Abuse</strong> - Stop fake accounts from polluting your service and 
block fraudulent users before they harm your business.</li><li><strong>Account Takeover</strong> - Stop fraudulent actors from hijacking users accounts. Keep 
your users safe and ensure that they always trust your service.</li></ul></li><li><strong>Content Integrity</strong> - Stop spammy and scammy posts from polluting your service. 
Keep your users safe from malicious actors. </li><li><strong>Promotion Abuse</strong> - Make sure you’re only rewarding real users by stopping 
referral rings and repeated use of promotions. </li></ul><p>Sift easily integrates into your existing systems using modern 
<span data-href="/events-api">REST APIs</span>, 
<span data-href="/javascript-api">Javascript snippet</span>, and  
<span data-href="/mobile-sdk">SDKs</span> for iOS and Android. In addition, Sift offers 
<span data-href="/workflows-api">Workflows</span>, a powerful rules automation platform, and 
Review Queues. These enable you to build a complete solution with Sift.</p><p>The next sections will walk you through getting started with Sift.</p></div><div class="docs-partial apis-overview-send-data"><h1>Sending Data to Sift</h1><p> To use Sift, we need to know about the transactions and events on your website and/or mobile apps and 
what actions you take in response to them. This includes:</p><ul><li>How your users are interacting on your website and/or mobile apps (e.g., what pages 
they are visiting, which devices they are using, how long they spend on each page, etc). 
We automatically collect this data when you add our 
<span data-href="/javascript-api">JavaScript snippet</span> to your 
website and our <span data-href="/mobile-sdk/overview">Mobile SDKs</span> to your app. </li><li>What actions your users are taking, usually key user lifecycle events (e.g., creating an 
account, placing an order, posting content to other users, etc.). You will send this data 
from your application to Sift via our <span data-href="/events-api">REST API</span>.</li><li> What actions your business is taking in response to users (e.g., approve an order, block and event 
due to fraud, cancel order due to chargeback, etc). You will also send this data from your 
application to Sift via our <span data-href="/decisions-api">Decisions API</span>.</li></ul><p> Because Sift gets smarter the more data it has about your business, you can jump start your 
integration by <a href="/resources/tutorials/sending-historical-data">backfilling </a> 
a few months worth of historical data. </p><p>If you have any questions about what data to send to Sift, check our 
<a href="/resources/guides/">integration guides</a> for recommendations based on your type of 
business. If you have any other questions, don’t hesitate to contact us at 
<a href="mailto:support@sift.com">support@sift.com</a>.</p></div><div class="docs-partial apis-overview-scores"><h1>Get Started with Sift Scores</h1><p> Once you start sending data, Sift starts to make predictions about whether a user’s actions are 
legitimate or fraudulent. Sift represents this risk with a score between 0 and 100, where risky events 
have higher scores. Sift generates a unique score per type of fraud you're preventing 
(e.g., payment fraud, content abuse, etc.), so a user’s events could have a high score for one type 
of abuse and a low score for another.</p><p> Sift’s risk scores are generated in real-time in response to whatever data has been sent. 
As you send more data for an event, the predictions will become more accurate. Scores can 
both increase or decrease in response to new data. It all depends on whether the user is 
exhibiting legitimate or risky patterns. </p><p>You’ll use Sift risk scores to help you make decisions about your users’ actions at key lifecycle 
events (e.g., creating an account, placing an order, etc.). For example, whether you want to 
automatically block an order, send it to manual review or approve it, all these choices can 
be decided based on the Sift Score. Since all businesses are different, finding your unique 
score thresholds that achieve your business goals is key. Don’t hesitate to email 
<a href="mailto:support@sift.com">support@sift.com</a> if you need any help 
choosing the score thresholds that make sense for you.</p></div><div class="docs-partial apis-overview-build-logic"><h1>Build your Business Logic With Sift Scores</h1><p>The final step to using Sift is adding business logic that makes Decisions based 
on the Sift risk score. This step is so important because the real power of Sift 
is using machine learning to efficiently and accurately automate decisions in your business. </p><p> Here’s an example of using Sift to stop payments fraud. When an order is created by a user, 
the business checks the Sift Score:</p><ul><li>If the score is low, automatically approve the order.</li><li>If the score is high, automatically block the order and flag the user ID.</li><li>If the score is mid range, send the order to a review queue where an analyst can decide the best next step.</li></ul><p>To build this business logic, there are two different approaches that you can take. 
You should choose your approach based on your business needs. </p><h3>Create a Sift Workflow</h3><p>You can build your business logic on Sift with our Workflows Platform. Workflows let you set 
up criteria that get evaluated whenever specified events occur. For example, you can setup a 
Workflow that evaluates whenever a user creates an account. You can specify criteria (e.g., 
country = “Canada” &amp; Sift Score &gt; 80) that when met, Sift will auto-block, auto-accept, or send the user
ID to a Sift Review Queue for manual review. The configuration is all up to you, and logic can be 
updated by your fraud manager without any developer involvement. Learn more about setting up Sift 
<span data-href="/workflows-api">Workflows</span>.</p><h3>Create Business Logic Within Your App </h3><p>You can build your business logic within your application using Sift Scores. You can request 
Sift Scores <span data-href="/score-api/synchronous-scores">synchronously</span>  
each time you send an event. This will allow you to implement Sift Scores into your 
existing internal systems and manual review tools. Note, make sure to send all of the decisions 
from your system to Sift as Decision events.</p><p>For more information on building any of the above, check out our list of 
<a href="/resources/guides">vertical-specific tutorials</a>. They'll help you customize your Sift 
integration to fit your unique business needs. 
<a href="/developers/overview#client-libraries">Client libraries</a> are also available.</p></div><div class="docs-partial apis-overview-core-topics-overview"><h1>Overview</h1><p>The Core Topics section covers items that are generally applicable across 
Sift’s APIs and answers questions common developers have about integrating 
and using Sift.</p></div><div class="docs-partial apis-overview-core-topics-client-libraries"><h1>Client Libraries</h1><p>Sift provides client libraries in Python, Ruby, PHP and Java. They provide a wrapper for 
Sift’s APIs and will help with sending events and decisions or receiving scores.</p><p>Installation instructions can be found in the 
<a href="https://sift.com/resources/plugins/client-libraries">Client Libraries Tutorial</a> 
or in the respective Github repositories below:</p><ul class="api-fields"><li><div class="field">Python</div><div class="value wide"><a href="https://github.com/SiftScience/sift-python">https://github.com/SiftScience/sift-python</a></div></li><li><div class="field">Ruby</div><div class="value wide"><a href="https://github.com/SiftScience/sift-ruby">https://github.com/SiftScience/sift-ruby</a></div></li><li><div class="field">PHP</div><div class="value wide"><a href="https://github.com/SiftScience/sift-php">https://github.com/SiftScience/sift-php</a></div></li><li><div class="field">Java</div><div class="value wide"><a href="https://github.com/SiftScience/sift-java">https://github.com/SiftScience/sift-java</a></div></li></ul><div class="more-you-know"><h4><svg class="megaphone"><use xlink:href='/image/icons.svg#icon-megaphone'></use></svg>Note</h4><p>If you’re not seeing a client library in a language you use, please let us know what you’d 
like us to support via email: <a href="mailto:support@sift.com">support@sift.com</a>.</p></div></div><div class="docs-partial apis-overview-core-topics-authentication"><h1>Authentication</h1><p>Authentication is required for requests to Sift. Sift uses API Keys to
authenticate REST API requests, and a separate Beacon Key to authenticate events from our
SDKs.  Keys are available in two classes: production for your live site once you’ve
tested new parts of an integration, and 
<span data-href="/apis-overview/core-topics/sandbox">sandbox</span> 
for testing or getting started. </p><p>For greater security, you may also create a restricted API Key with 
specific permissions to your account data. A restricted key provides 
only permissions and access to data for an application that you permit, 
protecting the data that the application doesn’t need. For example, you 
may create a restricted key that grants only permission to retrieve Order 
data for the purposes of informing your Chargeback Management service. API 
Keys offer the ability to edit access to the following resources:</p><ul><li>Events API</li><li>Scores - Score and Rescore</li><li>Feedback - Labels and Decisions</li><li>Device Fingerprinting</li><li>Verifications API</li><li>Webhooks API</li><li>Retrieve Orders</li><li>Console widget API</li></ul><p>If a restricted key is no longer needed, or possibly compromised, access
to the key may be disabled or revoked at any time. You also have the ability
to edit the permissions of already existing keys.</p><p>Restricted keys are only intended to be used for applications which require
partial access to your Sift data, and should not be used for the standard Sift integration.</p><p> Keys can found within the Sift Console under 
<a href="https://console.sift.com/developer/api-keys">API Keys</a>.  
Detailed guidance for each API or SDK can found within their reference sections.</p><ul class="api-fields"><li class="header"><div class="field wide"><strong>Component</strong></div><div class="wide"><strong>Requirements</strong></div></li><li><div class="field wide">JS SDK, iOS SDK, and Android SDK</div><div class="wide">Authenticate with a 
<a href="https://console.sift.com/developer/api-keys">Beacon Key</a></div></li><li><div class="field wide">Events API, Score API</div><div class="wide">Authenticate with 
<a href="https://console.sift.com/developer/api-keys">API Keys</a></div></li><li><div class="field wide">Decisions API, Device Fingerprinting API</div><div class="wide">Authenticate with 
<a href="https://console.sift.com/developer/api-keys">API Keys</a> 
and the Account ID </div></li></ul><div class="more-you-know"><h4><svg class="megaphone"><use xlink:href='/image/icons.svg#icon-megaphone'></use></svg>Note</h4><p>When integrating Sift, it’s strongly recommended that you first test your changes by
sending all data to the 
<span data-href="/apis-overview/core-topics/sandbox">sandbox</span> 
console with your sandbox API Keys prior to sending
data with production API Keys. </p><p>For authenticating <span data-href="/decisions-api/decision-webhooks">Decision Webhooks</span> 
sent to your servers by Sift, you can configure a 
<a href="https://console.sift.com/developer/api-keys">Webhook Signature Key</a>.</p></div></div><div class="docs-partial apis-overview-core-topics-sandbox"><h1>Sandbox</h1><p> Sift recommends that developers utilize the sandbox environment when testing new 
elements of Sift. This sandbox environment allows you to send test events or client data 
to Sift without impacting the scores Sift produces in production. To get access to your 
sandbox keys, visit the 
<span data-href="https://console.sift.com/developer/api-keys">API Keys</span> section 
of the console Developer center and make sure you’ve selected sandbox mode. Selecting
sandbox mode will switch you to the sandbox view so you can see all your test data in
the console (e.g. Explore, Queues, Workflows, etc.). </p></div><div class="docs-partial apis-overview-core-topics-error-reference"><h1>Error Reference</h1><p>A successful API request will respond with an <code>HTTP 200</code>. An invalid API 
request will respond with an <code>HTTP 400</code>. The response body will be a JSON 
object describing why the request failed. If Sift’s servers are dealing with unexpected 
problems, you’ll get a <code>HTTP 500</code> response. A non-zero status indicates an error.</p><p>In the case that you’re using the <code>return_score</code> or 
<code>return_workflow_status</code> query parameter, you’ll also want to examine the 
<code>score</code> object within the response for failures.</p><h3>Possible Status Codes</h3><ul class="api-fields codes"><li><div class="field"><code>-4</code></div><div class="value-details">Service currently unavailable. Please try again later.</div></li><li><div class="field"><code>-3</code></div><div class="value-details">Server-side timeout processing request. Please try again later.</div></li><li><div class="field"><code>-2</code></div><div class="value-details">Unexpected server-side error</div></li><li><div class="field"><code>-1</code></div><div class="value-details">Unexpected server-side error</div></li><li><div class="field"><code>0</code></div><div class="value-details">Success</div></li><li><div class="field"><code>50</code></div><div class="value-details">Invalid Request</div></li><li><div class="field"><code>51</code></div><div class="value-details">Invalid API Key</div></li><li><div class="field"><code>52</code></div><div class="value-details">Invalid characters in field name</div></li><li><div class="field"><code>53</code></div><div class="value-details">Invalid characters in field value</div></li><li><div class="field"><code>54</code></div><div class="value-details">Specified user_id has no scoreable events</div></li><li><div class="field"><code>55</code></div><div class="value-details">Missing required field</div></li><li><div class="field"><code>56</code></div><div class="value-details">Invalid JSON in request</div></li><li><div class="field"><code>57</code></div><div class="value-details">Invalid HTTP body</div></li><li><div class="field"><code>58</code></div><div class="value-details">Invalid event: Event occurs in future</div></li><li><div class="field"><code>59</code></div><div class="value-details">$user_id not URI encoded</div></li><li><div class="field"><code>60</code></div><div class="value-details">Rate limited</div></li><li><div class="field"><code>61</code></div><div class="value-details">Account disabled</div></li><li><div class="field"><code>62</code></div><div class="value-details">Product not selected</div></li><li><div class="field"><code>63</code></div><div class="value-details">Invalid Credentials</div></li><li><div class="field"><code>100</code></div><div class="value-details">Required fields missing</div></li><li><div class="field"><code>102</code></div><div class="value-details">Parameter encoding failure</div></li><li><div class="field"><code>103</code></div><div class="value-details">No events for user found</div></li><li><div class="field"><code>104</code></div><div class="value-details">Invalid API version</div></li><li><div class="field"><code>105</code></div><div class="value-details">Not a valid reserved field</div></li><li><div class="field"><code>106</code></div><div class="value-details">Missing event specific fields (could reference the event)</div></li><li><div class="field"><code>107</code></div><div class="value-details">Score not ready for user</div></li><li><div class="field"><code>108</code></div><div class="value-details">No events for session</div></li><li><div class="field"><code>109</code></div><div class="value-details">Invalid parameter value</div></li><li><div class="field"><code>110</code></div><div class="value-details">Incorrect event sent to $transaction only account</div></li><li><div class="field"><code>111</code></div><div class="value-details">Feature disabled</div></li><li><div class="field"><code>112</code></div><div class="value-details">Abuse product disabled</div></li><li><div class="field"><code>113</code></div><div class="value-details">Conflicting fields selected</div></li><li><div class="field"><code>114</code></div><div class="value-details">Invalid event type</div></li><li><div class="field"><code>115</code></div><div class="value-details">Invalid abuse type requested</div></li><li><div class="field"><code>116</code></div><div class="value-details">Event cannot be processed due to legal restrictions</div></li><li><div class="field"><code>117</code></div><div class="value-details">List exceeds maximum size</div></li></ul></div><div class="docs-partial apis-overview-core-topics-changelog"><h1>Changelog</h1><p>This changelog tracks updates to Sift's APIs since February 2018. Detailed
 changelogs can also be found for our client libraries and SDKs in Github.</p><ul class="api-fields"><li class="header"><div class="field wide"><strong>Date</strong></div><div class="wide"><strong>Updates</strong></div></li><li><div class="field">December 2022</div><div class="value-details"><p><strong>API</strong>: Added fields <code>$wallet_address</code> and <code>$wallet_type</code> to <code>$payment_method</code> field.</p><br><p><strong>API</strong>: Added <code>$digital_order</code> complex field which should be used in <code>$create_order</code>,
<code>$update_order</code> and <code>$transaction</code> events.</p><br><p><strong>API</strong>: Added fields <code>$receiver_wallet_address</code> and <code>$receiver_external_address</code>
to <code>$transaction</code> event.</p></div></li><li><div class="field">November 2022</div><div class="value-details"><p><strong>API</strong>: Added <code>PSP Merchant Management API</code> to manage PSP Merchant summaries.</p></div></li><li><div class="field">April 2022</div><div class="value-details"><p><strong>API</strong>: Added <code>$merchant_profile</code> field to <code>$create_account</code>, <code>$chargeback</code>
and <code>$update_account</code> events.</p></div></li><li><div class="field">Oct 2021</div><div class="value-details"><p><strong>API</strong>: Added <code>$merchant_profile</code> complex field which should be used in <code>$create_order</code>,
<code>$update_order</code> and <code>$transaction</code> events.</p><br><p><strong>API</strong>: Added allowed values <code>$buy</code>, <code>$sell</code>, <code>$send</code>, and <code>$receive</code>
for <code>$transaction_type</code> field.</p><br><p><strong>API</strong>: Added allowed values <code>$sepa_credit</code>, <code>$sepa_instant_credit</code>,
<code>$sepa_direct_debit</code>, <code>$wire_credit</code>, <code>$wire_debit</code>, <code>$ach_credit</code>, and
<code>$ach_debit</code> for <code>$payment_type</code> field.</p><br><p><strong>API</strong>: Added fields <code>$status_3ds</code>, <code>$triggered_3ds</code>, <code>$merchant_initiated_transaction</code>,
<code>$sent_address</code>, and <code>$received_address</code> to <code>$transaction</code> event.</p><br><p><strong>API</strong>: Added fields <code>$shortened_iban_first6</code>, <code>$shortened_iban_last4</code>, <code>$sepa_direct_debit_mandate</code>,
<code>$account_holder_name</code>, <code>$account_number_last5</code>, <code>$bank_name</code>, and <code>$bank_country</code>
to <code>$payment_method</code> field.</p></div></li><li><div class="field">July 2021</div><div class="value-details"><p><strong>API</strong>: Added the <code>$shipping_tracking_numbers</code> field and marking
<code>$shipping_tracking_number</code> as "Deprecated" (which will later be removed)</p></div></li><li></li><li><div class="field">December 2020</div><div class="value-details"><p><strong>API</strong>: Changed the description of <code>$user_email</code> field for <code>$login</code> event</p></div></li><li></li><li><div class="field">September 2020</div><div class="value-details"><p> <strong>API</strong>: Added <code>$shipping_carrier</code> and <code>$shipping_tracking_number</code> fields
to <code>$create_order</code> and <code>$update_order</code> events.</p></div></li><li><div class="field">May 2020</div><div class="value-details"><p><strong>API</strong>: Added a new allowed value of <code>$apple</code> for <code>$social_sign_on_type</code> field.</p><br><p><strong>API</strong>: Added a new optional field <code>$decline_category</code> to <code>$transaction</code>
to map common decline reason codes to a set of standardized decline categories.</p></div></li><li><div class="field">April 2020</div><div class="value-details"><p> <strong>API</strong>: Changed required fields on <code>$chargeback</code> event. The <code>$user_id</code> field is now recommended
instead of required, and only one of <code>$order_id</code> or <code>$transaction_id</code> is required.</p></div></li><li><div class="field">February 2020</div><div class="value-details"><p><strong>API</strong>: Added more allowed values <code>$face</code>, <code>$fingerprint</code>, <code>push</code>, <code>security_key</code> to field
<code>$verification_type</code> in reserved event <code>$verification</code>.</p></div></li><li><div class="field">January 2020</div><div class="value-details"><p><strong>API</strong>: Added <code>$client_language</code> field to <code>$app</code> complex field.</p><br><p><strong>API</strong>: Added <code>$accept_language</code> and <code>$content_language</code> fields to <code>$browser</code> complex field.</p><br><p><strong>API</strong>: Added <code>$ordered_from</code> complex field which should be used in <code>$create_order</code>,
<code>$update_order</code> and <code>$transaction</code> events.</p><br><p><strong>API</strong>: Added <code>$site_country</code>, <code>$site_domain</code> and <code>$brand_name</code> fields to
custom events and all reserved events except <code>$chargeback</code>, <code>$link_session_to_user</code>, and <code>$flag_content</code>.</p></div><li></li><div class="field">August 2019</div><div class="value-details"><p><strong>API</strong>: Added <code>$booking</code>, <code>$segment</code>, and <code>$guest</code> complex fields to the following reserved events:
<code>$create_order</code> and <code>$update_order</code>.</p></div></li><li><div class="field">February 2019</div><div class="value-details"><p><strong>API</strong>: Added <code>$app</code> and <code>$browser</code> complex fields
 to the following reserved events: <code>$content_status</code>, <code>$order_status</code>,
 <code>$security_notification</code>, and <code>$verification</code>.</p><br><p><strong>API</strong>: Added <code>$update_password</code> event to capture user- and service- 
initiated password changes.</p><br><p><strong>API</strong>: Added <code>$account_types</code> field to <code>$login</code>, 
<code>$create_account</code> and <code>$update_account</code> events, to optimize for 
various types of user accounts.</p><br><p><strong>API</strong>: Added <code>$verified_event</code> and <code>$verified_entity_id</code> 
to the <code>$verification</code> event to track verifications triggered by most 
reserved events.</p><br><p><strong>API</strong>: Added <code>$reason</code> to <code>$verification</code> events to 
distinguish verifications that are always on from verifications triggered on risk.</p><br><p><strong>API</strong>: Added support for knowledge-based verifications through 
<code>$shared_knowledge</code> field in the <code>$verification</code> event.</p><br><p><strong>API</strong>: Added <code>$social_sign_on_type</code> to <code>$login</code> for use 
in ATO workflows; add reserved values for <code>$microsoft</code> and <code>$amazon</code> accounts.</p></div></li><li><div class="field">January 2019</div><div class="value-details"><p><strong>API</strong>: Changed references to Sift API calls in the developer
 docs to <code>api.sift.com</code>. Previous requests to <code>api3.siftscience.com</code>
 will still function, this will simplify the experience for Sift developers.</p><br><p><strong>API</strong>: Added support for <code>$failure_reason</code>, <code>$account_types</code>,
 <code>$username</code> and <code>$social_sign_on_type</code> to <code>$login</code> event.</p></div></li><li><div class="field">October 2018</div><div class="value-details"><p><strong>API</strong>: Added support for <span data-href="/score-api/rescore">Rescore User</span>
 and <span data-href="/score-api/get-score">Get User Score</span> APIs.</p><br><p><strong>API</strong>: Added <code>$app</code> and <code>$browser</code> complex fields
 to the following reserved events: <code>$add_item_to_cart</code>, <code>$add_promotion</code>,
 <code>$create_account</code>, <code>$create_content</code>, <code>$create_order</code>,
 <code>$logout</code>, <code>$remove_item_from_cart</code>, <code>$transaction</code>,
 <code>$update_account</code>, <code>$update_content</code> and custom events.</p></div></li><li><div class="field">June 2018</div><div class="value-details"><p><strong>API</strong>: Added support for retrieving the decision status of
 a session to <span data-href="/decisions-api">Decisions API</span>.</p></div></li><li><div class="field">March 2018</div><div class="value-details"><p><strong>API</strong>: Released Sift API Version 205, including major updates to
 <code>$create_content</code> and <code>$update_content</code>.</p><br><p><strong>API</strong>: Added support for content decisions to
 <span data-href="/decisions-api">Decisions API</span>.</p></div></li><li><div class="field">February 2018</div><div class="value-details"><p><strong>API</strong>: Added support for <code>$security_notification</code> event.</p><br><p><strong>API</strong>: Added support for applying decisions to sessions and retrieve
 the list of session-level decisions in <span data-href="/decisions-api">Decisions API</span>.</p></div></li></ul></div><div class="docs-partial apis-overview-core-topics-faq-tracking-users"><h1>Tracking User IDs and Sessions</h1><p>Sift uses 
<span data-href="/events-api/fields">user ID and session ID</span> 
to track user IDs and sessions respectively.  Both are important
for Sift to be able to understand the activity related to your user ID and it’s strongly 
recommended that these are sent whenever possible. A <code>$user_id</code> should be a field 
that the user cannot update (e.g. if they can change their email address, a different
unique identifier is recommended). </p><h3>Tracking Anonymous Actions</h3><p>You may have some periods of time when the <code>$user_id</code> is not apparent for a user – 
either because they have not logged in, or because you’re doing something like guest 
checkout where the <code>$user_id</code> has not been assigned yet. In those cases:</p><ul><li>In the Javascript Snippet, set <code>_user_id</code> to the empty string.</li><li>In the Mobile SDKs, call <code>setUserId</code> once the user has signed in.</li><li>In the REST API, for events that you do not need a score returned, set <code>$user_id</code>
to an empty string and set <code>$session_id</code> to match the value provided in the JavaScript 
snippet, if applicable. Events sent without a user ID will not be scored, and will not trigger
Workflows. Once the user has logged in or created an account, send a subsequent event, or a
<code>$link_session_to_user</code> event with the user ID set, and the same session ID.</li><li>In the REST API, for events that need a score returned, pass a different unique identifier 
in the <code>$user_id</code> field (e.g. email address or transaction ID).</li></ul></div><div class="docs-partial apis-overview-core-topics-faq-custom-events"><h1>Reserved and Custom Events</h1><p>When sending requests to the REST APIs, you can send both reserved and custom data. 
Reserved events and fields are events that Sift has defined, that Sift can do advanced 
analysis on. When possible, send the user actions taken on your site or app with 
reserved events or fields. Reserved events or fields are denoted by the <code>$</code> character 
prior to the event or field name (e.g. <code>$login</code> event or <code>$user_id</code> field). 
Each event accepts required, reserved, and custom fields. </p><h3>Custom Events and Fields </h3><p>Custom events are events you create to capture actions unique to your application. If 
there are key actions or attributes your users take that are not captured by our 
reserved events, send these as custom event or custom field. Custom events still require 
<code>$type</code>, <code>$api_key</code>, and the presence of <code>$user_id</code> or 
<code>$session_id</code>. </p><p> To learn more, see examples in the 
<span data-href="/events-api/custom-events">Custom Events and Fields</span> section.</p></div><div class="docs-partial apis-overview-core-topics-faq-backfilling"><h1>Backfilling</h1><p>When you’re first sending data to Sift, you may want to send critical historical data to Sift 
so there’s data available for our machine learning predictions. You’ll indicate an event is a 
historical event by sending with a <code>$time</code> in the past (using UNIX millis timestamp). 
You can then mark known fraudulent events through the Decisions API. </p><h3>Event Backfill Guidelines</h3><ul><li>Send the event with <code>$time</code> in millis.</li><li> You should send 6-12 months of key events (e.g. account, order, content) for all user IDs
(regardless of whether they’re known to be fraudulent or legitimate.) </li><li>Include as much historical data as you have available, including the user’s 
<code>$ip</code> if known. </li><li>Test in <span data-href="/apis-overview/core-topics/sandbox">sandbox</span> first before you 
send backfill data to production.</li><li>Be aware of <span data-href="apis-overview/core-topics/faq/rate-limits">rate limits</span> 
and build in retry logic.</li></ul><p> <strong>Note:</strong> While we use up to 12 months of historical data, users with activity older 
than 30 days will not show up in the console.</p><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $create_account event
{
  // Required for backfilling
  // UNIX timestamp in milliseconds as an integer
  "$time" : 1456274104243, // Feb 24 2016 00:35:04 UTC

  "$type"             : "$create_account",
  "$api_key"          : "YOUR_API_KEY",
  "$user_id"          : "billy_jones_301",
  "$user_email"       : "bill@gmail.com",
  "$name"             : "Bill Jones",
  "$phone"            : "1-415-555-6040",
  "$ip"               : "54.208.214.78"
}
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(:api_key => "YOUR_API_KEY")

# Sample $create_account event
properties = {
  # Required for backfilling
  # UNIX timestamp in milliseconds as an integer
  "$time" => 1456274104243, # Feb 24 2016 00:35:04 UTC

  "$user_id"          => "billy_jones_301",
  "$user_email"       => "bill@gmail.com",
  "$name"             => "Bill Jones",
  "$phone"            => "1-415-555-6040",
  "$ip"               => "54.208.214.78"
}

response = client.track("$create_account", properties)
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

# Sample $create_account event
properties = {
  # Required for backfilling
  # UNIX timestamp in milliseconds as an integer
  "$time" : 1456274104243, # Feb 24 2016 00:35:04 UTC

  "$user_id"          : "billy_jones_301",
  "$user_email"       : "bill@gmail.com",
  "$name"             : "Bill Jones",
  "$phone"            : "1-415-555-6040",
  "$ip"               : "54.208.214.78"
}

response = client.track("$create_account", properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

// Sample $create_account event
$properties = array(
  // Required for backfilling
  // UNIX timestamp in milliseconds as an integer
  '$time' => 1456274104243, // Feb 24 2016 00:35:04 UTC

  '$user_id'          => 'billy_jones_301',
  '$user_email'       => 'bill@gmail.com',
  '$name'             => 'Bill Jones',
  '$phone'            => '1-415-555-6040',  
  '$ip'               => '54.208.214.78'
);

$response = $client->track('$create_account', $properties);
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.EventRequest;

SiftClient client = new SiftClient("YOUR_API_KEY");
EventRequest request = client.buildRequest(new CreateAccountFieldSet()
        .setUserId("billy_jones_301")
        .setSessionId("gigtleqddo84l8cm15qe4il")
        .setUserEmail("bill@gmail.com")
        .setName("Bill Jones")
        .setIP("54.208.214.78")
        .setTime(1456274104243)

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div><h3>Decision Backfill Guidelines</h3><ul><li>After you have backfilled historical data, use the DECISIONS API to send Block category 
decisions for previously identified fraudulent user IDs. </li><li>Decision Source should either be <code>MANUAL_REVIEW</code>, or <code>CHARGEBACK</code> depending on 
how you identified the user ID as fraudulent. If you don’t know how the user ID was identified 
as fraudulent originally, set the source to <code>MANUAL_REVIEW</code>.</li></ul><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample Decision Event
// Requires that you configure a Decision with this ID first
// Decisions are configured in the Sift Console
// Decisions should be named based on your real business actions
{
  "decision_id"   : "ban_user_payment_abuse",
  "source"        : "MANUAL_REVIEW",
  "analyst"       : "analyst@example.com",
  "description"   : "backfill known fraud users",
  "time"          : 1456274104243, // Feb 24 2016 00:35:04 UTC
}
</pre><pre class="prettyprint lang ruby code-partial"># Sample Decision Event
# Requires that you configure a Decision with this ID first
# Decisions are configured in the Sift Console
# Decisions should be named based on your real business actions

require "sift"

client = Sift::Client.new(api_key: "{YOUR_API_KEY}", account_id: "accountId")

response = client.apply_decision({
  "decision_id"       => "ban_user_payment_abuse",
  "description"       => "backfill known bad users",
  "source"            =>"MANUAL_REVIEW",
  "analyst"           => "analyst@example.com",
  "user_id"           => "userId",
  "time"              => 1456274104243, # Feb 24 2016 00:35:04 UTC
})

if (!response.ok?)
  puts "Unable to apply decision: " + response.api_error_message
end
</pre><pre class="prettyprint lang python code-partial"># Sample Decision Event
# Requires that you configure a Decision with this ID first
# Decisions are configured in the Sift Console
# Decisions should be named based on your real business actions

import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

applyDecisionRequest = {
    'decision_id'   : 'user_looks_ok_payment_abuse',
    'source'        : 'MANUAL_REVIEW',
    'analyst'       : 'analyst@example.com',
    'description'   : 'backfill known bad users',
    'time'          : 1456274104243, # Feb 24 2016 00:35:04 UTC
}

response = client.apply_user_decision(user_id, applyDecisionRequest)
</pre><pre class="prettyprint lang php code-partial">// Sample Decision Event
// Requires that you configure a Decision with this ID first
// Decisions are configured in the Sift Console
// Decisions should be named based on your real business actions

require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

$options = array(
    'analyst'       => 'analyst@example.com',
    'description'   => 'backfill known bad users',
    'time'          =>  1456274104243
);

$response = $client->applyDecisionToUser('userId',
    'ban_user_payment_abuse',
    'MANUAL_REVIEW',
    'time',
    $options);
</pre><pre class="prettyprint lang java code-partial">// Sample Decision Event
// Requires that you configure a Decision with this ID first
// Decisions are configured in the Sift Console
// Decisions should be named based on your real business actions

import com.siftscience.SiftClient;
import com.siftscience.DecisionStatusResponse;
import com.siftscience.DecisionStatusRequest;
import com.siftscience.model.DecisionStatusFieldSet;

SiftClient client = new SiftClient("{YOUR_API_KEY}");
ApplyDecisionRequest request;
ApplyDecisionRequest request = client.buildRequest(
    new ApplyDecisionFieldSet()
        .setAccountId("accountId")
        .setUserId("userId")
        .setDecisionId("ban_user_payment_abuse")
        .setSource(DecisionSource.MANUAL_REVIEW)
        .setDescription("backfill known fraud users")
        .setAnalyst("analyst@example.com"))
        .setTime(1456274104243);

ApplyDecisionResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
}

DecisionLog decisionLog = response.getDecisionLog();</pre></div></div></div><div class="docs-partial apis-overview-core-topics-faq-rate-limits"><h1>Rate Limits</h1><p>Rate limit errors from Sift show up as <code>HTTP 400</code> or <code>HTTP 429</code> responses with 
status code 60. The default rate limits are below. If you need higher rate limits, please 
<a href="mailto:support@sift.com">contact support</a> for assistance on adjusting rate-
limits to the right level.</p><ul class="api-fields"><li class="header"><div class="wide"><strong>Sift API</strong></div><div class="wide"><strong>Rate Limit (requests/second)</strong></div></li><li><div class="field wide"><span data-href="/events-api">Events API</span></div><div class="wide">180 requests/second (and a per <code>$user_id</code> rate limit of 3 requests/second)</div></li><li><div class="field wide"><span data-href="/score-api/synchronous-scores">Events API with synchronous score calls (return_score or return_workflow_status)</span></div><div class="wide">20 requests/second</div></li><li><div class="field wide"><span data-href="/decisions-api">Decisions API</span></div><div class="wide">40 requests/second</div></li><li><div class="field wide"><span data-href="/decisions-api">Decisions API w/ applying Block category Decisions</span></div><div class="wide">20 requests/second</div></li><li><div class="field wide"><span data-href="/javascript-api">JavaScript Snippet</span></div><div class="wide">1000 requests/second</div></li><li><div class="field wide"><span data-href="/mobile-sdk">Mobile SDKs</span></div><div class="wide">180 requests/second</div></li><li><div class="field wide"><span data-href="/score-api">Score API</span></div><div class="wide">6 requests/second</div></li></ul></div><div class="docs-partial javascript-api-overview"><h1>Installing the JavaScript Snippet</h1><p>The JavaScript snippet tracks user interactions with your website and collects device information.</p><p><strong>Important:</strong> only include the JavaScript snippet when the page is accessed externally by a user of 
your website. If your internal tools offer a way to simulate logging into a user's account, 
for example to investigate a user or place a phone order, it is important that you do <strong>not</strong> 
include the JavaScript snippet in those cases so that we do not link your device and 
IP address with the user.</p><h3>Install the JavaScript Snippet</h3><ol><li>Insert this JavaScript snippet onto your webpage, just after the opening <code>&lt;body&gt;</code> tag:<div class="code-container-container"><div class="code-container"><pre class="prettyprint lang javascript nolang code-partial">&lt;script type="text/javascript"&gt;
  var _user_id = 'al_capone'; // Set to the user's ID, username, or email address, or '' if not yet known.
  var _session_id = 'unique_session_id'; // Set to a unique session ID for the visitor's current browsing session.

  var _sift = window._sift = window._sift || [];
  _sift.push(['_setAccount', 'INSERT_BEACON_KEY_HERE']);
  _sift.push(['_setUserId', _user_id]);
  _sift.push(['_setSessionId', _session_id]);
  _sift.push(['_trackPageview']);

 (function() {
   function ls() {
     var e = document.createElement('script');
     e.src = 'https://cdn.sift.com/s.js';
     document.body.appendChild(e);
   }
   if (window.attachEvent) {
     window.attachEvent('onload', ls);
   } else {
     window.addEventListener('load', ls, false);
   }
 })();
&lt;/script&gt;
</pre></div></div></li><li>Change the parameter to <code>_setAccount</code> above to your JavaScript Snippet key.</li><li>Set <code>_session_id</code> to a string that identifies a unique session ID for the visitor's current 
browsing session.</li><li>Set <code>_user_id</code> to a string that identifies the user, e.g. a user ID, username, or email address. 
(Leave <code>user_id</code> blank if you do not yet know the ID of the user.). This user ID should be 
consistent with <code>$user_id</code> in your <span data-href='/events-api'>Events API</span> requests.</li><li>If you have a single-page app, see our
<a href='https://support.sift.com/hc/en-us/articles/208370598'>help article</a>.</li></ol><br><h5>Notes</h5><ul><li>To minimize download latency, we've hosted these files on
<a href='http://aws.amazon.com/cloudfront/', target='_blank'>Amazon Cloudfront</a>. 
To minimize page load delay, this code executes as asynchronously as possible, yielding several times.</li><li>This code will set a long-lived cookie (four years) named <code>__ssid</code> on your domain, also known as a 
first-party cookie. We only use this to identify unique visitors. You can optionally set the domain for the 
cookie via another JavaScript parameter <code>_setCookieDomain</code>, 
<code>_sift.push(['_setCookieDomain','subdomain.foo.com'</code>);]</li></ul></div><div class="docs-partial mobile-sdk-overview"><h1>Mobile SDK Overview</h1><p>The Sift Mobile SDKs collect and send device information and app life cycle events to Sift.</p><p>Broadly, the Mobile SDKs are the analogue to the Sift JavaScript snippet.
Just like the JavaScript snippet allows Sift to collect a range of browser properties
and client-side user actions, the Mobile SDKs allow mobile applications to collect 
and send device properties and application lifecycle events to Sift. These events are
the foundational data that drives machine learning at Sift.</p><p>The Mobile SDKs operate at high performance and are designed to be simple, robust
and easy to integrate. Performance optimizations that reduce end-user impact include
batching, compression, deduplication, archiving, and many other techniques detailed
in&nbsp;
<a href="engineering.sift.com/tips-building-high-performance-tracking-sdks-ios/">this blog post</a>.</p><p><strong>iOS SDK</strong> – Integrate the <span data-href="/mobile-sdk/ios">iOS SDK</span> 
into your mobile application.</p><p><strong>Android SDK</strong> – Integrate the <span data-href="/mobile-sdk/android">Android SDK</span> 
into your mobile application.</p></div><div class="docs-partial mobile-sdk-ios"><h1>iOS SDK</h1><h2>Installing the library</h2><p>The SDK can be installed through either 
<a href="http://cocoapods.org" target="_blank">CocoaPods</a> or 
<a href="https://github.com/Carthage/Carthage" target="_blank">Carthage</a>.</p><h3>CocoaPods:</h3><ul><li>Add this to your Podfile: <code>pod 'Sift'</code> (this uses the latest version).</li><li>Run <code>pod install</code>.</li></ul><h3>Carthage:</h3><ul><li>Add this to your Cartfile: <code>github "SiftScience/sift-ios"</code> (this uses 
the latest version)</li><li>Run <code>carthage update</code>.</li></ul><h2>Configuration & Set Up:</h2><p>At a bare minimum, configuring your use of the Sift iOS SDK requires passing in 
your account id and beacon key. Your account id is retrievable by your 
account's admin in your <a href="/console/account/profile">profile section</a>.&nbsp;
The beacon key is the same key that is used in your Sift JS Snippet, and can be 
found in the <a href="/console/developer/api-keys">developer section</a>. Note 
in particular that this key is not considered secret; a sophisticated bad 
actor could recover this key from your app, or from the JS beacon, and use it 
to submit mobile events.</p><ol><li>Initialize the Sift instance<h6>Objective-C</h6><p>The SDK works in the background, so you have to initialize it when your 
app starts. It usually makes most sense to initialize the SDK in 
<code>application:didFinishLaunchingWithOptions</code>.</p><p>Here is an example of what you would do within <code>AppDelegate.m</code>:</p><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang c nolang code-partial">#import "Sift/Sift.h"</pre></div></div><p>Add the <code>application:didFinishLaunchingWithOptions</code> instance method 
if it doesn't exist, and insert this code snippet (replacing the placeholder 
strings with your Sift account credentials):</p><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang c nolang code-partial">Sift *sift = [Sift sharedInstance];
[sift setAccountId:@"YOUR_ACCOUNT_ID"];
[sift setBeaconKey:@"YOUR_JAVASCRIPT_SNIPPET_KEY"];</pre></div></div><h6>Swift</h6><p>Import the Sift framework via CocoaPods or Carthage as described above. 
Create a <a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/BuildingCocoaApps/MixandMatch.html">bridging header</a> and 
add it to <strong>Build Settings > Swift Compiler - General > Objective-C Bridging Header</strong>.</p><p>Add the following code snippet to your <code>AppDelegate.swift</code> file 
(replacing the placeholder strings with your Sift account credentials):</p><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang c nolang code-partial">let sift = Sift.sharedInstance
sift().accountId = "YOUR_ACCOUNT_ID"
sift().beaconKey = "YOUR_JAVASCRIPT_SNIPPET_KEY"
// Set the user ID once it is available
sift().userId = "USER_ID_GOES_HERE"</pre></div></div></li><li>(Recommended) If your app does not use motion sensors (accelerometer, gyro, and 
magnetometer), add the following to the configuration block above: 
<code>[sift setAllowUsingMotionSensors:YES</code>;]. This enables the SDK to collect 
motion data in the background.</li><li>If your app uses user location data but you do not want to send it to Sift, add the
following to the configuration block above: 
<code>[sift setDisallowCollectingLocationData:YES</code>;].</li><li>Set the user ID for the user, this allows us to associate mobile data with data 
sent via Sift’s Rest API and Javascript. When the user ID is available (for example,
when user has just logged in), please set the user ID:<div class="code-container-container"><div class="code-container"><pre class="prettyprint lang c nolang code-partial">[[Sift sharedInstance] setUserId:@"USER_ID"];</pre></div></div></li><li>(Recommended) Add the following to your application’s Info.plist file. This change 
allows us to detect whether or not Cydia is installed. This step is optional, but 
highly recommended.<div class="code-container-container"><div class="code-container"><pre class="prettyprint lang c nolang code-partial">&lt;key&gt;LSApplicationQueriesSchemes&lt;/key&gt;
&lt;array&gt;
 &lt;string&gt;cydia&lt;/string&gt;
&lt;/array&gt;</pre></div></div></li></ol></div><div class="docs-partial mobile-sdk-android"><h1>Android SDK</h1><h2>Installing the library</h2><p>Add the 
<a href="https://github.com/SiftScience/sift-android/releases/latest" target="_blank">latest version</a> 
of the Sift SDK to your application's <code>build.gradle</code> file:</p><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl java nolang code-partial">dependencies {
  ...
  compile 'com.siftscience:sift-android:VERSION'
  ...
}</pre></div></div><p>If your application uses Google Play Services, you will need to configure your 
<code>build.gradle</code> file to fix its dependency version:</p><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl java nolang code-partial">compile 'com.google.android.gms:play-services-location:YOUR_GMS_VERSION'</pre></div></div><p>You may also need to add the following <code>packagingOptions</code> to the 
main <code>android</code> block:</p><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl java nolang code-partial">android {
  ...
  packagingOptions {
    exclude 'META-INF/DEPENDENCIES.txt'
    exclude 'META-INF/LICENSE.txt'
    exclude 'META-INF/NOTICE.txt'
    exclude 'META-INF/NOTICE'
    exclude 'META-INF/LICENSE'
    exclude 'META-INF/DEPENDENCIES'
    exclude 'META-INF/notice.txt'
    exclude 'META-INF/license.txt'
    exclude 'META-INF/dependencies.txt'
    exclude 'META-INF/LGPL2.1'
  }
  ...
}
</pre></div></div><h2>Integration</h2><p>There are two different integration paths to take for incorporating Sift into your 
application. </p><p> The first one will be detailed below in the 
<span data-href="/mobile-sdk/android#application-integration">Application Integration</span> 
section. Follow these instructions if your application flow is primarily based on
Activities.</p><p>If your application flow is based on a combination of Activities and Fragments, 
please refer to the 
<span data-href="/mobile-sdk/android#custom-integration">Custom Integration</span> section.</p><a class="page-anchor" name="application-integration" style="position: relative;"></a><br><h3>Application Integration</h3><p><strong>Add Sift to your Application file</strong></p><p>Create an Application file if you haven’t already. Create an internal class that implements 
the <code>ActivityLifecycleCallbacks</code> interface and register Sift as shown below:</p><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl java nolang code-partial">import siftscience.android.Sift;

public class App extends Application {
    @Override
    public void onCreate() {
        super.onCreate();
        registerActivityLifecycleCallbacks(new ActivityLifecycleCallbacksHandler());
    }

    private static final class ActivityLifecycleCallbacksHandler
            implements ActivityLifecycleCallbacks {
        public void onActivityCreated(Activity activity, Bundle bundle) {
            Sift.open(activity, new Sift.Config.Builder()
                .withAccountId("YOUR_ACCOUNT_ID")
                .withBeaconKey("YOUR_BEACON_KEY")
                // Uncomment to disallow location collection
                // .withDisallowLocationCollection(true)
                .build());
            Sift.collect();
        }
        public void onActivityPaused(Activity activity) {
            Sift.pause();
        }
        public void onActivityResumed(Activity activity) {
            Sift.resume(activity);
        }
        public void onActivityDestroyed(Activity activity) {
            Sift.close();
        }
    }
}</pre></div></div><p><strong>Set the user ID</strong></p><p>As soon as your application is aware of the user ID, set it on the Sift instance using 
the code below. All subsequent events will be associated with that user ID.</p><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl java nolang code-partial">Sift.setUserId("SOME_USER_ID");</pre></div></div><p>If the user logs out of your application or their session ends, you should unset the 
user ID:</p><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl java nolang code-partial">Sift.unsetUserId();</pre></div></div><a class="page-anchor" name="custom-integration" style="position: relative;"></a><br><h3>Custom Integration</h3><p><strong>Initialize Sift in your main Activity</strong></p><p>Configure the Sift object in the <code>onCreate</code> method of your application's main Activity 
(the one that begins the application). If the user ID is known at this point, you 
can set it here. Otherwise, you should set it as soon as it is known. In the main Activity, 
also override <code>onPause</code>, <code>onResume</code>, and <code>onDestroy</code> as shown:</p><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl java nolang code-partial">import siftscience.android.Sift;

public class MainActivity extends AppCompatActivity {
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_hello_sift);
        Sift.open(this, new Sift.Config.Builder()
            .withAccountId("YOUR_ACCOUNT_ID")
            .withBeaconKey("YOUR_BEACON_KEY")
            // Uncomment to disallow location collection
            // .withDisallowLocationCollection(true)
            .build());
        Sift.collect();
    }
    @Override
    protected void onPause() {
        super.onPause();
        Sift.pause();
    }
    @Override
    protected void onResume() {
        super.onResume();
        Sift.resume(this);
    }
    @Override
    protected void onDestroy() {
        super.onDestroy();
        Sift.close();
    }
}</pre></div></div><p><strong>Add Sift to your application flow</strong></p><p>For each Activity or Fragment that represents a unique page in your application 
flow, override <code>onStart</code>, <code>onPause</code>, <code>onResume</code>, and <code>onDestroy</code>:</p><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl java nolang code-partial">public class OtherActivity extends AppCompatActivity {
    @Override
    protected void onStart(Bundle savedInstanceState) {
        super.onStart();
        Sift.open(this);
        // For Fragments, use Sift.open(this.getActivity()) instead
        Sift.collect();
    }
    @Override
    protected void onPause() {
        super.onPause();
        Sift.save();
    }
    @Override
    protected void onResume() {
        super.onResume();
        // For Fragments, use Sift.open(this.getActivity()) instead
        Sift.resume(this);
    }
    @Override
    protected void onDestroy() {
        super.onDestroy();
        Sift.close();
    }
}</pre></div></div><p><strong>Set the user ID</strong></p><p>As soon as your application is aware of the user ID, set it on the Sift instance using 
the code below. All subsequent events will be associated with that user ID.</p><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl java nolang code-partial">Sift.setUserId("SOME_USER_ID");</pre></div></div><p>If the user logs out of your application or their session ends, you should unset the 
user ID:</p><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl java nolang code-partial">Sift.unsetUserId();</pre></div></div></div><div class="docs-partial events-api-overview"><h1>Events API Reference</h1><p>Use the Events API to record the core actions users take in your application. The more detail 
we capture about user behaviors, the better we can distinguish between fraudulent and legitimate events. 
We have two types of events:</p><ul><li><strong>Reserved events</strong> are events are sent in a standard format, allowing us to do lots of advanced analysis 
on the values sent. When possible, model the actions users take on your site or app with reserved events.</li><li><strong>Custom events</strong> are events you create to capture actions unique to your application. If there are key 
actions most of your users take that are not captured by our reserved events, send these as custom event.</li></ul><p>Each event has fields that provide details.</p><ul><li>Each event accepts required, reserved, and 
<a href="/resources/tutorials/custom-events-and-fields">custom fields</a>.</li><li>Some fields are of type <span data-href="/events-api/complex-field-types">object or object list</span>.</li></ul><h3>Events API Endpoint</h3><p>Sift's Events API accepts event data as a <code>JSON</code> request body via a <code>HTTP POST</code> request at 
this endpoint:</p><p><code>https://api.sift.com/v205/events</code></p><p>Every event must contain your <code>$api_key</code>, the event <code>$type</code>, and a <code>$user_id</code> (if this is not 
available, you can alternatively provide a <code>$session_id</code>). Make sure to look at our  
<span data-href="/events-api/error-codes">error codes</span>.</p><div class="more-you-know"><h4><svg class="megaphone"><use xlink:href='/image/icons.svg#icon-megaphone'></use></svg>Note</h4><p>To receive information whether the event is a bot activity, send the parameter <code>fields=bot_detection</code>
in the above request url. Bot Management should be enabled to receive bot related information.</p></div></div><div class="docs-partial events-api-reserved-events-add-item-to-cart"><div><h1>$add_item_to_cart</h1><p>Use <code>$add_item_to_cart</code> to record when a user adds an item to their shopping cart or list.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$add_item_to_cart"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$session_id</div><div class="value-details"><em>required if no User ID is provided</em><strong> &middot; String</strong><p>The user's current session ID, used to tie a user's action before and after log in or account creation.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em> send if known </em><strong> &middot; String</strong><p>The user's account ID according to your systems. Note: User IDs are <em>case sensitive</em>.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$item</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/item">Item</span></strong><p>The product item added to cart.
Required subfields are <code>$item_id</code>, <code>$product_title</code>, and <code>
$price</code>. The <code>$quantity</code> is specified as a subfield.</p></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is used to add the item to cart. Represented by the <code>$browser</code> object.
 Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is used to add the item to cart. Represented by the <code>$app</code> object.
 Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$user_email</div><div class="value-details"><strong> String</strong><p>Email of the user logging in. Note: If the user's email is also their account ID in your
system, set <strong>both</strong> the <code>$user_id</code> and <code>$user_email</code> fields to their
email address.</p></div></li><li><div class="field">$verification_phone_number</div><div class="value-details"><strong> String</strong><p>Phone number of the user. This phone number will be used to send One-Time Password (OTP) when required.
The phone number should be in E.164 format including <code>+</code> and a country code.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $add_item_to_cart event
{
  // Required Fields
  "$type"       : "$add_item_to_cart",
  "$api_key"           : "YOUR_API_KEY",
  "$user_id"           : "billy_jones_301",

  // Supported Fields
  "$session_id" : "gigtleqddo84l8cm15qe4il",
  "$item"       : {
    "$item_id"        : "B004834GQO",
    "$product_title"  : "The Slanket Blanket-Texas Tea",
    "$price"          : 39990000, // $39.99
    "$currency_code"  : "USD",
    "$upc"            : "6786211451001",
    "$sku"            : "004834GQ",
    "$brand"          : "Slanket",
    "$manufacturer"   : "Slanket",
    "$category"       : "Blankets & Throws",
    "$tags"           : ["Awesome", "Wintertime specials"],
    "$color"          : "Texas Tea",
    "$quantity"       : 16
  },
  "$brand_name"                : "sift",
  "$site_domain"               : "sift.com",
  "$site_country"              : "US",
  "$user_email"                : "billjones1@example.com",
  "$verification_phone_number" : "+123456789012",

  // Send this information from a BROWSER client.
  "$browser"        : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  // =========================================

  // Send this information from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

# Sample $add_item_to_cart event
properties = {
  # Required Fields
  "$user_id"           : "billy_jones_301",

  # Supported Fields
  "$session_id" : "gigtleqddo84l8cm15qe4il",
  "$item"       : {
    "$item_id"        : "B004834GQO",
    "$product_title"  : "The Slanket Blanket-Texas Tea",
    "$price"          : 39990000, # $39.99
    "$currency_code"  : "USD",
    "$upc"            : "6786211451001",
    "$sku"            : "004834GQ",
    "$brand"          : "Slanket",
    "$manufacturer"   : "Slanket",
    "$category"       : "Blankets & Throws",
    "$tags"           : ["Awesome", "Wintertime specials"],
    "$color"          : "Texas Tea",
    "$quantity"       : 16
  },
  "$brand_name"   : "sift",
  "$site_domain"  : "sift.com",
  "$site_country" : "US",
  # Send this information from a BROWSER client.
  "$browser"      : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        : {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}

response = client.track("$add_item_to_cart", properties)
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(:api_key => "YOUR_API_KEY")

# Sample $add_item_to_cart event
properties = {
  # Required Fields
  "$user_id"           => "billy_jones_301",

  # Supported Fields
  "$session_id" => "gigtleqddo84l8cm15qe4il",
  "$item"       => {
    "$item_id"        => "B004834GQO",
    "$product_title"  => "The Slanket Blanket-Texas Tea",
    "$price"          => 39990000, # $39.99
    "$currency_code"  => "USD",
    "$upc"            => "6786211451001",
    "$sku"            => "004834GQ",
    "$brand"          => "Slanket",
    "$manufacturer"   => "Slanket",
    "$category"       => "Blankets & Throws",
    "$tags"           => ["Awesome", "Wintertime specials"],
    "$color"          => "Texas Tea",
    "$quantity"       => 16
  },
  "$brand_name"   => "sift",
  "$site_domain"  => "sift.com",
  "$site_country" => "US",
  # Send this information from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$add_item_to_cart", properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

// Sample $add_item_to_cart event
$properties = array(
  // Required Fields
  '$user_id'           => 'billy_jones_301',

  // Supported Fields
  '$session_id' => 'gigtleqddo84l8cm15qe4il',
  '$item'       => array(
    '$item_id'        => 'B004834GQO',
    '$product_title'  => 'The Slanket Blanket-Texas Tea',
    '$price'          => 39990000, // $39.99
    '$currency_code'  => 'USD',
    '$upc'            => '6786211451001',
    '$sku'            => '004834GQ',
    '$brand'          => 'Slanket',
    '$manufacturer'   => 'Slanket',
    '$category'       => 'Blankets & Throws',
    '$tags'           => array('Awesome', 'Wintertime specials'),
    '$color'          => 'Texas Tea',
    '$quantity'       => 16
  ),
  '$brand_name'   => 'sift',
  '$site_domain'  => 'sift.com',
  '$site_country' => 'US',
  // Send this information from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information an APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track('$add_item_to_cart', $properties);
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.model.AddItemToCartFieldSet;
import com.siftscience.model.Item;

// Sample $add_item_to_cart event
SiftClient client = new SiftClient("YOUR_API_KEY");
EventRequest request = client.buildRequest(new AddItemToCartFieldSet()
        // Required Fields
        .setUserId("billy_jones_301")
        // Supported Fields
        .setSessionId("gigtleqddo84l8cm15qe4il")
        .setItem(new Item()
                .setItemId("B004834GQO")
                .setProductTitle("The Slanket Blanket-Texas Tea")
                .setPrice(39990000L)
                .setUpc("6786211451001")
                .setSku("004834GQ")
                .setBrand("Slanket")
                .setManufacturer("Slanket")
                .setCategory("Blankets & Throws")
                .setTags(Arrays.asList("Awesome", "Wintertime specials"))
                .setQuantity(16L)));
        .setBrandName("sift")
        .setSiteDomain("sift.com")
        .setSiteCountry("US")
        // Send this information from a BROWSER client.
        .setBrowser(new Browser()
                .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
                .setAcceptLanguage("en-US")
                .setContentLanguage("en-GB"))

        // =========================================

        // Send this information from an APP client.
        .setApp(new App()
                // Example for the iOS Calculator app.
                .setOperatingSystem("iOS")
                .setOperatingSystemVersion("10.1.3")
                .setDeviceManufacturer("Apple")
                .setDeviceModel("iPhone 4,2")
                .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
                .setAppName("Calculator")
                .setAppVersion("3.2.7")
                .setClientLanguage("en-US")));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-add-promotion"><div><h1>$add_promotion</h1><p>Use <code>$add_promotion</code> to record when a user adds one or more promotions to their account.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$add_promotion"</code></p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's account ID according to your systems. Note: User IDs are <em>case sensitive</em>.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$promotions</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/promotion">Array of Promotions</span></strong><p>Contains all promotions that have been newly applied to the referenced user.</p></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is used to add the promotion. Represented by the <code>$browser</code> object.
 Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is used to add the promotion. Represented by the <code>$app</code> object.
 Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$user_email</div><div class="value-details"><strong> String</strong><p>Email of the user logging in. Note: If the user's email is also their account ID in your
system, set <strong>both</strong> the <code>$user_id</code> and <code>$user_email</code> fields to their
email address.</p></div></li><li><div class="field">$verification_phone_number</div><div class="value-details"><strong> String</strong><p>Phone number of the user. This phone number will be used to send One-Time Password (OTP) when required.
The phone number should be in E.164 format including <code>+</code> and a country code.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $add_promotion event
{
  // Required fields.
  "$type"       : "$add_promotion",
  "$api_key"    : "YOUR_API_KEY",
  "$user_id"    : "billy_jones_301",

  // Supported fields.
  "$user_email"                : "billjones1@example.com",
  "$verification_phone_number" : "+123456789012",

  "$promotions" : [
    // Example of a promotion for monetary discounts off good or services
    {
      "$promotion_id"     : "NewRideDiscountMay2016",
      "$status"           : "$success",
      "$description"      : "$5 off your first 5 rides",
      "$referrer_user_id" : "elon-m93903",
      "$discount"         : {
        "$amount"         : 5000000,  // $5
        "$currency_code"  : "USD"
      }
  }
  ],

  // Send this information from a BROWSER client.
  "$browser"        : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  // =========================================

  // Send this information from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

# Sample $add_promotion event
properties = {
  # Required fields.
  "$user_id"    : "billy_jones_301",

  # Supported fields.
  "$promotions" : [
    # Example of a promotion for monetary discounts off good or services
    {
      "$promotion_id"     : "NewRideDiscountMay2016",
      "$status"           : "$success",
      "$description"      : "$5 off your first 5 rides",
      "$referrer_user_id" : "elon-m93903",
      "$discount"         : {
        "$amount"         : 5000000,  # $5
        "$currency_code"  : "USD"
      }
  }
  ],

  # Send this information from a BROWSER client.
  "$browser"      : {
    "$user_agent" :  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        : {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}

response = client.track("$add_promotion", properties)
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(:api_key => "YOUR_API_KEY")

# Sample $add_promotion event
properties = {
  # Required fields.
  "$user_id"    => "billy_jones_301",

  # Supported fields.
  "$promotions" => [
    # Example of a promotion for monetary discounts off good or services
    {
      "$promotion_id"     => "NewRideDiscountMay2016",
      "$status"           => "$success",
      "$description"      => "$5 off your first 5 rides",
      "$referrer_user_id" => "elon-m93903",
      "$discount"         => {
        "$amount"         => 5000000,  # $5
        "$currency_code"  => "USD"
      }
  }
  ],

  # Send this information from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$add_promotion", properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

// Sample $add_promotion event
$properties = array(
  // Required fields.
  '$user_id'    => 'billy_jones_301',

  // Supported fields.
  '$promotions' => array(
    // Example of a promotion for monetary discounts off good or services
    array(
      '$promotion_id'     => 'NewRideDiscountMay2016',
      '$status'           => '$success',
      '$description'      => '$5 off your first 5 rides',
      '$referrer_user_id' => 'elon-m93903',
      '$discount'         => array(
        '$amount'         => 5000000,  // $5
        '$currency_code'  => 'USD'
      )
    )
  ),

  // Send this information from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information an APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track('$add_promotion', $properties);
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.model.AddPromotionFieldSet;
import com.siftscience.model.Discount;
import com.siftscience.model.Promotion;

// Sample $add_promotion event
SiftClient client = new SiftClient("YOUR_API_KEY");
EventRequest request = client.buildRequest(new AddPromotionFieldSet()
        // Required Fields
        .setUserId("billy_jones_301")

        // Supported Fields
        .setPromotions(Arrays.asList(new Promotion()
                .setPromotionId("NewRideDiscountMay2016")
                .setStatus("$success")
                .setDescription("$5 off your first 5 rides")
                .setReferrerUserId("elon-m93903")
                .setDiscount(new Discount()
                        .setAmount(5000000L)
                        .setCurrencyCode("USD")
                        .setMinimumPurchaseAmount(25000000L))))
        // Send this information from a BROWSER client.
        .setBrowser(new Browser()
                .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
                .setAcceptLanguage("en-US")
                .setContentLanguage("en-GB"))

        // =========================================

        // Send this information from an APP client.
        .setApp(new App()
                // Example for the iOS Calculator app.
                .setOperatingSystem("iOS")
                .setOperatingSystemVersion("10.1.3")
                .setDeviceManufacturer("Apple")
                .setDeviceModel("iPhone 4,2")
                .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
                .setAppName("Calculator")
                .setAppVersion("3.2.7")
                .setClientLanguage("en-US")));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-chargeback"><div><h1>$chargeback</h1><p>Use <code>$chargeback</code> to capture a chargeback reported on a transaction. This event can be called
multiple times to record changes to the chargeback state.</p><p><strong>Note:</strong><ul><li> When you send a <code>$chargeback</code> event you also need to send a
 <span data-href="/decisions-api/overview">Decision event</span> with a source of CHARGEBACK if you want
 to prevent the user from making another purchase.</li><li>It is recommended that you send both <code>$order_id</code> and <code>$transaction_id</code> to
link the chargeback to the associated user and order. However, only one of those fields is required to be sent in the call
(i.e. if <code>$order_id</code> is present, <code>$transaction_id</code> need not be sent and vice versa).</li></ul></p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$chargeback"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$order_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The ID for the order that this chargeback is filed against.</p><p>Note: Optional if the <code>$transaction_id</code> is present. This field is not required if this chargeback
was filed against a transaction with no <code>$order_id</code>.</p></div></li><li><div class="field">$transaction_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The ID for the transaction that this chargeback is filed against.</p><p>Note: Optional if <code>$order_id</code> is present.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><strong>String</strong><p>The user's account ID according to your systems. Recommended for better chargeback matching.
Note that user IDs are <em>case sensitive</em>.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$chargeback_state</div><div class="value-details"><strong>String</strong><p>The current state of the chargeback.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li class="inline"><code>"$received"</code> <code>"$accepted"</code> <code>"$disputed"</code> <code>"$won"</code> <code>"$lost"</code></li></ul></div></li><li><div class="field">$chargeback_reason</div><div class="value-details"><strong> String</strong><p>This field can be used to capture the reason given.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li class="inline"><code>"$fraud"</code> <code>"$duplicate"</code> <code>"$product_not_received"</code> <code>"$product_unacceptable"</code> <code>"$other"</code> <code>"$authorization"</code> <code>"$consumer_disputes"</code> <code>"$processing_errors"</code> <code>"$cancel_subscription"</code> <code>"$friendly_fraud"</code> <code>"$ach_return"</code> <code>"$ach_reversal"</code></li></ul></div></li><li><div class="field">$merchant_profile</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/merchant-profile">Merchant Profile</span></strong><p>The details about the merchant or seller providing the goods or service.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$ach_return_code</div><div class="value-details"><strong>String</strong><p>The code returned, as defined by NACHA, which identifies the reason for return. Standard format begins with 'R' followed by a two digit number.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $chargeback event
{
  // Required Fields
  "$type"              : "$chargeback",
  "$api_key"           : "YOUR_API_KEY",
  "$order_id"          : "ORDER-123124124",
  "$transaction_id"    : "719637215",

  // Recommended Fields
  "$user_id"           : "billy_jones_301",
  "$chargeback_state"  : "$lost",
  "$chargeback_reason" : "$duplicate"
}
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

# Sample $chargeback event
properties = {
  # Required Fields
  "$order_id"          : "ORDER-123124124",
  "$transaction_id"    : "719637215",

  # Recommended Fields
  "$user_id"           : "billy_jones_301",
  "$chargeback_state"  : "$lost",
  "$chargeback_reason" : "$duplicate"
}

response = client.track("$chargeback", properties)
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(:api_key => "YOUR_API_KEY")

# Sample $chargeback event
properties = {
  # Required Fields
  "$order_id"          => "ORDER-123124124",
  "$transaction_id"    => "719637215",

  # Recommended Fields
  "$user_id"           => "billy_jones_301",
  "$chargeback_state"  => "$lost",
  "$chargeback_reason" => "$duplicate"
}

response = client.track("$chargeback", properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

// Sample $chargeback event
$properties = array(
  // Required Fields
  '$order_id'          => 'ORDER-123124124',
  '$transaction_id'    => '719637215',

  // Recommended Fields
  '$user_id'           => 'billy_jones_301',
  '$chargeback_state'  => '$lost',
  '$chargeback_reason' => '$duplicate'
);

$response = $client->track('$chargeback', $properties);
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.model.ChargebackFieldSet;

// Sample $chargeback event
SiftClient client = new SiftClient("YOUR_API_KEY");
EventRequest request = client.buildRequest(new ChargebackFieldSet()
        // Required Fields
        .setOrderId("ORDER-123124124")
        .setTransactionId("719637215")
        // Recommended Fields
        .setUserId("billy_jones_301")
        .setChargebackState("$lost")
        .setChargebackReason("$duplicate"));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-content-status"><div><h1>$content_status</h1><p>Use <code>$content_status</code> to update the status of content that you’ve already sent to Sift.
If the status is the only thing that’s changing about the content, use this as a convenient way to change it
without having to resend the rest of the content's information. Useful for long lived content such as rentals,
dating profiles, and job postings. Status can also be set using <code>$create_content</code> or
<code>$update_content</code>.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$content_status"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's internal account ID. Users without an assigned <code>$user_id</code> will not show up in the console.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$content_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The unique ID for the piece of content that you’re updating the status of. Note: content
IDs are <em>case sensitive</em>.</p></div></li><li><div class="field">$status</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The status of the posting.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field">$draft</span><span class="sub-details">The posting has not yet been submitted by the user to go live.</span></li><li><span class="sub-field">$pending</span><span class="sub-details">The user has submitted the posting but has not gone live. This may be because the posting needs to be
reviewed, the user needs to add payment details, or because of some other processes within your business.</span></li><li><span class="sub-field">$active</span><span class="sub-details">The posting is live and active on your site. Other users can see the posting.</span></li><li><span class="sub-field">$paused</span><span class="sub-details">The posting has been paused by the user and may return back to <code>$active</code> at a later date.</span></li><li><span class="sub-field">$deleted_by_user</span><span class="sub-details">The posting has been deleted or archived by the user.</span></li><li><span class="sub-field">$deleted_by_company</span><span class="sub-details">The posting has been deleted or archived by your company due to violation of terms of service or other
policies.</span></li></ul></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is used to add the item to cart. Represented by the <code>$browser</code> object.
 Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is used to add the item to cart. Represented by the <code>$app</code> object.
 Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$user_email</div><div class="value-details"><strong> String</strong><p>Email of the user logging in. Note: If the user's email is also their account ID in your
system, set <strong>both</strong> the <code>$user_id</code> and <code>$user_email</code> fields to their
email address.</p></div></li><li><div class="field">$verification_phone_number</div><div class="value-details"><strong> String</strong><p>Phone number of the user. This phone number will be used to send One-Time Password (OTP) when required.
The phone number should be in E.164 format including <code>+</code> and a country code.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $content_status event
{
  // Required Fields
  "$type"       : "$content_status",
  "$api_key"    : "YOUR_API_KEY",
  "$user_id"    : "billy_jones_301",
  "$content_id" : "9671500641",
  "$status"     : "$paused",

  // Supported Fields
  "$user_email"                : "billjones1@example.com",
  "$verification_phone_number" : "+123456789012",

  // Send this information from a BROWSER client.
  "$browser"        : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  // =========================================

  // Send this information from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

# Sample $content_status event
properties = {
  # Required Fields
  "$user_id"    : "billy_jones_301",
  "$content_id" : "9671500641",
  "$status"     : "$paused",

  # Send this information from a BROWSER client.
  "$browser"      : {
    "$user_agent" :  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        : {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}

response = client.track("$content_status", properties)
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(:api_key => "YOUR_API_KEY")

# Sample $content_status event
properties = {
  # Required Fields
  "$user_id"    => "billy_jones_301",
  "$content_id" => "9671500641",
  "$status":    => "$paused",

  # Send this information from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$content_status", properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

// Sample $content_status event
$properties = array(
  // Required Fields
  '$user_id'    => 'billy_jones_301',
  '$content_id' => '9671500641',
  '$status'     => '$paused',

  // Send this information from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information an APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track('$content_status', $properties);
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.EventRequest;
import com.siftscience.model.ContentStatusFieldSet;

// Sample $content_status event
SiftClient client = new SiftClient("YOUR_API_KEY");
EventRequest request = client.buildRequest(new ContentStatusFieldSet()
        // Required Fields
        .setUserId("billy_jones_301")
        .setContentId("9671500641")
        .setStatus("$paused"));
        // Send this information from a BROWSER client.
        .setBrowser(new Browser()
                .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
                .setAcceptLanguage("en-US")
                .setContentLanguage("en-GB"))

        // =========================================

        // Send this information from an APP client.
        .setApp(new App()
                // Example for the iOS Calculator app.
                .setOperatingSystem("iOS")
                .setOperatingSystemVersion("10.1.3")
                .setDeviceManufacturer("Apple")
                .setDeviceModel("iPhone 4,2")
                .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
                .setAppName("Calculator")
                .setAppVersion("3.2.7")
                .setClientLanguage("en-US")));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-create-account"><div><h1>$create_account</h1><p>Use <code>$create_account</code> to capture user details at account creation. To capture updates to
an account after it is initially created, use <span data-href="/events-api/update-account">$update_account</span>.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$create_account"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's internal account ID. Users without an assigned <code>$user_id</code> will not show up in the console.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$session_id</div><div class="value-details"><strong> String </strong><p>The user's current session ID, used to tie a user's action before and after log in or account creation.</p></div></li><li><div class="field">$user_email</div><div class="value-details"><strong> String</strong><p>Email of the user creating the account. Note: If the user's email is also their account ID in your
system, set <strong>both</strong> the <code>$user_id</code> and <code>$user_email</code> fields to their
email address.</p></div></li><li><div class="field">$verification_phone_number</div><div class="value-details"><strong> String</strong><p>Phone number of the user. This phone number will be used to send One-Time Password (OTP) when required.
The phone number should be in E.164 format including <code>+</code> and a country code.</p></div></li><li><div class="field">$name</div><div class="value-details"><strong>String</strong><p>The full name of the user.</p></div></li><li><div class="field">$phone</div><div class="value-details"><strong> String</strong><p>The primary phone number of the user associated with this account. Provide the phone number as a string
starting with the country code. Use <a href="https://en.wikipedia.org/wiki/E.164">E.164</a> format or send
in the standard national format of number's origin. For example: "+14155556041" or "1-415-555-6041" for a
U.S. number. If you collect other phone numbers for the account, provide them as additional custom fields,
e.g <code>work_phone</code></p></div></li><li><div class="field">$referrer_user_id</div><div class="value-details"><strong> String</strong><p>The ID of the user that referred the current user to your business. This field is
<em>required</em> for detecting referral fraud. Note: User IDs are <em>case sensitive</em>. You
may need to normalize the capitalization of your user IDs. Follow our
<span data-href="/events-api/fields">guidelines</span> for <code>$user_id</code> values.</p></div></li><li><div class="field">$payment_methods</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/payment-method">Array of Payment Methods</span></strong><p>The payment method(s) associated with this account.</p></div></li><li><div class="field">$billing_address</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Address</span></strong><p>The billing address associated with this user.</p></div></li><li><div class="field">$shipping_address</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Address</span></strong><p>The shipping address associated with this user.</p></div></li><li><div class="field">$promotions</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/promotion">Array of Promotions</span></strong><p>The list of promotions that apply to this account. You can add one or more promotions when creating
or updating the account. It is particularly useful to add the promotion with this event if the
account is receiving some referral incentive.
You can also separately add promotions to the account via the <code>$add_promotion</code> event.</p></div></li><li><div class="field">$social_sign_on_type</div><div class="value-details"><strong>String</strong><p>If the user logged in with a social identify provider, give the name here.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li class="inline"><code>$facebook</code><code>$google</code><code>$linkedin</code><code>$twitter</code><code>$yahoo</code><code>$microsoft</code><code>$amazon</code><code>$apple</code><code>$wechat</code><code>$github</code><code>$other</code></li></ul></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is used to create the account. Represented by the <code>$browser</code> object.
 Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is used to create the account. Represented by the <code>$app</code> object.
 Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$account_types</div><div class="value-details"><strong>Array of Strings</strong><p>Capture the type(s) of the account: <code>"merchant"</code> or <code>"shopper"</code>, <code>"regular"</code> or <code>"premium"</code>, etc.
The array supports multiple types for a single account, e.g. <code>["merchant", "premium"]</code>.</p></div></li><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$merchant_profile</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/merchant-profile">Merchant Profile</span></strong><p>The details about the merchant or seller providing the goods or service.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $create_account event
{
  // Required Fields
  "$type"       : "$create_account",
  "$api_key"    : "YOUR_API_KEY",
  "$user_id"    : "billy_jones_301",

  // Supported Fields
  "$session_id"                : "gigtleqddo84l8cm15qe4il",
  "$user_email"                : "billjones1@example.com",
  "$verification_phone_number" : "+123456789012",
  "$name"                      : "Bill Jones",
  "$phone"                     : "1-415-555-6040",
  "$referrer_user_id"          : "janejane101",
  "$payment_methods"           : [
      {
          "$payment_type"    : "$credit_card",
          "$card_bin"        : "542486",
          "$card_last4"      : "4444"
      }
  ],
  "$billing_address"  : {
      "$name"         : "Bill Jones",
      "$phone"        : "1-415-555-6040",
      "$address_1"    : "2100 Main Street",
      "$address_2"    : "Apt 3B",
      "$city"         : "New London",
      "$region"       : "New Hampshire",
      "$country"      : "US",
      "$zipcode"      : "03257"
  },
  "$shipping_address"  : {
      "$name"          : "Bill Jones",
      "$phone"         : "1-415-555-6041",
      "$address_1"     : "2100 Main Street",
      "$address_2"     : "Apt 3B",
      "$city"          : "New London",
      "$region"        : "New Hampshire",
      "$country"       : "US",
      "$zipcode"       : "03257"
  },
  "$promotions"       : [
    {
      "$promotion_id"     : "FriendReferral",
      "$status"           : "$success",
      "$referrer_user_id" : "janejane102",
      "$credit_point"     : {
        "$amount"             : 100,
        "$credit_point_type"  : "account karma"
      }
    }
  ],

  "$social_sign_on_type"   : "$twitter",
  "$account_types"         : ["merchant", "premium"],


  // Suggested Custom Fields
  "twitter_handle"          : "billyjones",
  "work_phone"              : "1-347-555-5921",
  "location"                : "New London, NH",
  "referral_code"           : "MIKEFRIENDS",
  "email_confirmed_status"  : "$pending",
  "phone_confirmed_status"  : "$pending",

  // Send this information from a BROWSER client.
  "$browser"        : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  // =========================================

  // Send this information from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

# Sample $create_account event
properties = {
  # Required Fields
  "$user_id"    : "billy_jones_301",

  # Supported Fields
  "$session_id"                : "gigtleqddo84l8cm15qe4il",
  "$user_email"                : "billjones1@example.com",
  "$verification_phone_number" : "+123456789012",
  "$name"                      : "Bill Jones",
  "$phone"                     : "1-415-555-6040",
  "$referrer_user_id"          : "janejane101",
  "$payment_methods"           : [
      {
          "$payment_type"    : "$credit_card",
          "$card_bin"        : "542486",
          "$card_last4"      : "4444"
      }
  ],
  "$billing_address"  : {
      "$name"         : "Bill Jones",
      "$phone"        : "1-415-555-6040",
      "$address_1"    : "2100 Main Street",
      "$address_2"    : "Apt 3B",
      "$city"         : "New London",
      "$region"       : "New Hampshire",
      "$country"      : "US",
      "$zipcode"      : "03257"
  },
  "$shipping_address"  : {
      "$name"          : "Bill Jones",
      "$phone"         : "1-415-555-6041",
      "$address_1"     : "2100 Main Street",
      "$address_2"     : "Apt 3B",
      "$city"          : "New London",
      "$region"        : "New Hampshire",
      "$country"       : "US",
      "$zipcode"       : "03257"
  },
  "$promotions"       : [
    {
      "$promotion_id"     : "FriendReferral",
      "$status"           : "$success",
      "$referrer_user_id" : "janejane102",
      "$credit_point"     : {
        "$amount"              : 100,
        "$credit_point_type"   : "account karma"
      }
    }
  ],

  "$social_sign_on_type"   : "$twitter",
  "$account_types"         : ["merchant", "premium"],

  # Suggested Custom Fields
  "twitter_handle"          : "billyjones",
  "work_phone"              : "1-347-555-5921",
  "location"                : "New London, NH",
  "referral_code"           : "MIKEFRIENDS",
  "email_confirmed_status"  : "$pending",
  "phone_confirmed_status"  : "$pending",

  # Send this information from a BROWSER client.
  "$browser"      : {
    "$user_agent" :  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        : {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}

response = client.track("$create_account", properties)
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(:api_key => "YOUR_API_KEY")

# Sample $create_account event
properties = {
  # Required Fields
  "$user_id"    => "billy_jones_301",

  # Supported Fields
  "$session_id"       => "gigtleqddo84l8cm15qe4il",
  "$user_email"       => "billjones1@example.com",
  "$name"             => "Bill Jones",
  "$phone"            => "1-415-555-6040",
  "$referrer_user_id" => "janejane101",
  "$payment_methods"  => [
      {
          "$payment_type"    => "$credit_card",
          "$card_bin"        => "542486",
          "$card_last4"      => "4444"
      }
  ],
  "$billing_address"  => {
      "$name"         => "Bill Jones",
      "$phone"        => "1-415-555-6040",
      "$address_1"    => "2100 Main Street",
      "$address_2"    => "Apt 3B",
      "$city"         => "New London",
      "$region"       => "New Hampshire",
      "$country"      => "US",
      "$zipcode"      => "03257"
  },
  "$shipping_address" => {
      "$name"         => "Bill Jones",
      "$phone"        => "1-415-555-6041",
      "$address_1"    => "2100 Main Street",
      "$address_2"    => "Apt 3B",
      "$city"         => "New London",
      "$region"       => "New Hampshire",
      "$country"      => "US",
      "$zipcode"      => "03257"
  },
  "$promotions"       => [
    {
      "$promotion_id"     => "FriendReferral",
      "$status"           => "$success",
      "$referrer_user_id" => "janejane102",
      "$credit_point"     => {
        "$amount"             => 100,
        "$credit_point_type"  => "account karma"
      }
    }
  ],

  "$social_sign_on_type"   => "$twitter",
  "$account_types"         => ["merchant", "premium"],

  # Suggested Custom Fields
  "twitter_handle"          => "billyjones",
  "work_phone"              => "1-347-555-5921",
  "location"                => "New London, NH",
  "referral_code"           => "MIKEFRIENDS",
  "email_confirmed_status"  => "$pending",
  "phone_confirmed_status"  => "$pending",

  # Send this information from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$create_account", properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

// Sample $create_account event
$properties = array(
  // Required Fields
  '$user_id'    => 'billy_jones_301',

  // Supported Fields
  '$session_id'       => 'gigtleqddo84l8cm15qe4il',
  '$user_email'       => 'bill@gmail.com',
  '$name'             => 'Bill Jones',
  '$phone'            => '1-415-555-6040',
  '$referrer_user_id' => 'janejane101',
  '$payment_methods'  => array(
      array(
          '$payment_type'    => '$credit_card',
          '$card_bin'        => '542486',
          '$card_last4'      => '4444'
      )
  ),
  '$billing_address'  => array(
      '$name'         => 'Bill Jones',
      '$phone'        => '1-415-555-6040',
      '$address_1'    => '2100 Main Street',
      '$address_2'    => 'Apt 3B',
      '$city'         => 'New London',
      '$region'       => 'New Hampshire',
      '$country'      => 'US',
      '$zipcode'      => '03257'
  ),
  '$shipping_address' => array(
      '$name'         => 'Bill Jones',
      '$phone'        => '1-415-555-6041',
      '$address_1'    => '2100 Main Street',
      '$address_2'    => 'Apt 3B',
      '$city'         => 'New London',
      '$region'       => 'New Hampshire',
      '$country'      => 'US',
      '$zipcode'      => '03257'
  ),
  '$promotions'       => array(
    array(
      '$promotion_id'     => 'FriendReferral',
      '$status'           => '$success',
      '$referrer_user_id' => 'janejane102',
      '$credit_point'     => array(
        '$amount'             => 100,
        '$credit_point_type'  => 'account karma'
      )
    )
  ),

  '$social_sign_on_type'   => '$twitter',
  '$account_types'         => ['merchant', 'premium'],


  // Suggested Custom Fields
  'twitter_handle'          => 'billyjones',
  'work_phone'              => '1-347-555-5921',
  'location'                => 'New London, NH',
  'referral_code'           => 'MIKEFRIENDS',
  'email_confirmed_status'  => "$pending",
  'phone_confirmed_status'  => "$pending",

  // Send this information from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information an APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track('$create_account', $properties);
</pre><pre class="prettyprint lang java code-partial">import java.util.Arrays;

import com.siftscience.SiftClient;
import com.siftscience.EventRequest;
import com.siftscience.model.CreateAccountFieldSet;
import com.siftscience.model.Address;
import com.siftscience.model.Discount;
import com.siftscience.model.Promotion;
import com.siftscience.model.PaymentMethod;

SiftClient client = new SiftClient("YOUR_API_KEY");
EventRequest request = client.buildRequest(new CreateAccountFieldSet()
        // Required Fields
        .setUserId("billy_jones_301")
        // Supported Fields
        .setSessionId("gigtleqddo84l8cm15qe4il")
        .setUserEmail("billjones1@example.com")
        .setName("Bill Jones")
        .setPhone("1-415-555-6040")
        .setReferrerUserId("janejane101")
        .setPaymentMethods(Arrays.asList(new PaymentMethod()
                .setPaymentType("$credit_card")
                .setPaymentGateway("$braintree")
                .setCardBin("542486")
                .setCardLast4("4444")))
        .setBillingAddress(new Address()
            .setName("Bill Jones")
            .setPhone("1-415-555-6041")
            .setAddress1("2100 Main Street")
            .setAddress2("Apt 3B")
            .setCity("New London")
            .setRegion("New Hampshire")
            .setCountry("US")
            .setZipCode("03257"))
        .setShippingAddress(new Address()
                .setName("Bill Jones")
                .setPhone("1-415-555-6041")
                .setAddress1("2100 Main Street")
                .setAddress2("Apt 3B")
                .setCity("New London")
                .setRegion("New Hampshire")
                .setCountry("US")
                .setZipCode("03257"))
        .setPromotions(Arrays.asList(new Promotion()
                .setPromotionId("FirstTimeBuyer")
                .setStatus("$success")
                .setDescription("$5 off")
                .setDiscount(new Discount()
                        .setAmount(5000000L)
                        .setCurrencyCode("USD")
                        .setMinimumPurchaseAmount(25000000L))))
        .setSocialSignOnType("$twitter")
        .setAccountTypes(Arrays.asList(new String[]{"merchant","premium"}))
        // Suggested Custom Fields
        .setCustomField("twitter_handle", "billyjones")
        .setCustomField("work_phone", "1-347-555-5921")
        .setCustomField("location", "New London, NH")
        .setCustomField("referral_code", "MIKEFRIENDS")
        .setCustomField("email_confirmed_status", "$pending")
        .setCustomField("phone_confirmed_status", "$pending"));
        // Send this information from a BROWSER client.
        .setBrowser(new Browser()
                .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
                .setAcceptLanguage("en-US")
                .setContentLanguage("en-GB"))

        // =========================================

        // Send this information from an APP client.
        .setApp(new App()
                // Example for the iOS Calculator app.
                .setOperatingSystem("iOS")
                .setOperatingSystemVersion("10.1.3")
                .setDeviceManufacturer("Apple")
                .setDeviceModel("iPhone 4,2")
                .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
                .setAppName("Calculator")
                .setAppVersion("3.2.7")
                .setClientLanguage("en-US")));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-create-content"><div><h1>$create_content</h1><p>Use <code>$create_content</code> to tell Sift whenever a user creates content on your site or app.
 Examples of user-generated content include job listings, products for sale, apartment rentals, dating profiles, and blog posts.
 <br /> <br /> With every <code>$create_content</code> request, you must specify the type of content you are sending.
 Sift supports the following types of content:</p><ol><li><span data-href="/events-api/reserved-events/create-content/comment">Comment</span>:
 The <code>$comment</code> field type represents comments created by users. Comments may be in response
 to an apartment listing, blog post, etc.</li><li><span data-href="/events-api/reserved-events/create-content/listing">Listing</span>:
 The <code>$listing</code> field type represents information for a product or service offered
 by a user. This may include a marketplace listing, a classified ad, an auction, a job listing, etc.</li><li><span data-href="/events-api/reserved-events/create-content/message">Message</span>:
 The <code>$message</code> field type represents messages exchanged between users of your service.</li><li><span data-href="/events-api/reserved-events/create-content/post">Post</span>:
 The <code>$post</code> field type represents information that a user has shared with your community.
 Examples include social media posts like status updates, forum posts, blog articles etc.</li><li><span data-href="/events-api/reserved-events/create-content/profile">Profile</span>:
 The <code>$profile</code> field type represents information related to a user's profile.
 Examples include social media, dating, or seller profiles.</li><li><span data-href="/events-api/reserved-events/create-content/review">Review</span>:
 The <code>$review</code> field type represents information related to a product or
 service reviewed by your users.</li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ol></div></div><div class="docs-partial events-api-reserved-events-create-content-comment"><div><h1>$create_content.comment</h1><p>Use <code>$create_content</code> with a <code>$comment</code> type to tell Sift whenever a user posts
 into the comment section your site. Examples of comments include a comment on a social media or blog post,
 and discussion sections on news articles.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$create_content"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's internal account ID. Users without an assigned <code>$user_id</code> will not show up in the console.
 Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$content_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The unique ID that you assign to an individual piece of content in your system.
 Note: content IDs are case sensitive and must be unique across all content types..</p></div></li><li><div class="field">$session_id</div><div class="value-details"><strong>String</strong><p>The user's current session ID, used to tie a user's action before and after login or account creation.</p></div></li><li><div class="field">$status</div><div class="value-details"><strong>String</strong><p>The status of the comment. After you update a posting, you can also update its status via the
<code>$content_status</code> event.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field">$draft</span><span class="sub-details">The comment has not yet been submitted by the user to go live.</span></li><li><span class="sub-field">$pending</span><span class="sub-details">The user has submitted the comment but has not gone live. This may be because the comment needs to be
reviewed, the user needs to add payment details, or because of some other processes within your business.</span></li><li><span class="sub-field">$active</span><span class="sub-details">The comment is live and active on your site. Other users can see the posting.</span></li><li><span class="sub-field">$paused</span><span class="sub-details">The comment has been paused by the user and may return back to <code>$active</code> at a later date.</span></li><li><span class="sub-field">$deleted_by_user</span><span class="sub-details">The comment has been deleted or archived by the user.</span></li><li><span class="sub-field">$deleted_by_company</span><span class="sub-details">The comment has been deleted or archived by your company due to violation of terms of service or other
policies.</span></li></ul></div></li><li><div class="field">$ip</div><div class="value-details"><strong>String</strong><p>IP address of the request made by the user. Recommended for historical backfills and customers with
 with mobile apps.</p></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is used to create the comment. Represented by the <code>$browser</code> object.
 Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is used to create the comment. Represented by the <code>$app</code> object.
 Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$comment</div><div class="value-details"><strong>Object</strong><p>Contains information about the comment.</p></div></li><ul class="api-fields"><li><div class="field">$body</div><div class="value-details"><strong>String</strong><p>The text content of the comment.</p></div></li><li><div class="field">$contact_email</div><div class="value-details"><strong>String</strong><p>The email address provided with the listing for contacting the poster. When no email address is
provided for the listing, use the email address of the user account instead.</p></div></li><li><div class="field">$parent_comment_id</div><div class="value-details"><strong>String</strong><p>The <code>$content_id</code> of the immediate parent comment, i.e. the comment being replied to.
Only use if it is a reply to a previous comment.</p></div></li><li><div class="field">$root_content_id</div><div class="value-details"><strong>String</strong><p>The <code>$content_id</code> of the content being commented on. For example,
 this would be the id of the social media <code>$post</code> to which the comment applies.</p></div></li><li><div class="field">$images</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/image">Array of Images</span></strong><p>The list of images shared by the user with their comment. It includes images pasted inline or attached
separately.</p></div></li></ul><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $create_content event for comments
{
  // Required fields
  "$type"                 : "$create_content",
  "$api_key"              : "YOUR_API_KEY",
  "$user_id"              : "fyw3989sjpqr71",
  "$content_id"           : "comment-23412",

  // Recommended fields
  "$session_id"           : "a234ksjfgn435sfg",
  "$status"               : "$active",
  "$ip"                   : "255.255.255.0",

  // Required $comment object
  "$comment"              : {
    "$body"               : "Congrats on the new role!",
    "$contact_email"      : "alex_301@domain.com",
    "$parent_comment_id"  : "comment-23407",
    "$root_content_id"    : "listing-12923213",
    "$images"             : [
      {
        "$md5_hash"           : "0cc175b9c0f1b6a831c399e269772661",
        "$link"               : "https://www.domain.com/file.png",
        "$description"        : "An old picture"
      }
    ]
  },

  // Send this information from a BROWSER client.
  "$browser"        : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  // =========================================

  // Send this information from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new({api_key: "YOUR_API_KEY"})

# Sample $create_content event for comments
comment_properties = {
  # Required fields
  '$user_id'              => 'fyw3989sjpqr71',
  '$content_id'           => 'comment-23412',

  # Recommended fields
  '$session_id'           => 'a234ksjfgn435sfg',
  '$status'               => '$active',
  '$ip'                   => '255.255.255.0',

  # Required $comment object
  '$comment'              => {
    '$body'               => 'Congrats on the new role!',
    '$contact_email'      => 'alex_301@domain.com',
    '$parent_comment_id'  => 'comment-23407',
    '$root_content_id'    => 'listing-12923213',
    '$images'             => [
      {
        '$md5_hash'            => '0cc175b9c0f1b6a831c399e269772661',
        '$link'                => 'https://www.domain.com/file.png',
        '$description'         => 'An old picture'
      }
    ]
  },

  # Send this information from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$create_content", comment_properties)
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

# Sample $create_content event for comments
comment_properties = {
  # Required fields
  "$user_id"                : "fyw3989sjpqr71",
  "$content_id"             : "comment-23412",

  # Recommended fields
  "$session_id"             : "a234ksjfgn435sfg",
  "$status"                 : "$active",
  "$ip"                     : "255.255.255.0",

  # Required $comment object
  "$comment"                : {
    "$body"               : "Congrats on the new role!",
    "$contact_email"      : "alex_301@domain.com",
    "$parent_comment_id"  : "comment-23407",
    "$root_content_id"    : "listing-12923213",
    "$images"             : [
      {
        "$md5_hash"       : "0cc175b9c0f1b6a831c399e269772661",
        "$link"           : "https://www.domain.com/file.png",
        "$description"    : "An old picture"
      }
    ]
  },

  # Send this information from a BROWSER client.
  "$browser"      : {
    "$user_agent" :  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        : {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}

response = client.track("$create_content", comment_properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$event = '$create_content';
$client = new SiftClient(array('api_key' => YOUR_API_KEY));

// Sample $create_content event for comments
$comment_properties = array(
  // Required fields
  '$user_id' => 'fyw3989sjpqr71',
  '$content_id' => 'comment-23412',

  // Recommended fields
  '$session_id'           => 'a234ksjfgn435sfg',
  '$status'               => '$active',
  '$ip'                   => '255.255.255.0',

  // Required $comment object
  '$comment'              => array(
    '$body'               => 'Congrats on the new role!',
    '$contact_email'      => 'alex_301@domain.com',
    '$parent_comment_id'  => 'comment-23407',
    '$root_content_id'    => 'listing-12923213',
    '$images'             => array(
      array(
          '$md5_hash'            => '0cc175b9c0f1b6a831c399e269772661',
          '$link'                => 'https://www.domain.com/file.png',
          '$description'         => 'An old picture'
      )
    )
  ),

  // Send this information from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information an APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track($event, $comment_properties);</pre><pre class="prettyprint lang java code-partial">import java.util.Arrays;

import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.SiftClient;
import com.siftscience.exception.SiftException;
import com.siftscience.model.Comment;
import com.siftscience.model.CreateCommentFieldSet;
import com.siftscience.model.Image;

SiftClient client = new SiftClient("YOUR_API_KEY");

// Sample $create_content event for comments
EventRequest request = client.buildRequest(new CreateCommentFieldSet()
        // Required fields
        .setUserId("fyw3989sjpqr71")
        .setContentId("comment-23412")
        // Recommended fields
        .setSessionId("a234ksjfgn435sfg")
        .setStatus("$active")
        .setIp("255.255.255.0")
        // Required $comment object
        .setComment(new Comment()
                .setBody("Congrats on the new role!")
                .setContactEmail("alex_301@domain.com")
                .setParentCommentId("comment_23407")
                .setRootContentId("listing-12923213")
                .setImages(Arrays.asList(new Image()
                        .setMd5Hash("18E927C7E1229DC8F088643B7A65F978")
                        .setLink("https://www.domain.com/file.png")
                        .setDescription("An old picture")))));
        // Send this information from a BROWSER client.
        .setBrowser(new Browser()
                .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
                .setAcceptLanguage("en-US")
                .setContentLanguage("en-GB"))

        // =========================================

        // Send this information from an APP client.
        .setApp(new App()
                // Example for the iOS Calculator app.
                .setOperatingSystem("iOS")
                .setOperatingSystemVersion("10.1.3")
                .setDeviceManufacturer("Apple")
                .setDeviceModel("iPhone 4,2")
                .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
                .setAppName("Calculator")
                .setAppVersion("3.2.7")
                .setClientLanguage("en-US")));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-create-content-listing"><div><h1>$create_content.listing</h1><p>Use <code>$create_content</code> with a <code>$listing</code> type whenever a user creates a listing on your site.
Examples of listings include job listing, product for sale, or an apartment for rent.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$create_content"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's internal account ID. Users without an assigned <code>$user_id</code> will not show up in the console.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$content_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The unique ID that you assign to an individual piece of content in your system.
Note: content IDs are case sensitive and must be unique across all content types..</p></div></li><li><div class="field">$session_id</div><div class="value-details"><strong> String </strong><p>The user's current session ID, used to tie a user's action before and after login or account creation.</p></div></li><li><div class="field">$status</div><div class="value-details"><strong>String</strong><p>The status of the listing. After you update a listing, you can also update its status via the
<code>$content_status</code> event.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field">$draft</span><span class="sub-details">The listing has not yet been submitted by the user to go live.</span></li><li><span class="sub-field">$pending</span><span class="sub-details">The user has submitted the listing but has not gone live. This may be because the listing needs to be
reviewed, the user needs to add payment details, or because of some other processes within your business.</span></li><li><span class="sub-field">$active</span><span class="sub-details">The listing is live and active on your site. Other users can see the posting.</span></li><li><span class="sub-field">$paused</span><span class="sub-details">The listing has been paused by the user and may return back to <code>$active</code> at a later date.</span></li><li><span class="sub-field">$deleted_by_user</span><span class="sub-details">The listing has been deleted or archived by the user.</span></li><li><span class="sub-field">$deleted_by_company</span><span class="sub-details">The listing has been deleted or archived by your company due to violation of terms of service or other
policies.</span></li></ul></div></li><li><div class="field">$ip</div><div class="value-details"><strong>String</strong><p>IP address of the request made by the user. Recommended for historical backfills and customers with
 with mobile apps.</p></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is used to create the listing. Represented by the <code>$browser</code> object.
 Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is used to create the listing. Represented by the <code>$app</code> object.
 Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$listing</div><div class="value-details"><strong>Object</strong><p>Contains information about the listing.</p></div></li><ul class="api-fields"><li><div class="field">$subject</div><div class="value-details"><strong>String</strong><p>The subject of the listing.</p></div></li><li><div class="field">$body</div><div class="value-details"><strong>String</strong><p>The text content of the listing.</p></div></li><li><div class="field">$contact_email</div><div class="value-details"><strong>String</strong><p>The email address provided with the listing for contacting the poster. When no email address is
 provided for the listing, use the email address of the user account instead.</p></div></li><li><div class="field">$contact_address</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Address</span></strong><p>The physical contact address provided with the listing. When no address is provided for the listing,
 use the physical address of the user account instead.</p></div></li><li><div class="field">$locations</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Array of Addresses</span></strong><p>The locations associated with the listing. For example, this array would contain the location of the
 rental listing. You can pass one or more addresses that are associated with your listing.
 Pass as much information as you have. Partial addresses such as just the city and state are fine
 if that's all you have.</p></div></li><li><div class="field">$listed_items</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/item">Array of Items</span></strong><p>The items array represents physical or digital items listed by the user.</p></div></li><li><div class="field">$images</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/image">Array of Images</span></strong><p>The list of images shared by the user with their listing. It includes images pasted inline or attached
 separately.</p></div></li><li><div class="field">$expiration_time</div><div class="value-details"><strong>Integer</strong><p>The UNIX timestamp in milliseconds of when the listing will expire. Only set if the listing is time
 bound in some way (e.g. car auction will close 14 days from date of posting).</p></div></li></ul><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $create_content event for listings
{
  // Required fields
  "$type"               : "$create_content",
  "$api_key"            : "YOUR_API_KEY",
  "$user_id"            : "fyw3989sjpqr71",
  "$content_id"         : "listing-23412",

  // Recommended fields
  "$session_id"         : "a234ksjfgn435sfg",
  "$status"             : "$active",
  "$ip"                 : "255.255.255.0",

  // Required $listing object
  "$listing"            : {
    "$subject"          : "2 Bedroom Apartment for Rent",
      "$body"           : "Capitol Hill Seattle brand new condo. 2 bedrooms and 1 full bath.",
      "$contact_email"  : "alex_301@domain.com",
      "$contact_address": {
        "$name"         : "Bill Jones",
        "$phone"        : "1-415-555-6041",
        "$city"         : "New London",
        "$region"       : "New Hampshire",
        "$country"      : "US",
        "$zipcode"      : "03257"
    },
    "$locations"        : [
      {
        "$city"             : "Seattle",
        "$region"           : "Washington",
        "$country"          : "US",
        "$zipcode"          : "98112"
      }
    ],
    "$listed_items"     : [
        {
          "$price"          : 2950000000, // $2950.00
          "$currency_code"  : "USD",
          "$tags"           : ["heat", "washer/dryer"]
        }
    ],
    "$images"           : [
        {
          "$md5_hash"       : "0cc175b9c0f1b6a831c399e269772661",
          "$link"           : "https://www.domain.com/file.png",
          "$description"    : "Billy's picture"
        }
    ],
    "$expiration_time"  : 1549063157000 // UNIX timestamp in milliseconds
  },

  // Send this information from a BROWSER client.
  "$browser"        : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  // =========================================

  // Send this information from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new({api_key: "YOUR_API_KEY"})

# Sample $create_content event for listings
listing_properties = {
  # Required fields
  '$user_id'            => 'fyw3989sjpqr71',
  '$content_id'         => 'listing-23412',

  # Recommended fields
  '$session_id'         => 'a234ksjfgn435sfg',
  '$status'             => '$active',
  '$ip'                 => '255.255.255.0',

  # Required $listing object
  '$listing'            => {
    '$subject'          => '2 Bedroom Apartment for Rent',
    '$body'             => 'Capitol Hill Seattle brand new condo. 2 bedrooms and 1 full bath.',
    '$contact_email'    => 'alex_301@domain.com',
    '$contact_address'  => {
      '$name'           => 'Bill Jones',
      '$phone'          => '1-415-555-6041',
      '$city'           => 'New London',
      '$region'         => 'New Hampshire',
      '$country'        => 'US',
      '$zipcode'        => '03257'
    },
    '$locations'        => [
      {
        '$city'              => 'Seattle',
        '$region'            => 'Washington',
        '$country'           => 'US',
        '$zipcode'           => '98112'
      }
    ],
    '$listed_items'     => [
      {
        '$price'             => 2950000000, # $2950.00
        '$currency_code'     => 'USD',
        '$tags'              => ['heat', 'washer/dryer']
      }
    ],
    '$images'           => [
      {
        '$md5_hash'          => '0cc175b9c0f1b6a831c399e269772661',
        '$link'              => 'https =>//www.domain.com/file.png',
        '$description'       => 'Billy’s picture'
      }
    ],
    '$expiration_time'       => 1549063157000 # UNIX timestamp in milliseconds
  },

  # Send this information from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$create_content", listing_properties)</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

# Sample $create_content event for listings
listing_properties = {
  # Required fields
  "$user_id"                : "fyw3989sjpqr71",
  "$content_id"             : "listing-23412",

  # Recommended fields
  "$session_id"             : "a234ksjfgn435sfg",
  "$status"                 : "$active",
  "$ip"                     : "255.255.255.0",

  # Required $listing object
  "$listing"                : {
    "$subject"            : "2 Bedroom Apartment for Rent",
    "$body"               : "Capitol Hill Seattle brand new condo. 2 bedrooms and 1 full bath.",
    "$contact_email"      : "alex_301@domain.com",
    "$contact_address"    : {
      "$name"           : "Bill Jones",
      "$phone"          : "1-415-555-6041",
      "$city"           : "New London",
      "$region"         : "New Hampshire",
      "$country"        : "US",
      "$zipcode"        : "03257"
    },
    "$locations"          : [
      {
        "$city"           : "Seattle",
        "$region"         : "Washington",
        "$country"        : "US",
        "$zipcode"        : "98112"
      }
    ],
    "$listed_items"       : [
      {
        "$price"          : 2950000000, # $2950.00
        "$currency_code"  : "USD",
        "$tags"           : ["heat", "washer/dryer"]
      }
    ],
    "$images"             : [
      {
        "$md5_hash"       : "0cc175b9c0f1b6a831c399e269772661",
        "$link"           : "https://www.domain.com/file.png",
        "$description"    : "Billy's picture"
      }
    ],
    "$expiration_time"    : 1549063157000 # UNIX timestamp in milliseconds
  },

  # Send this information from a BROWSER client.
  "$browser"      : {
    "$user_agent" :  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        : {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}

response = client.track("$create_content", listing_properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$event = '$create_content';
$client = new SiftClient(array('api_key' => YOUR_API_KEY));

// Sample $create_content event for listings
$listing_properties = array(
  // Required fields
  '$user_id'              => 'fyw3989sjpqr71',
  '$content_id'           => 'listing-23412',

  // Supported fields
  '$session_id'           => 'a234ksjfgn435sfg',
  '$status'               => '$active',
  '$ip'                   => '255.255.255.0',

  // Required $listing object
  '$listing'              => array(
    '$subject'            => '2 Bedroom Apartment for Rent',
      '$body'             => 'Capitol Hill Seattle brand new condo. 2 bedrooms and 1 full bath.',
      '$contact_email'    => 'alex_301@domain.com',
      '$contact_address'  => array(
        '$name'           => 'Bill Jones',
        '$phone'          => '1-415-555-6041',
        '$city'           => 'New London',
        '$region'         => 'New Hampshire',
        '$country'        => 'US',
        '$zipcode'        => '03257'
    ),
    '$locations'          => array(
      array(
        '$city'                => 'Seattle',
        '$region'              => 'Washington',
        '$country'             => 'US',
        '$zipcode'             => '98112'
      )
    ),
    '$listed_items'       => array(
      array(
        '$price'               => 2950000000, // $2950.00
        '$currency_code'       => 'USD',
        '$tags'                => array('heat', 'washer/dryer')
      )
    ),
    '$images'             => array(
      array(
        '$md5_hash'            => '0cc175b9c0f1b6a831c399e269772661',
        '$link'                => 'https://www.domain.com/file.png',
        '$description'         => 'Billy’s picture'
      )
    ),
    '$expiration_time'    => 1549063157000 // UNIX timestamp in milliseconds
  ),

  // Send this information from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information an APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track($event, $listing_properties);
</pre><pre class="prettyprint lang java code-partial">import java.util.Arrays;

import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.SiftClient;
import com.siftscience.exception.SiftException;
import com.siftscience.model.Address;
import com.siftscience.model.CreateListingFieldSet;
import com.siftscience.model.Image;
import com.siftscience.model.Item;
import com.siftscience.model.Listing;

SiftClient client = new SiftClient("YOUR_API_KEY");

// Sample $create_content event for listings
EventRequest request = client.buildRequest(new CreateListingFieldSet()
        // Required fields
        .setUserId("fyw3989sjpqr71")
        .setContentId("listing-23412")
        // Recommended fields
        .setSessionId("a234ksjfgn435sfg")
        .setStatus("$active")
        .setIp("255.255.255.0")
        // Required $listing object
        .setListing(new Listing()
                .setBody("Capitol Hill Seattle brand new condo. 2 bedrooms and 1 full bath.")
                .setContactAddress(new Address()
                        .setName("Bill Jones")
                        .setPhone("1-415-555-6041")
                        .setRegion("New Hampshire")
                        .setCity("New London")
                        .setCountry("US")
                        .setZipCode("03257"))
        .setLocations(Arrays.asList(new Address()
                .setCity("Seattle")
                .setRegion("Washington")
                .setCountry("US")
                .setZipCode("98112")))
                .setListedItems(Arrays.asList(new Item()
                        .setPrice(2950000000L) // $2950.00
                        .setCurrencyCode("USD")
                        .setTags(Arrays.asList("heat", "washer/dryer"))))
                .setImages(Arrays.asList(new Image()
                        .setMd5Hash("18E927C7E1229DC8F088643B7A65F978")
                        .setLink("https://www.domain.com/file.png")
                        .setDescription("An old picture")))
                .setExpirationTime(1471003200000L))); // UNIX timestamp in milliseconds
        // Send this information from a BROWSER client.
        .setBrowser(new Browser()
                .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
                .setAcceptLanguage("en-US")
                .setContentLanguage("en-GB"))

        // =========================================

        // Send this information from an APP client.
        .setApp(new App()
                // Example for the iOS Calculator app.
                .setOperatingSystem("iOS")
                .setOperatingSystemVersion("10.1.3")
                .setDeviceManufacturer("Apple")
                .setDeviceModel("iPhone 4,2")
                .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
                .setAppName("Calculator")
                .setAppVersion("3.2.7")
                .setClientLanguage("en-US")));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-create-content-message"><div><h1>$create_content.message</h1><p>Use <code>$create_content</code> with a <code>$message</code> type to represent a message exchanged between users of your service.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$create_content"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's internal account ID. Users without an assigned <code>$user_id</code> will not show up in the console.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$content_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The unique ID that you assign to an individual piece of content in your system.
 Note: content IDs are case sensitive and must be unique across all content types..</p></div></li><li><div class="field">$session_id</div><div class="value-details"><strong> String </strong><p>The user's current session ID, used to tie a user's action before and after login or account creation.</p></div></li><li><div class="field">$status</div><div class="value-details"><strong>String</strong><p>The status of the posting. After you create a message, you can also update its status via the
<code>$content_status</code> event.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field">$draft</span><span class="sub-details">The message has not yet been submitted by the user to go live.</span></li><li><span class="sub-field">$pending</span><span class="sub-details">The user has submitted the message but has not gone live. This may be because the message needs to be
reviewed, the user needs to add payment details, or because of some other processes within your business.</span></li><li><span class="sub-field">$active</span><span class="sub-details">The message is live and active on your site. Other users can see the message.</span></li><li><span class="sub-field">$paused</span><span class="sub-details">The message has been paused by the user and may return back to <code>$active</code> at a later date.</span></li><li><span class="sub-field">$deleted_by_user</span><span class="sub-details">The message has been deleted or archived by the user.</span></li><li><span class="sub-field">$deleted_by_company</span><span class="sub-details">The message has been deleted or archived by your company due to violation of terms of service or other
policies.</span></li></ul></div></li><li><div class="field">$ip</div><div class="value-details"><strong>String</strong><p>IP address of the request made by the user. Recommended for historical backfills and customers with
 with mobile apps.</p></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is used to create the message. Represented by the <code>$browser</code> object.
 Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is used to create the message. Represented by the <code>$app</code> object.
 Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$message</div><div class="value-details"><strong>Object</strong><p>Contains information about the message.</p></div></li><ul class="api-fields"><li><div class="field">$subject</div><div class="value-details"><strong>String</strong><p>The user-supplied subject of the message.</p></div></li><li><div class="field">$body</div><div class="value-details"><strong>String</strong><p>The text content of the message.</p></div></li><li><div class="field">$contact_email</div><div class="value-details"><strong>String</strong><p>The email address provided with the listing for contacting the poster. When no email address is
 provided for the listing, use the email address of the user account instead.</p></div></li><li><div class="field">$root_content_id</div><div class="value-details"><strong>String</strong><p>The <code>content_id</code> in the context of which the messages is sent. For example, this would
 be the job listing being responded to.</p></div></li><li><div class="field">$recipient_user_ids</div><div class="value-details"><strong>Array of Strings</strong><p>The <code>user_ids</code> of the recipients of the message.</p></div></li><li><div class="field">$images</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/image">Array of Images</span></strong><p>The list of images shared by the user with their message. It includes images pasted inline or attached
 separately.</p></div></li></ul><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $create_content event for messages
{
  // Required fields
  "$type"                  : "$create_content",
  "$api_key"               : "YOUR_API_KEY",
  "$user_id"               : "fyw3989sjpqr71",
  "$content_id"            : "message-23412",

  // Recommended fields
  "$session_id"            : "a234ksjfgn435sfg",
  "$status"                : "$active",
  "$ip"                    : "255.255.255.0",
  // Required $message object
  "$message"               : {
    "$body"                : "Let’s meet at 5pm",
    "$contact_email"       : "alex_301@domain.com",
    "$recipient_user_ids"  : ["fy9h989sjphh71"],
    "$root_content_id"     : "listing-123",
    "$images"              : [
      {
        "$md5_hash"              : "0cc175b9c0f1b6a831c399e269772661",
        "$link"                  : "https://www.domain.com/file.png",
        "$description"           : "My hike today!"
      }
    ]
  },

  // Send this information from a BROWSER client.
  "$browser"        : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  // =========================================

  // Send this information from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new({api_key: "YOUR_API_KEY"})

# Sample $create_content event for messages
message_properties = {
  # Required fields
  '$user_id'               => 'fyw3989sjpqr71',
  '$content_id'            => 'message-23412',

  # Recommended fields
  '$session_id'            => 'a234ksjfgn435sfg',
  '$status'                => '$active',
  '$ip'                    => '255.255.255.0',

  # Required $message object
  '$message'               => {
    '$body'                => 'Let’s meet at 5pm',
    '$contact_email'       => 'alex_301@domain.com',
    '$recipient_user_ids'  => ['fy9h989sjphh71'],
    '$images'              => [
      {
        '$md5_hash'             => '0cc175b9c0f1b6a831c399e269772661',
        '$link'                 => 'https =>//www.domain.com/file.png',
        '$description'          => 'My hike today!'
      }
    ]
  },

  # Send this information from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$create_content", message_properties)
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

# Sample $create_content event for messages
message_properties = {
    # Required fields
    "$user_id"                 : "fyw3989sjpqr71",
    "$content_id"              : "message-23412",

    # Recommended fields
    "$session_id"              : "a234ksjfgn435sfg",
    "$status"                  : "$active",
    "$ip"                      : "255.255.255.0",

    # Required $message object
    "$message"                 : {
      "$body"                : "Let’s meet at 5pm",
      "$contact_email"       : "alex_301@domain.com",
      "$recipient_user_ids"  : ["fy9h989sjphh71"],
      "$images"              : [
        {
          "$md5_hash"        : "0cc175b9c0f1b6a831c399e269772661",
          "$link"            : "https://www.domain.com/file.png",
          "$description"     : "My hike today!"
        }
      ]
    },

    # Send this information from a BROWSER client.
    "$browser"      : {
        "$user_agent" :  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
        "$accept_language"  : "en-US",
        "$content_language" : "en-GB"
    },

    # =========================================

    # Send this information from an APP client.
    "$app"        : {
      # Example for the iOS Calculator app.
      "$os"                  : "iOS",
      "$os_version"          : "10.1.3",
      "$device_manufacturer" : "Apple",
      "$device_model"        : "iPhone 4,2",
      "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
      "$app_name"            : "Calculator",
      "$app_version"         : "3.2.7",
      "$client_language"     : "en-US"
    }
}

response = client.track("$create_content", message_properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$event = '$create_content';
$client = new SiftClient(array('api_key' => YOUR_API_KEY));

// Sample $create_content event for messages
$message_properties = array(
  // Required fields
  '$user_id'               => 'fyw3989sjpqr71',
  '$content_id'            => 'message-23412',

  // Recommended fields
  '$session_id'            => 'a234ksjfgn435sfg',
  '$status'                => '$active',
  '$ip'                    => '255.255.255.0',

  // Required $message object
  '$message'               => array(
    '$body'                => 'Let’s meet at 5pm',
    '$contact_email'       => 'alex_301@domain.com',
    '$recipient_user_ids'  => array('fy9h989sjphh71'),
    '$images'              => array(
      array(
        '$md5_hash'             => '0cc175b9c0f1b6a831c399e269772661',
        '$link'                 => 'https://www.domain.com/file.png',
        '$description'          => 'My hike today!'
      )
    )
  ),

  // Send this information from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information an APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track($event, $message_properties);
</pre><pre class="prettyprint lang java code-partial">import java.util.Arrays;

import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.SiftClient;
import com.siftscience.exception.SiftException;
import com.siftscience.model.Address;
import com.siftscience.model.CreateMessageFieldSet;
import com.siftscience.model.Image;
import com.siftscience.model.Message;

SiftClient client = new SiftClient("YOUR_API_KEY");

// Sample $create_content event for messages
EventRequest request = client.buildRequest(new CreateMessageFieldSet()
        // Required fields
        .setUserId("fyw3989sjpqr71")
        .setContentId("message-23412")
        // Recommended fields
        .setSessionId("a234ksjfgn435sfg")
        .setStatus("$active")
        .setIp("255.255.255.0")
        // Required $message object
        .setMessage(new Message()
                .setBody("Let’s meet at 5pm")
                .setContactEmail("alex_301@domain.com")
                .setRecipientUserIds(Arrays.asList("fy9h989sjphh71"))
                .setImages(Arrays.asList(new Image()
                        .setMd5Hash("18E927C7E1229DC8F088643B7A65F978")
                        .setLink("https://www.domain.com/file.png")
                        .setDescription("An old picture")))));
        // Send this information from a BROWSER client.
        .setBrowser(new Browser()
                .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
                .setAcceptLanguage("en-US")
                .setContentLanguage("en-GB"))

        // =========================================

        // Send this information from an APP client.
        .setApp(new App()
                // Example for the iOS Calculator app.
                .setOperatingSystem("iOS")
                .setOperatingSystemVersion("10.1.3")
                .setDeviceManufacturer("Apple")
                .setDeviceModel("iPhone 4,2")
                .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
                .setAppName("Calculator")
                .setAppVersion("3.2.7")
                .setClientLanguage("en-US")));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-create-content-post"><div><h1>$create_content.post</h1><p>Use <code>$create_content</code> with a <code>$post</code> type to represent information a user has shared with your community.
Examples include social media posts like status updates, forum posts, blog articles, etc.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$create_content"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's internal account ID. Users without an assigned <code>$user_id</code> will not show up in the console.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$content_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The unique ID that you assign to an individual piece of content in your system.
 Note: content IDs are case sensitive and must be unique across all content types..</p></div></li><li><div class="field">$session_id</div><div class="value-details"><strong> String </strong><p>The user's current session ID, used to tie a user's action before and after login or account creation.</p></div></li><li><div class="field">$status</div><div class="value-details"><strong>String</strong><p>The status of the posting. After you create a posting, you can also update its status via the
<code>$content_status</code> event.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field">$draft</span><span class="sub-details">The post has not yet been submitted by the user to go live.</span></li><li><span class="sub-field">$pending</span><span class="sub-details">The user has submitted the post but has not gone live. This may be because the post needs to be
reviewed, the user needs to add payment details, or because of some other processes within your business.</span></li><li><span class="sub-field">$active</span><span class="sub-details">The post is live and active on your site. Other users can see the post.</span></li><li><span class="sub-field">$paused</span><span class="sub-details">The post has been paused by the user and may return back to <code>$active</code> at a later date.</span></li><li><span class="sub-field">$deleted_by_user</span><span class="sub-details">The post has been deleted or archived by the user.</span></li><li><span class="sub-field">$deleted_by_company</span><span class="sub-details">The post has been deleted or archived by your company due to violation of terms of service or other
policies.</span></li></ul></div></li><li><div class="field">$ip</div><div class="value-details"><strong>String</strong><p>IP address of the request made by the user. Recommended for historical backfills and customers with
 with mobile apps.</p></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is used to create the post. Represented by the <code>$browser</code> object.
 Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is used to create the post. Represented by the <code>$app</code> object.
 Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$post</div><div class="value-details"><strong>Object</strong><p>Contains information about the post.</p></div></li><ul class="api-fields"><li><div class="field">$subject</div><div class="value-details"><strong>String</strong><p>The user-supplied subject of the post.</p></div></li><li><div class="field">$body</div><div class="value-details"><strong>String</strong><p>The text content of the post.</p></div></li><li><div class="field">$contact_email</div><div class="value-details"><strong>String</strong><p>The email address provided with the post for contacting the poster. When no email address is
 provided for the listing, use the email address of the user account instead.</p></div></li><li><div class="field">$contact_address</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Address</span></strong><p>The physical contact address provided with the post. When no address is provided for the post,
 use the physical address of the user account instead.</p></div></li><li><div class="field">$locations</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Array of Addresses</span></strong><p>The locations associated with the post. In the example above, the locations array contains
 the check-in location of a social-media post.
 You can pass one or more addresses that are associated with your post.
 Pass as much information as you have. Partial addresses such as just the city and state are fine if that's all you have.</p></div></li><li><div class="field">$categories</div><div class="value-details"><strong>Array of Strings</strong><p>The category or categories you associate with the posting. For example, a blog post might be
 categorized as <code>["Family", "Travel"]</code>.</p></div></li><li><div class="field">$images</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/image">Array of Images</span></strong><p>The list of images shared by the user with their post. It includes images pasted inline or attached
 separately.</p></div></li><li><div class="field">$expiration_time</div><div class="value-details"><strong>Integer</strong><p>The UNIX timestamp in milliseconds of when the post will expire. Only set if the post is time
 bound in some way.</p></div></li></ul><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $create_content event for posts
{
  // Required fields
  "$type"               : "$create_content",
  "$api_key"            : "YOUR_API_KEY",
  "$user_id"            : "fyw3989sjpqr71",
  "$content_id"         : "post-23412",

  // Recommended fields
  "$session_id"         : "a234ksjfgn435sfg",
  "$status"             : "$active",
  "$ip"                 : "255.255.255.0",

  // Required $post object
  "$post"               : {
    "$subject"          : "My new apartment!",
    "$body"             : "Moved into my new apartment yesterday.",
    "$contact_email"    : "alex_301@domain.com",
    "$contact_address"  : {
      "$name"           : "Bill Jones",
      "$city"           : "New London",
      "$region"         : "New Hampshire",
      "$country"        : "US",
      "$zipcode"        : "03257"
    },
    "$locations"        : [
      {
        "$city"             : "Seattle",
        "$region"           : "Washington",
        "$country"          : "US",
        "$zipcode"          : "98112"
      }
    ],
    "$categories"       : ["Personal"],
    "$images"           : [
      {
        "$md5_hash"         : "0cc175b9c0f1b6a831c399e269772661",
        "$link"             : "https://www.domain.com/file.png",
        "$description"      : "View from the window!"
      }
    ],
    "$expiration_time"  : 1549063157000 // UNIX timestamp in milliseconds
  },

  // Send this information from a BROWSER client.
  "$browser"        : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  // =========================================

  // Send this information from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new({api_key: "YOUR_API_KEY"})

# Sample $create_content event for posts
post_properties = {
  # Required fields
  '$user_id'            => 'fyw3989sjpqr71',
  '$content_id'         => 'post-23412',

  # Recommended fields
  '$session_id'         => 'a234ksjfgn435sfg',
  '$status'             => '$active',
  '$ip'                 => '255.255.255.0',

  # Required $post object
  '$post'               => {
    '$subject'          => 'My new apartment!',
    '$body'             => 'Moved into my new apartment yesterday.',
    '$contact_email'    => 'alex_301@domain.com',
    '$contact_address'  => {
      '$name'           => 'Bill Jones',
      '$city'           => 'New London',
      '$region'         => 'New Hampshire',
      '$country'        => 'US',
      '$zipcode'        => '03257'
    },
    '$locations'        => [
      {
        '$city'              => 'Seattle',
        '$region'            => 'Washington',
        '$country'           => 'US',
        '$zipcode'           => '98112'
      }
    ],
    '$categories'       => ['Personal'],
    '$images'           => [
      {
        '$md5_hash'          => '0cc175b9c0f1b6a831c399e269772661',
        '$link'              => 'https://www.domain.com/file.png',
        '$description'       => 'View from the window!'
      }
    ],
    '$expiration_time'  => 1549063157000 # UNIX timestamp in milliseconds
  },

  # Send this information from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$create_content", post_properties)
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

# Sample $create_content event for posts
post_properties = {
  # Required fields
  "$user_id"              : "fyw3989sjpqr71",
  "$content_id"           : "post-23412",

  # Recommended fields
  "$session_id"           : "a234ksjfgn435sfg",
  "$status"               : "$active",
  "$ip"                   : "255.255.255.0",

  # Required $post object
  "$post"                 : {
    "$subject"          : "My new apartment!",
    "$body"             : "Moved into my new apartment yesterday.",
    "$contact_email"    : "alex_301@domain.com",
    "$contact_address"  : {
      "$name"         : "Bill Jones",
      "$city"         : "New London",
      "$region"       : "New Hampshire",
      "$country"      : "US",
      "$zipcode"      : "03257"
    },
    "$locations"        : [
      {
        "$city"         : "Seattle",
        "$region"       : "Washington",
        "$country"      : "US",
        "$zipcode"      : "98112"
      }
    ],
    "$categories"       : ["Personal"],
    "$images"           : [
      {
        "$md5_hash"     : "0cc175b9c0f1b6a831c399e269772661",
        "$link"         : "https://www.domain.com/file.png",
        "$description"  : "View from the window!"
      }
    ],
    "$expiration_time"  : 1549063157000 # UNIX timestamp in milliseconds
  },

  # Send this information from a BROWSER client.
  "$browser"      : {
    "$user_agent" :  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        : {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}

response = client.track("$create_content", post_properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$event = '$create_content';
$client = new SiftClient(array('api_key' => YOUR_API_KEY));

// Sample $create_content event for posts
$post_properties = array(
  // Required fields
  '$user_id' => 'fyw3989sjpqr71',
  '$content_id' => 'post-23412',

  // Recommended fields
  '$session_id'         => 'a234ksjfgn435sfg',
  '$status'             => '$active',
  '$ip'                 => '255.255.255.0',

  // Required $post object
  '$post'               => array(
    '$subject'          => 'My new apartment!',
    '$body'             => 'Moved into my new apartment yesterday.',
    '$contact_email'    => 'alex_301@domain.com',
    '$contact_address'  => array(
      '$name'                => 'Bill Jones',
      '$city'                => 'New London',
      '$region'              => 'New Hampshire',
      '$country'             => 'US',
      '$zipcode'             => '03257'
    ),
    '$locations'        => array(
      array(
        '$city'              => 'Seattle',
        '$region'            => 'Washington',
        '$country'           => 'US',
        '$zipcode'           => '98112'
      )
    ),
    '$categories'       => array('Personal'),
    '$images'           => array(
      array(
        '$md5_hash'          => '0cc175b9c0f1b6a831c399e269772661',
        '$link'              => 'https://www.domain.com/file.png',
        '$description'       => 'View from the window!'
      )
    ),
    '$expiration_time'  => 1549063157000
  ),

  // Send this information from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information an APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track($event, $post_properties);
</pre><pre class="prettyprint lang java code-partial">import java.util.Arrays;

import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.SiftClient;
import com.siftscience.exception.SiftException;
import com.siftscience.model.Address;
import com.siftscience.model.CreatePostFieldSet;
import com.siftscience.model.Image;
import com.siftscience.model.Item;
import com.siftscience.model.Post;

SiftClient client = new SiftClient("YOUR_API_KEY");

// Sample $create_content event for posts
EventRequest request = client.buildRequest(new CreatePostFieldSet()
        // Required fields
        .setUserId("fyw3989sjpqr71")
        .setContentId("post-23412")
        // Recommended fields
        .setSessionId("a234ksjfgn435sfg")
        .setStatus("$active")
        .setIp("255.255.255.0")
        // Required $post object
        .setPost(new Post()
                .setSubject("My new apartment!")
                .setBody("Moved into my new apartment yesterday.")
                .setContactEmail("alex_301@domain.com")
                .setContactAddress(new Address()
                        .setName("Bill Jones")
                        .setPhone("1-415-555-6041")
                        .setRegion("New Hampshire")
                        .setCity("New London")
                        .setCountry("US")
                        .setZipCode("03257"))
                .setLocations(Arrays.asList(new Address()
                        .setCity("Seattle")
                        .setRegion("Washington")
                        .setCountry("US")
                        .setZipCode("98112")))
                .setCategories(Arrays.asList("Personal"))
                .setImages(Arrays.asList(new Image()
                        .setMd5Hash("18E927C7E1229DC8F088643B7A65F978")
                        .setLink("https://www.domain.com/file.png")
                        .setDescription("An old picture")))
                .setExpirationTime(1549063157000L))); // UNIX timestamp in milliseconds
        // Send this information from a BROWSER client.
        .setBrowser(new Browser()
                .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
                .setAcceptLanguage("en-US")
                .setContentLanguage("en-GB"))

        // =========================================

        // Send this information from an APP client.
        .setApp(new App()
                // Example for the iOS Calculator app.
                .setOperatingSystem("iOS")
                .setOperatingSystemVersion("10.1.3")
                .setDeviceManufacturer("Apple")
                .setDeviceModel("iPhone 4,2")
                .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
                .setAppName("Calculator")
                .setAppVersion("3.2.7")
                .setClientLanguage("en-US")));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-create-content-profile"><div><h1>$create_content.profile</h1><p>Use <code>$create_content</code> with a <code>$profile</code> type to represent information related to a user's profile.
This may include a social media profile, dating profile, etc.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$create_content"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's internal account ID. Users without an assigned <code>$user_id</code> will not show up in the console.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$content_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The unique ID that you assign to an individual piece of content in your system.
Note: content IDs are case sensitive and must be unique across all content types.</p></div></li><li><div class="field">$session_id</div><div class="value-details"><strong> String </strong><p>The user's current session ID, used to tie a user's action before and after login or account creation.</p></div></li><li><div class="field">$status</div><div class="value-details"><strong>String</strong><p>The status of the profile. After you create a profile, you can also update its status via the
<code>$content_status</code> event.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field">$draft</span><span class="sub-details">The profile has not yet been submitted by the user to go live.</span></li><li><span class="sub-field">$pending</span><span class="sub-details">The user has submitted the profile but has not gone live. This may be because the profile needs to be
reviewed, the user needs to add payment details, or because of some other processes within your business.</span></li><li><span class="sub-field">$active</span><span class="sub-details">The profile is live and active on your site. Other users can see the profile.</span></li><li><span class="sub-field">$paused</span><span class="sub-details">The profile has been paused by the user and may return back to <code>$active</code> at a later date.</span></li><li><span class="sub-field">$deleted_by_user</span><span class="sub-details">The profile has been deleted or archived by the user.</span></li><li><span class="sub-field">$deleted_by_company</span><span class="sub-details">The profile has been deleted or archived by your company due to violation of terms of service or other
policies.</span></li></ul></div></li><li><div class="field">$ip</div><div class="value-details"><strong>String</strong><p>IP address of the request made by the user. Recommended for historical backfills and customers with
 with mobile apps.</p></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is used to create the profile. Represented by the <code>$browser</code> object.
 Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is used to create the profile. Represented by the <code>$app</code> object.
 Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$profile</div><div class="value-details"><strong>Object</strong><p>Contains information about the profile.</p></div></li><ul class="api-fields"><li><div class="field">$body</div><div class="value-details"><strong>String</strong><p>The text content of the profile.</p></div></li><li><div class="field">$contact_email</div><div class="value-details"><strong>String</strong><p>The email address provided with the profile for contacting the user. When no email address is
 provided for the listing, use the email address of the user account instead.</p></div></li><li><div class="field">$contact_address</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Address</span></strong><p>The physical contact address provided with the profile. When no address is provided for the profile,
 use the physical address of the user account instead.</p></div></li><li><div class="field">$images</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/image">Array of Images</span></strong><p>The list of images shared by the user with their profile. It includes images pasted inline or attached
 separately.</p></div></li><li><div class="field">$categories</div><div class="value-details"><strong>Array of Strings</strong><p>The category or categories you associate with the profile. For example, a profile on a services
 marketplace might be categorized as <code>["Photographer", "Weddings"]</code>.</p></div></li></ul><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $create_content event for profiles
{
  // Required fields
  "$type"               : "$create_content",
  "$api_key"            : "YOUR_API_KEY",
  "$user_id"            : "fyw3989sjpqr71",
  "$content_id"         : "profile-23412",

  // Recommended fields
  "$session_id"         : "a234ksjfgn435sfg",
  "$status"             : "active",
  "$ip"                 : "255.255.255.0",

  // Required $profile object
  "$profile"            : {
    "$body"             : "Hi! My name is Alex and I just moved to New London!",
    "$contact_email"    : "alex_301@domain.com",
    "$contact_address"  : {
    "$name"             : "Alex Smith",
    "$phone"            : "1-415-555-6041",
    "$city"             : "New London",
    "$region"           : "New Hampshire",
    "$country"          : "US",
    "$zipcode"          : "03257"
    },
    "$images"             : [
      {
        "$md5_hash"           : "0cc175b9c0f1b6a831c399e269772661",
        "$link"               : "https://www.domain.com/file.png",
        "$description"        : "Alex’s picture"
      }
    ],
    "$categories"         : ["Friends", "Long-term dating"]
  },

  // Send this information from a BROWSER client.
  "$browser"        : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  // =========================================

  // Send this information from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new({api_key: "YOUR_API_KEY"})

# Sample $create_content event for profiles
profile_properties = {
  # Required fields
  '$user_id'            => 'fyw3989sjpqr71',
  '$content_id'         => 'profile-23412',

  # Recommended fields
  '$session_id'         => 'a234ksjfgn435sfg',
  '$status'             => '$active',
  '$ip'                 => '255.255.255.0',

  # Required $profile object
  '$profile'            => {
    '$body'             => 'Hi! My name is Alex and I just moved to New London!',
    '$contact_email'    => 'alex_301@domain.com',
    '$contact_address'  => {
      '$name'           => 'Alex Smith',
      '$phone'          => '1-415-555-6041',
      '$city'           => 'New London',
      '$region'         => 'New Hampshire',
      '$country'        => 'US',
      '$zipcode'        => '03257'
    },
    '$images'           => [
      {
        '$md5_hash'          => '0cc175b9c0f1b6a831c399e269772661',
        '$link'              => 'https://www.domain.com/file.png',
        '$description'       => 'Alex’s picture'
      }
    ],
    '$categories'       => [
      'Friends',
      'Long-term dating'
    ]
  },

  # Send this information from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$create_content", profile_properties)
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

# Sample $create_content event for reviews
profile_properties = {
  # Required fields
  "$user_id"              : "fyw3989sjpqr71",
  "$content_id"           : "profile-23412",

  # Recommended fields
  "$session_id"           : "a234ksjfgn435sfg",
  "$status"               : "$active",
  "$ip"                   : "255.255.255.0",

  # Required $profile object
  "$profile"              : {
    "$body"             : "Hi! My name is Alex and I just moved to New London!",
    "$contact_email"    : "alex_301@domain.com",
    "$contact_address"  : {
        "$name"         : "Alex Smith",
        "$phone"        : "1-415-555-6041",
        "$city"         : "New London",
        "$region"       : "New Hampshire",
        "$country"      : "US",
        "$zipcode"      : "03257"
    },
    "$images"           : [
      {
        "$md5_hash"     : "0cc175b9c0f1b6a831c399e269772661",
        "$link"         : "https://www.domain.com/file.png",
        "$description"  : "Alex's picture"
      }
    ],
    "$categories"       : [
      "Friends",
      "Long-term dating"
    ]
  },

  # Send this information from a BROWSER client.
  "$browser"      : {
    "$user_agent" :  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        : {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}

response = client.track("$create_content", profile_properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$event = '$create_content';
$client = new SiftClient(array('api_key' => YOUR_API_KEY));

// Sample $create_content event for profiles
$profile_properties = array(
  // Required fields
  '$user_id'            => 'fyw3989sjpqr71',
  '$content_id'         => 'profile-23412',

  // Recommended fields
  '$session_id'         => 'a234ksjfgn435sfg',
  '$status'             => '$active',
  '$ip'                 => '255.255.255.0',

  // Required $profile object
  '$profile'            => array(
    '$body'             => 'Hi! My name is Alex and I just moved to New London!',
    '$contact_email'    => 'alex_301@domain.com',
    '$contact_address'  => array(
      '$name'           => 'Alex Smith',
      '$phone'          => '1-415-555-6041',
      '$city'           => 'New London',
      '$region'         => 'New Hampshire',
      '$country'        => 'US',
      '$zipcode'        => '03257'
    ),
    '$images'           => array(
      array(
        '$md5_hash'          => '0cc175b9c0f1b6a831c399e269772661',
        '$link'              => 'https://www.domain.com/file.png',
        '$description'       => 'Alex’s picture'
      )
    ),
    '$categories'       => array(
      'Friends',
      'Long-term dating'
    )
  ),

  // Send this information from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information an APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track($event, $profile_properties);
</pre><pre class="prettyprint lang java code-partial">import java.util.Arrays;

import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.SiftClient;
import com.siftscience.exception.SiftException;
import com.siftscience.model.Address;
import com.siftscience.model.CreateProfileFieldSet;
import com.siftscience.model.Image;
import com.siftscience.model.Profile;

SiftClient client = new SiftClient("YOUR_API_KEY");

// Sample $create_content event for profiles
EventRequest request = client.buildRequest(new CreateProfileFieldSet()
        // Required fields
        .setUserId("fyw3989sjpqr71")
        .setContentId("profile-23412")
        // Recommended fields
        .setSessionId("a234ksjfgn435sfg")
        .setStatus("$active")
        .setIp("255.255.255.0")
        // Required $profile object
        .setProfile(new Profile()
                .setBody("Hi! My name is Alex and I just moved to New London!")
                .setContactEmail("alex_301@domain.com")
                .setContactAddress(new Address()
                        .setName("Bill Jones")
                        .setPhone("1-415-555-6041")
                        .setRegion("New Hampshire")
                        .setCity("New London")
                        .setCountry("US")
                        .setZipCode("03257"))
                .setCategories(Arrays.asList("Friends", "Long-term dating"))
                .setImages(Arrays.asList(new Image()
                        .setMd5Hash("18E927C7E1229DC8F088643B7A65F978")
                        .setLink("https://www.domain.com/file.png")
                        .setDescription("An old picture")))));
        // Send this information from a BROWSER client.
        .setBrowser(new Browser()
                .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
                .setAcceptLanguage("en-US")
                .setContentLanguage("en-GB"))

        // =========================================

        // Send this information from an APP client.
        .setApp(new App()
                // Example for the iOS Calculator app.
                .setOperatingSystem("iOS")
                .setOperatingSystemVersion("10.1.3")
                .setDeviceManufacturer("Apple")
                .setDeviceModel("iPhone 4,2")
                .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
                .setAppName("Calculator")
                .setAppVersion("3.2.7")
                .setClientLanguage("en-US")));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-create-content-review"><div><h1>$create_content.review</h1><p>Use <code>$create_content</code> with a <code>$review</code> type to represent information related to a product or service review
submitted by your users.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$create_content"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's internal account ID. Users without an assigned <code>$user_id</code> will not show up in the console.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$content_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The unique ID that you assign to an individual piece of content in your system.
Note: content IDs are case sensitive and must be unique across all content types.</p></div></li><li><div class="field">$session_id</div><div class="value-details"><strong> String </strong><p>The user's current session ID, used to tie a user's action before and after login or account creation.</p></div></li><li><div class="field">$status</div><div class="value-details"><strong>String</strong><p>The status of the review. After you create a review, you can also update its status via the
<code>$content_status</code> event.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field">$draft</span><span class="sub-details">The review has not yet been submitted by the user to go live.</span></li><li><span class="sub-field">$pending</span><span class="sub-details">The user has submitted the review but has not gone live. This may be because the review needs to be
reviewed, the user needs to add payment details, or because of some other processes within your business.</span></li><li><span class="sub-field">$active</span><span class="sub-details">The review is live and active on your site. Other users can see the review.</span></li><li><span class="sub-field">$paused</span><span class="sub-details">The review has been paused by the user and may return back to <code>$active</code> at a later date.</span></li><li><span class="sub-field">$deleted_by_user</span><span class="sub-details">The review has been deleted or archived by the user.</span></li><li><span class="sub-field">$deleted_by_company</span><span class="sub-details">The review has been deleted or archived by your company due to violation of terms of service or other
policies.</span></li></ul></div></li><li><div class="field">$ip</div><div class="value-details"><strong>String</strong><p>IP address of the request made by the user. Recommended for historical backfills and customers with
 with mobile apps.</p></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is used to create the review. Represented by the <code>$browser</code> object.
 Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is used to create the review. Represented by the <code>$app</code> object.
 Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$review</div><div class="value-details"><strong>Object</strong><p>Contains information about the review.</p></div></li><ul class="api-fields"><li><div class="field">$subject</div><div class="value-details"><strong>String</strong><p>The user-supplied title of the review.</p></div></li><li><div class="field">$body</div><div class="value-details"><strong>String</strong><p>The text content of the review.</p></div></li><li><div class="field">$contact_email</div><div class="value-details"><strong>String</strong><p>The email address provided with the review for contacting the reviewer. When no email address is
 provided for the listing, use the email address of the user account instead.</p></div></li><li><div class="field">$locations</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Array of Addresses</span></strong><p>The locations associated with the review. In the example above, the location of the restaurant being reviewed.
 You can pass one or more addresses that are associated with your review.
 Pass as much information as you have. Partial addresses such as just the city and state are fine if that's all you have.</p></div></li><li><div class="field">$item_reviewed</div><div class="value-details"><string><span data-href="/events-api/complex-field-types/item">Item</span></string><p>An Item object representing the item being reviewed.</p></div></li><li><div class="field">$reviewed_content_id</div><div class="value-details"><string>String</string><p>The <code>$content_id</code> of the item being reviewed. For example, this could be the id for the
 <code>$listing</code> or <code>$profile</code> being reviewed.</p></div></li><li><div class="field">$rating</div><div class="value-details"><string>Float</string><p>A numeric rating supplied by the reviewer.</p></div></li><li><div class="field">$images</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/image">Array of Images</span></strong><p>The list of images shared by the user with their review. It includes images pasted inline or attached
 separately.</p></div></li></ul><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $create_content event for reviews
{
  // Required fields
  "$type"                   : "$create_content",
  "$api_key"                : "YOUR_API_KEY",
  "$user_id"                : "fyw3989sjpqr71",
  "$content_id"             : "review-23412",

  // Recommended fields
  "$session_id"             : "a234ksjfgn435sfg",
  "$status"                 : "$active",
  "$ip"                     : "255.255.255.0",

  // Required $review object
  "$review"                 : {
    "$subject"              : "Amazing Tacos!",
    "$body"                 : "I ate the tacos.",
    "$contact_email"        : "alex_301@domain.com",
    "$locations"            : [
      {
        "$city"                 : "Seattle",
        "$region"               : "Washington",
        "$country"              : "US",
        "$zipcode"              : "98112"
      }
    ],
    "$reviewed_content_id"  : "listing-234234",
    "$images"               : [
      {
        "$md5_hash"             : "0cc175b9c0f1b6a831c399e2697726618",
        "$link"                 : "https://www.domain.com/file.png",
        "$description"          : "Calamari tacos."
      }
    ],
    "$rating"               : 4.5
  },

  // Send this information from a BROWSER client.
  "$browser"        : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  // =========================================

  // Send this information from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new({api_key: "YOUR_API_KEY"})

# Sample $create_content event for reviews
review_properties = {
  # Required fields
  '$user_id' => 'fyw3989sjpqr71',
  '$content_id' => 'review-23412',

  # Recommended fields
  '$session_id'             => 'a234ksjfgn435sfg',
  '$status'                 => '$active',
  '$ip'                     => '255.255.255.0',

  # Required $review object
  '$review'                 => {
    '$subject'              => 'Amazing Tacos!',
    '$body'                 => 'I ate the tacos.',
    '$contact_email'        => 'alex_301@domain.com',
    '$locations'            => [
      {
        '$city'                  => 'Seattle',
        '$region'                => 'Washington',
        '$country'               => 'US',
        '$zipcode'               => '98112'
      }
    ],
    '$reviewed_content_id'  => 'listing-234234',
    '$images'               => [
      {
        '$md5_hash'              => '0cc175b9c0f1b6a831c399e269772661',
        '$link'                  => 'https =>//www.domain.com/file.png',
        '$description'           => 'Calamari tacos.'
      }
    ],
    '$rating'               => 4.5
  },

  # Send this information from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$create_content", review_properties)
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

# Sample $create_content event for reviews
review_properties = {
  # Required fields
  "$user_id"                  : "fyw3989sjpqr71",
  "$content_id"               : "review-23412",

  # Recommended fields
  "$session_id"               : "a234ksjfgn435sfg",
  "$status"                   : "$active",
  "$ip"                       : "255.255.255.0",

  # Required $review object
  "$review"                   : {
    "$subject"              : "Amazing Tacos!",
    "$body"                 : "I ate the tacos.",
    "$contact_email"        : "alex_301@domain.com",
    "$locations"            : [
      {
        "$city"             : "Seattle",
        "$region"           : "Washington",
        "$country"          : "US",
        "$zipcode"          : "98112"
      }
    ],
    "$reviewed_content_id"  : "listing-234234",
    "$images"               : [
      {
        "$md5_hash"         : "0cc175b9c0f1b6a831c399e269772661",
        "$link"             : "https://www.domain.com/file.png",
        "$description"      : "Calamari tacos."
      }
    ],
    "$rating" : 4.5
  },

  # Send this information from a BROWSER client.
  "$browser"      : {
    "$user_agent" :  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        : {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}

response = client.track("$create_content", review_properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$event = '$create_content';
$client = new SiftClient(array('api_key' => YOUR_API_KEY));

// Sample $create_content event for reviews
$review_properties = array(
  // Required fields
  '$user_id'                => 'fyw3989sjpqr71',
  '$content_id'             => 'review-23412',

  // Recommended fields
  '$session_id'             => 'a234ksjfgn435sfg',
  '$status'                 => '$active',
  '$ip'                     => '255.255.255.0',

  // Required $review object
  '$review'                 => array(
    '$subject'              => 'Amazing Tacos!',
    '$body'                 => 'I ate the tacos.',
    '$contact_email'        => 'alex_301@domain.com',
    '$locations'            => array(
      array(
        '$city'                 => 'Seattle',
        '$region'               => 'Washington',
        '$country'              => 'US',
        '$zipcode'              => '98112'
      )
    ),
    '$reviewed_content_id'  => 'listing-234234',
    '$images'               => array(
      array(
        '$md5_hash'             => '0cc175b9c0f1b6a831c399e269772661',
        '$link'                 => 'https://www.domain.com/file.png',
        '$description'          => 'Calamari tacos.'
      )
    ),
    '$rating'               => 4.5
  ),

  // Send this information from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information an APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track($event, $review_properties);
</pre><pre class="prettyprint lang java code-partial">import java.util.Arrays;

import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.SiftClient;
import com.siftscience.exception.SiftException;
import com.siftscience.model.Address;
import com.siftscience.model.CreateReviewFieldSet;
import com.siftscience.model.Image;
import com.siftscience.model.Item;
import com.siftscience.model.Review;

SiftClient client = new SiftClient("YOUR_API_KEY");

// Sample $create_content event for reviews
EventRequest request = client.buildRequest(new CreateReviewFieldSet()
        // Required fields
        .setUserId("fyw3989sjpqr71")
        .setContentId("review-23412")
        // Recommended fields
        .setSessionId("a234ksjfgn435sfg")
        .setStatus("$active")
        .setIp("255.255.255.0")
        // Required $review object
        .setReview(new Review()
                .setSubject("Amazing Tacos!")
                .setBody("I ate the tacos.")
                .setContactEmail("alex_301@domain.com")
                .setLocations(Arrays.asList(new Address()
                        .setCity("Seattle")
                        .setRegion("Washington")
                        .setCountry("US")
                        .setZipCode("98112")))
                .setReviewedContentId("listing_234234")
                .setImages(Arrays.asList(new Image()
                        .setMd5Hash("18E927C7E1229DC8F088643B7A65F978")
                        .setLink("https://www.domain.com/file.png")
                        .setDescription("An old picture")))
                .setRating(4.5)));
        // Send this information from a BROWSER client.
        .setBrowser(new Browser()
                .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
                .setAcceptLanguage("en-US")
                .setContentLanguage("en-GB"))

        // =========================================

        // Send this information from an APP client.
        .setApp(new App()
                // Example for the iOS Calculator app.
                .setOperatingSystem("iOS")
                .setOperatingSystemVersion("10.1.3")
                .setDeviceManufacturer("Apple")
                .setDeviceModel("iPhone 4,2")
                .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
                .setAppName("Calculator")
                .setAppVersion("3.2.7")
                .setClientLanguage("en-US")));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-create-order"><div><h1>$create_order</h1><p>Use <code>$create_order</code> to record when a user submits an order for products or services they intend to purchase.
This API event should contain the products/services ordered, the payment instrument(s), and user identification data.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$create_order"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's account ID according to your systems. Note that user IDs are <em>case sensitive</em>.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$session_id</div><div class="value-details"><strong> String </strong><p>The user's current session ID, used to tie a user's action before and after login or account creation. Required if no
<code>$user_id</code> values is provided.</p></div></li><li><div class="field">$order_id</div><div class="value-details"><strong>String</strong><p>The ID for tracking this order in your system.</p></div></li><li><div class="field">$user_email</div><div class="value-details"><strong> String</strong><p>Email of the user creating this order. Note: If the user's email is also their account ID in your
system, set <strong>both</strong> the <code>$user_id</code> and <code>$user_email</code> fields to their
email address.</p></div></li><li><div class="field">$verification_phone_number</div><div class="value-details"><strong> String</strong><p>Phone number of the user. This phone number will be used to send One-Time Password (OTP) when required.
The phone number should be in E.164 format including <code>+</code> and a country code.</p></div></li><li><div class="field">$amount</div><div class="value-details"><strong>Integer</strong><p>Total transaction amount in micros in the base unit of the <code>$currency_code</code>. 1 cent = 10,000
micros. $1.23 USD = 123 cents = 1,230,000 micros. For currencies without cents of fractional
denominations, like the Japanese Yen, use 1 JPY = 1000000 micros.</p></div></li><li><div class="field">$currency_code</div><div class="value-details"><strong>String</strong><p><a href='http://en.wikipedia.org/wiki/ISO_4217' target='_blank'>ISO-4217</a> currency code for the amount.
If your site uses alternative currencies, specify them here.</p></div></li><li><div class="field">$billing_address</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Address</span></strong><p>The billing address as entered by the user.</p></div></li><li><div class="field">$payment_methods</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/payment-method">Array of Payment Methods</span></strong><p>The payment information associated with this order.</p><p>Note: As opposed to <code>$transaction</code>, <code>$create_order</code> takes an array of
<code>$payment_method</code> objects, so you can record orders that are paid for using multiple payments.
See <span data-href='/events-api/complex-field-types/payment-method'>Payment Method</span>
under <span data-href='/events-api/complex-field-types'>Complex Field Types</span>
for more details.</p></div></li><li><div class="field">$shipping_address</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Address</span></strong><p>The shipping address as entered by the user.</p></div></li><li><div class="field">$expedited_shipping</div><div class="value-details"><strong>Boolean</strong><p>Whether the user requested priority/expedited shipping on their order.</p></div></li><li><div class="field">$items</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/item">Array of Items</span></strong><p>The list of items ordered. This may include physical products, gift cards, in-app purchases etc.
Travel (Flights, Hotels, Rideshare, etc) and Event Ticketing customers should use <code>$bookings</code> instead of <code>$items</code>.
<code>$bookings</code> supports specialized fields for modeling specific to Travel, Ticketing, and other cases
where users make bookings.
Note: cannot be used in conjunction with <code>$bookings</code> or <code>$digital_orders</code>.</p></div></li><li><div class="field">$bookings</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/booking">Array of Bookings</span></strong><p>The list of bookings made. This may include tickets and reservations like flights, hotels, rideshares etc.
Note: cannot be used in conjunction with <code>$items</code> or <code>$digital_orders</code>.</p></div></li><li><div class="field">$seller_user_id</div><div class="value-details"><strong>String</strong><p>For marketplace businesses, this is the seller's user ID, typically a database primary key.
Follow our <span data-href="/events-api/fields">guidelines</span> for <code>$user_id</code> values.</p></div></li><li><div class="field">$promotions</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/promotion">Array of Promotions</span></strong><p>The list of promotions that apply to this order. You can add one or more promotions when creating or
updating an order. You can also separately add promotions to the account via the <code>$add_promotion</code> event.</p></div></li><li><div class="field">$shipping_method</div><div class="value-details"><strong>String</strong><p>Indicates the method of delivery to the user.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li class="inline"><code>"$electronic"</code><code>"$physical"</code></li></ul></div></li><li><div class="field">$shipping_carrier</div><div class="value-details"><strong>String</strong><p>Shipping carrier for the shipment of the product.</p></div></li><li><div class="field">$shipping_tracking_number</div><div class="value-details"><em>deprecated</em><strong> &middot; String</strong><p>Shipping tracking number for the shipment of the product.</p></div></li><li><div class="field">$shipping_tracking_numbers</div><div class="value-details"><strong>Array of Strings</strong><p>Shipping tracking number(s) for the shipment of the product(s).</p></div></li><li><div class="field">$ordered_from</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/ordered-from">Ordered From</span></strong><p>The details about the specific physical location providing the good or service. This can also be used to
capture pickup, delivery locations, etc.</p></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is used to create the order. Represented by the <code>$browser</code> object.
 Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is used to create the order. Represented by the <code>$app</code> object.
 Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$merchant_profile</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/merchant-profile">Merchant Profile</span></strong><p>The details about the merchant or seller providing the goods or service.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$digital_orders</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/digital-order">Array of Digital Orders</span></strong><p>The list of digital orders made. A digital order represents a digital asset which can be part of
a cryptocurrency or digital asset transaction. Note: cannot be used in conjunction with <code>$items</code> or
<code>$bookings</code>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $create_order event
{
  // Required Fields
  "$type"             : "$create_order",
  "$api_key"          : "YOUR_API_KEY",
  "$user_id"          : "billy_jones_301",

  // Supported Fields
  "$session_id"                : "gigtleqddo84l8cm15qe4il",
  "$order_id"                  : "ORDER-28168441",
  "$user_email"                : "billjones1@example.com",
  "$verification_phone_number" : "+123456789012",
  "$amount"                    : 115940000, // $115.94
  "$currency_code"             : "USD",
  "$billing_address"           : {
      "$name"         : "Bill Jones",
      "$phone"        : "1-415-555-6041",
      "$address_1"    : "2100 Main Street",
      "$address_2"    : "Apt 3B",
      "$city"         : "New London",
      "$region"       : "New Hampshire",
      "$country"      : "US",
      "$zipcode"      : "03257"
  },
  "$payment_methods"  : [
      {
          "$payment_type"    : "$credit_card",
          "$payment_gateway" : "$braintree",
          "$card_bin"        : "542486",
          "$card_last4"      : "4444"
      }
  ],
  "$ordered_from" : {
    "$store_id"      : "123",
    "$store_address" : {
      "$name"       : "Bill Jones",
      "$phone"      : "1-415-555-6040",
      "$address_1"  : "2100 Main Street",
      "$address_2"  : "Apt 3B",
      "$city"       : "New London",
      "$region"     : "New Hampshire",
      "$country"    : "US",
      "$zipcode"    : "03257"
    }
  },
  "$brand_name"   : "sift",
  "$site_domain"  : "sift.com",
  "$site_country" : "US",
  "$shipping_address"  : {
      "$name"          : "Bill Jones",
      "$phone"         : "1-415-555-6041",
      "$address_1"     : "2100 Main Street",
      "$address_2"     : "Apt 3B",
      "$city"          : "New London",
      "$region"        : "New Hampshire",
      "$country"       : "US",
      "$zipcode"       : "03257"
  },
  "$expedited_shipping"       : true,
  "$shipping_method"          : "$physical",
  "$shipping_carrier"         : "UPS",
  "$shipping_tracking_numbers": ["1Z204E380338943508", "1Z204E380338943509"],
  "$items"                    : [
    {
      "$item_id"        : "12344321",
      "$product_title"  : "Microwavable Kettle Corn: Original Flavor",
      "$price"          : 4990000, // $4.99
      "$upc"            : "097564307560",
      "$sku"            : "03586005",
      "$brand"          : "Peters Kettle Corn",
      "$manufacturer"   : "Peters Kettle Corn",
      "$category"       : "Food and Grocery",
      "$tags"           : ["Popcorn", "Snacks", "On Sale"],
      "$quantity"       : 4
    },
    {
      "$item_id"        : "B004834GQO",
      "$product_title"  : "The Slanket Blanket-Texas Tea",
      "$price"          : 39990000, // $39.99
      "$upc"            : "6786211451001",
      "$sku"            : "004834GQ",
      "$brand"          : "Slanket",
      "$manufacturer"   : "Slanket",
      "$category"       : "Blankets & Throws",
      "$tags"           : ["Awesome", "Wintertime specials"],
      "$color"          : "Texas Tea",
      "$quantity"       : 2
    }
  ],

  // For marketplaces, use $seller_user_id to identify the seller
  "$seller_user_id"     : "slinkys_emporium",

  "$promotions"         : [
    {
      "$promotion_id" : "FirstTimeBuyer",
      "$status"       : "$success",
      "$description"  : "$5 off",
      "$discount"     : {
        "$amount"                   : 5000000,  // $5.00
        "$currency_code"            : "USD",
        "$minimum_purchase_amount"  : 25000000  // $25.00
      }
    }
  ],

  // Sample Custom Fields
  "digital_wallet"      : "apple_pay", // "google_wallet", etc.
  "coupon_code"         : "dollarMadness",
  "shipping_choice"     : "FedEx Ground Courier",
  "is_first_time_buyer" : false,

  // Send this information from a BROWSER client.
  "$browser"        : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  // =========================================

  // Send this information from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

# Sample $create_order event
properties = {
  # Required Fields
  "$user_id"                   : "billy_jones_301",
  # Supported Fields
  "$session_id"                : "gigtleqddo84l8cm15qe4il",
  "$order_id"                  : "ORDER-28168441",
  "$user_email"                : "billjones1@example.com",
  "$verification_phone_number" : "+123456789012",
  "$amount"                    : 115940000, # $115.94
  "$currency_code"             : "USD",
  "$billing_address"           : {
      "$name"         : "Bill Jones",
      "$phone"        : "1-415-555-6041",
      "$address_1"    : "2100 Main Street",
      "$address_2"    : "Apt 3B",
      "$city"         : "New London",
      "$region"       : "New Hampshire",
      "$country"      : "US",
      "$zipcode"      : "03257"
  },
  "$payment_methods"  : [
      {
          "$payment_type"    : "$credit_card",
          "$payment_gateway" : "$braintree",
          "$card_bin"        : "542486",
          "$card_last4"      : "4444"
      }
  ],
  "$ordered_from" : {
    "$store_id"      : "123",
    "$store_address" : {
      "$name"       : "Bill Jones",
      "$phone"      : "1-415-555-6040",
      "$address_1"  : "2100 Main Street",
      "$address_2"  : "Apt 3B",
      "$city"       : "New London",
      "$region"     : "New Hampshire",
      "$country"    : "US",
      "$zipcode"    : "03257"
    }
  },
  "$brand_name"   : "sift",
  "$site_domain"  : "sift.com",
  "$site_country" : "US",
  "$shipping_address"  : {
      "$name"          : "Bill Jones",
      "$phone"         : "1-415-555-6041",
      "$address_1"     : "2100 Main Street",
      "$address_2"     : "Apt 3B",
      "$city"          : "New London",
      "$region"        : "New Hampshire",
      "$country"       : "US",
      "$zipcode"       : "03257"
  },
  "$expedited_shipping"       : True,
  "$shipping_method"          : "$physical",
  "$shipping_carrier"         : "UPS",
  "$shipping_tracking_numbers": ["1Z204E380338943508", "1Z204E380338943509"],
  "$items"                    : [
    {
      "$item_id"        : "12344321",
      "$product_title"  : "Microwavable Kettle Corn: Original Flavor",
      "$price"          : 4990000, # $4.99
      "$upc"            : "097564307560",
      "$sku"            : "03586005",
      "$brand"          : "Peters Kettle Corn",
      "$manufacturer"   : "Peters Kettle Corn",
      "$category"       : "Food and Grocery",
      "$tags"           : ["Popcorn", "Snacks", "On Sale"],
      "$quantity"       : 4
    },
    {
      "$item_id"        : "B004834GQO",
      "$product_title"  : "The Slanket Blanket-Texas Tea",
      "$price"          : 39990000, # $39.99
      "$upc"            : "6786211451001",
      "$sku"            : "004834GQ",
      "$brand"          : "Slanket",
      "$manufacturer"   : "Slanket",
      "$category"       : "Blankets & Throws",
      "$tags"           : ["Awesome", "Wintertime specials"],
      "$color"          : "Texas Tea",
      "$quantity"       : 2
    }
  ],
  # For marketplaces, use $seller_user_id to identify the seller
  "$seller_user_id"     : "slinkys_emporium",

  "$promotions"         : [
    {
      "$promotion_id" : "FirstTimeBuyer",
      "$status"       : "$success",
      "$description"  : "$5 off",
      "$discount"     : {
        "$amount"                   : 5000000,  # $5.00
        "$currency_code"            : "USD",
        "$minimum_purchase_amount"  : 25000000  # $25.00
      }
    }
  ],

  # Sample Custom Fields
  "digital_wallet"      : "apple_pay", # "google_wallet", etc.
  "coupon_code"         : "dollarMadness",
  "shipping_choice"     : "FedEx Ground Courier",
  "is_first_time_buyer" : False,

  # Send this information from a BROWSER client.
  "$browser"      : {
    "$user_agent" :  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        : {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}

response = client.track("$create_order", properties)
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(:api_key => "YOUR_API_KEY")

# Sample $create_order event
properties = {
  # Required Fields
  "$user_id"          => "billy_jones_301",
  # Supported Fields
  "$session_id"       => "gigtleqddo84l8cm15qe4il",
  "$order_id"         => "ORDER-28168441",
  "$user_email"       => "billjones1@example.com",
  "$amount"           => 115940000, # $115.94
  "$currency_code"    => "USD",
  "$billing_address"  => {
    "$name"         => "Bill Jones",
    "$phone"        => "1-415-555-6041",
    "$address_1"    => "2100 Main Street",
    "$address_2"    => "Apt 3B",
    "$city"         => "New London",
    "$region"       => "New Hampshire",
    "$country"      => "US",
    "$zipcode"      => "03257"
  },
  "$payment_methods"  => [
    {
      "$payment_type"    => "$credit_card",
      "$payment_gateway" => "$braintree",
      "$card_bin"        => "542486",
      "$card_last4"      => "4444"
    }
  ],
  "$ordered_from" => {
    "$store_id"      => "123",
    "$store_address" => {
      "$name"       => "Bill Jones",
      "$phone"      => "1-415-555-6040",
      "$address_1"  => "2100 Main Street",
      "$address_2"  => "Apt 3B",
      "$city"       => "New London",
      "$region"     => "New Hampshire",
      "$country"    => "US",
      "$zipcode"    => "03257"
    }
  },
  "$brand_name"   => "sift",
  "$site_domain"  => "sift.com",
  "$site_country" => "US",
  "$shipping_address"  => {
    "$name"          => "Bill Jones",
    "$phone"         => "1-415-555-6041",
    "$address_1"     => "2100 Main Street",
    "$address_2"     => "Apt 3B",
    "$city"          => "New London",
    "$region"        => "New Hampshire",
    "$country"       => "US",
    "$zipcode"       => "03257"
  },
  "$expedited_shipping"       => true,
  "$shipping_method"          => "$physical",
  "$shipping_carrier"         => "UPS",
  "$shipping_tracking_numbers"=> ["1Z204E380338943508", "1Z204E380338943509"],
  "$items"                    => [
    {
      "$item_id"        => "12344321",
      "$product_title"  => "Microwavable Kettle Corn: Original Flavor",
      "$price"          => 4990000, # $4.99
      "$upc"            => "097564307560",
      "$sku"            => "03586005",
      "$brand"          => "Peters Kettle Corn",
      "$manufacturer"   => "Peters Kettle Corn",
      "$category"       => "Food and Grocery",
      "$tags"           => ["Popcorn", "Snacks", "On Sale"],
      "$quantity"       => 4
    },
    {
      "$item_id"        => "B004834GQO",
      "$product_title"  => "The Slanket Blanket-Texas Tea",
      "$price"          => 39990000, # $39.99
      "$upc"            => "6786211451001",
      "$sku"            => "004834GQ",
      "$brand"          => "Slanket",
      "$manufacturer"   => "Slanket",
      "$category"       => "Blankets & Throws",
      "$tags"           => ["Awesome", "Wintertime specials"],
      "$color"          => "Texas Tea",
      "$quantity"       => 2
    }
  ],
  # For marketplaces, use $seller_user_id to identify the seller
  "$seller_user_id"     => "slinkys_emporium",

  "$promotions"         => [
    {
      "$promotion_id" => "FirstTimeBuyer",
      "$status"       => "$success",
      "$description"  => "$5 off",
      "$discount"     => {
        "$amount"                   => 5000000,  # $5.00
        "$currency_code"            => "USD",
        "$minimum_purchase_amount"  => 25000000  # $25.00
      }
    }
  ],

  # Sample Custom Fields
  "digital_wallet"      => "apple_pay", # "google_wallet", etc.
  "coupon_code"         => "dollarMadness",
  "shipping_choice"     => "FedEx Ground Courier",
  "is_first_time_buyer" => false,

  # Send this information from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$create_order", properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

// Sample $create_order event
$properties = array(
  // Required Fields
  '$user_id'          => 'billy_jones_301',
  // Supported Fields
  '$session_id'       => 'gigtleqddo84l8cm15qe4il',
  '$order_id'         => 'ORDER-28168441',
  '$user_email'       => 'bill@gmail.com',
  '$amount'           => 115940000, // $115.94
  '$currency_code'    => 'USD',
  '$billing_address'  => array(
    '$name'         => 'Bill Jones',
    '$phone'        => '1-415-555-6041',
    '$address_1'    => '2100 Main Street',
    '$address_2'    => 'Apt 3B',
    '$city'         => 'New London',
    '$region'       => 'New Hampshire',
    '$country'      => 'US',
    '$zipcode'      => '03257'
  ),
  '$payment_methods'  =>array(
    array(
      '$payment_type'    => '$credit_card',
      '$payment_gateway' => '$braintree',
      '$card_bin'        => '542486',
      '$card_last4'      => '4444'
    )
  ),
  $ordered_from = array(
    '$store_id'      => '123',
    '$store_address' => array(
      '$name'       => 'Bill Jones',
      '$phone'      => '1-415-555-6040',
      '$address_1'  => '2100 Main Street',
      '$address_2'  => 'Apt 3B',
      '$city'       => 'New London',
      '$region'     => 'New Hampshire',
      '$country'    => 'US',
      '$zipcode'    => '03257'
    )
  ),
  '$brand_name'   => 'sift',
  '$site_domain'  => 'sift.com',
  '$site_country' => 'US',
  '$shipping_address'  => array(
    '$name'          => 'Bill Jones',
    '$phone'         => '1-415-555-6041',
    '$address_1'     => '2100 Main Street',
    '$address_2'     => 'Apt 3B',
    '$city'          => 'New London',
    '$region'        => 'New Hampshire',
    '$country'       => 'US',
    '$zipcode'       => '03257'
  ),
  '$expedited_shipping'       => True,
  '$shipping_method'          => '$physical',
  '$shipping_carrier'         => 'UPS',
  '$shipping_tracking_numbers'=> array('1Z204E380338943508', '1Z204E380338943509'),
  '$items'                    => array(
    // A list of items
    array(
      '$item_id'        => '12344321',
      '$product_title'  => 'Microwavable Kettle Corn: Original Flavor',
      '$price'          => 4990000, // $4.99
      '$upc'            => '097564307560',
      '$sku'            => '03586005',
      '$brand'          => 'Peters Kettle Corn',
      '$manufacturer'   => 'Peters Kettle Corn',
      '$category'       => 'Food and Grocery',
      '$tags'           => array('Popcorn', 'Snacks', 'On Sale'),
      '$quantity'       => 4
    ),
    array(
      '$item_id'        => 'B004834GQO',
      '$product_title'  => 'The Slanket Blanket-Texas Tea',
      '$price'          => 39990000, // $39.99
      '$upc'            => '6786211451001',
      '$sku'            => '004834GQ',
      '$brand'          => 'Slanket',
      '$manufacturer'   => 'Slanket',
      '$category'       => 'Blankets & Throws',
      '$tags'           => array('Awesome', 'Wintertime specials'),
      '$color'          => 'Texas Tea',
      '$quantity'       => 2
    )
  ),
  // For marketplaces, use $seller_user_id to identify the seller
  '$seller_user_id'     => 'slinkys_emporium',

  '$promotions'         => array(
    array(
      '$promotion_id' => 'FirstTimeBuyer',
      '$status'       => '$success',
      '$description'  => '$5 off',
      '$discount'     => array(
        '$amount'                   => 5000000,  // $5.00
        '$currency_code'            => 'USD',
        '$minimum_purchase_amount'  => 25000000  // $25.00
      )
    )
  ),

  // Sample Custom Fields
  'digital_wallet'      => 'apple_pay' // 'google_wallet', etc.
  'coupon_code'         => 'dollarMadness',
  'shipping_choice'     => 'FedEx Ground Courier',
  'is_first_time_buyer' => False,

  // Send this information from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information an APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track('$create_order', $properties);
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.EventRequest;
import com.siftscience.model.CreateOrderFieldSet;
import com.siftscience.model.Address;
import com.siftscience.model.Item;
import com.siftscience.model.Discount;
import com.siftscience.model.Promotion;
import com.siftscience.model.PaymentMethod;

SiftClient client = new SiftClient("YOUR_API_KEY");
EventRequest request = client.buildRequest(new CreateOrderFieldSet()
        // Required Fields
        .setUserId("billy_jones_301")
        // Supported Fields
        .setSessionId("gigtleqddo84l8cm15qe4il")
        .setOrderId("ORDER-28168441")
        .setUserEmail("billjones1@example.com")
        .setAmount(115940000L)
        .setCurrencyCode("USD")
        .setBillingAddress(new Address()
                .setName("Bill Jones")
                .setPhone("1-415-555-6041")
                .setAddress1("2100 Main Street")
                .setAddress2("Apt 3B")
                .setCity("New London")
                .setRegion("New Hampshire")
                .setCountry("US")
                .setZipCode("03257"))
        .setPaymentMethods(Arrays.asList(new PaymentMethod()
                .setPaymentType("$credit_card")
                .setPaymentGateway("$braintree")
                .setCardBin("542486")
                .setCardLast4("4444")))
        .setOrderedFrom(new OrderedFrom()
                .setStoreId("123")
                .setStoreAddress(new Address()
                        .setName("New London Stop")
                        .setAddress1("2100 Main Street")
                        .setCity("New London")
                        .setRegion("New Hampshire")
                        .setCountry("US")
                        .setZipCode("03257"))
        .setBrandName("sift")
        .setSiteDomain("sift.com")
        .setSiteCountry("US")
        .setShippingAddress(new Address()
                .setName("Bill Jones")
                .setPhone("1-415-555-6041")
                .setAddress1("2100 Main Street")
                .setAddress2("Apt 3B")
                .setCity("New London")
                .setRegion("New Hampshire")
                .setCountry("US")
                .setZipCode("03257"))
        .setExpeditedShipping(true)
        .setShippingMethod("$physical")
        .setShippingCarrier("UPS")
        .setShippingTrackingNumbers(Arrays.asList("1Z204E380338943508", "1Z204E380338943509"))
        .setItems(Arrays.asList(
                new Item()
                        .setItemId("12344321")
                        .setProductTitle("Microwavable Kettle Corn: Original Flavor")
                        .setPrice(4990000L)
                        .setUpc("097564307560")
                        .setSku("03586005")
                        .setBrand("Peters Kettle Corn")
                        .setManufacturer("Peters Kettle Corn")
                        .setCategory("Food and Grocery")
                        .setTags(Arrays.asList("Popcorn", "Snacks", "On Sale"))
                        .setQuantity(4L),
                new Item()
                        .setItemId("B004834GQO")
                        .setProductTitle("The Slanket Blanket-Texas Tea")
                        .setPrice(39990000L)
                        .setUpc("6786211451001")
                        .setSku("004834GQ")
                        .setBrand("Slanket")
                        .setManufacturer("Slanket")
                        .setCategory("Blankets & Throws")
                        .setTags(Arrays.asList("Awesome", "Wintertime specials"))
                        .setQuantity(2L)))
        .setSellerUserId("slinkys_emporium")
        .setPromotions(Arrays.asList(new Promotion()
                .setPromotionId("FirstTimeBuyer")
                .setStatus("$success")
                .setDescription("$5 off")
                .setDiscount(new Discount()
                        .setAmount(5000000L)
                        .setCurrencyCode("USD")
                        .setMinimumPurchaseAmount(25000000L))))
        // Sample Custom Fields
        .setCustomField("digital_wallet", "apple_pay")
        .setCustomField("coupon_code", "dollarMadness")
        .setCustomField("shipping_choice", "Fedex Ground Courier")
        .setCustomField("is_first_time_buyer", false));
        // Send this information from a BROWSER client.
        .setBrowser(new Browser()
                .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
                .setAcceptLanguage("en-US")
                .setContentLanguage("en-GB"))

        // =========================================

        // Send this information from an APP client.
        .setApp(new App()
                // Example for the iOS Calculator app.
                .setOperatingSystem("iOS")
                .setOperatingSystemVersion("10.1.3")
                .setDeviceManufacturer("Apple")
                .setDeviceModel("iPhone 4,2")
                .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
                .setAppName("Calculator")
                .setAppVersion("3.2.7")
                .setClientLanguage("en-US")));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-flag-content"><div><h1>$flag_content</h1><p>Use <code>$flag_content</code> to let us know when a user reports content that may violate your
 company’s policies. If you have a feature like "Report this post" or "Flag this profile", send that event to
 Sift using this reserved event.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$flag_content"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The content creator's account ID according to your systems. Note: User IDs are <em>case sensitive</em>.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$content_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The unique ID for the piece of content that is being flagged. Note: content IDs are
<em>case sensitive</em>.</p></div></li><li><div class="field">$flagged_by</div><div class="value-details"><strong>String</strong><p>The account ID of the user who is flagging the content. Note: User IDs are <em>case sensitive</em>.</p></div></li><li><div class="field">$reason</div><div class="value-details"><strong>String</strong><p>The reason provided by the flagger.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field">$toxic</span><span class="sub-details">Foul language, harassment, hate speech or bullying. Example: Comments which contain hateful language.</span></li><li><span class="sub-field">$irrelevant</span><span class="sub-details">The content doesn't relate to the topic of discussion.</span></li><li><span class="sub-field">$commercial</span><span class="sub-details">Commercial solicitations which are against your terms of service.
For example, sending private messages to users to sell goods or services.</span></li><li><span class="sub-field">$phishing</span><span class="sub-details">Generally, taking user off your site to obtain sensitive information.</span></li><li><span class="sub-field">$private</span><span class="sub-details">The content includes private information (like contact or identity information) that should not be shared.</span></li><li><span class="sub-field">$scam</span><span class="sub-details">The content is created to perpetrate a scam. For example, listings where the scammer will
never ship the product. Or profiles for romance scammers.</span></li><li><span class="sub-field">$copyright</span><span class="sub-details">Sharing any type of copyrighted content.</span></li><li><span class="sub-field">$other</span><span class="sub-details">Anything that doesn't fit in the above reasons.</span></li></ul></div></li><li><div class="field">$user_email</div><div class="value-details"><strong> String</strong><p>Email of the user logging in. Note: If the user's email is also their account ID in your
system, set <strong>both</strong> the <code>$user_id</code> and <code>$user_email</code> fields to their
email address.</p></div></li><li><div class="field">$verification_phone_number</div><div class="value-details"><strong> String</strong><p>Phone number of the user. This phone number will be used to send One-Time Password (OTP) when required.
The phone number should be in E.164 format including <code>+</code> and a country code.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $flag_content event
{
  // Required Fields
  "$type"       : "$flag_content",
  "$api_key"    : "YOUR_API_KEY",
  "$user_id"    : "billy_jones_301", // content creator
  "$content_id" : "9671500641",

  // Supported Fields
  "$flagged_by"                : "jamieli89",
  "$reason"                    : "$toxic",
  "$user_email"                : "billjones1@example.com",
  "$verification_phone_number" : "+123456789012"
}
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

# Sample $flag_content event
properties = {
  # Required Fields
  "$user_id"    : "billy_jones_301", # content creator
  "$content_id" : "9671500641",

  # Supported Fields
  "$flagged_by" : "jamieli89"
}

response = client.track("$flag_content", properties)
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(:api_key => "YOUR_API_KEY")

# Sample $flag_content event
properties = {
  # Required Fields
  "$user_id"    => "billy_jones_301", # content creator
  "$content_id" => "9671500641",

  # Supported Fields
  "$flagged_by" => "jamieli89"
}

response = client.track("$flag_content", properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

// Sample $flag_content event
$properties = array(
  // Required Fields
  '$user_id'    => 'billy_jones_301', // content creator
  '$content_id' => '9671500641',

  // Supported Fields
  '$flagged_by' => 'jamieli89'
);

$response = $client->track('$flag_content', $properties);
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.model.FlagContentFieldSet;

// Sample $flag_content event
SiftClient client = new SiftClient("YOUR_API_KEY");
EventRequest request = client.buildRequest(new FlagContentFieldSet()
        // Required Fields
        .setUserId("billy_jones_301")
        .setContentId("9671500641")
        // Supported Fields
        .setFlaggedBy("jamieli89"));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-link-session-to-user"><div><h1>$link_session_to_user</h1><p>Use <code>$link_session_to_user</code> to associate data from a specific session to a user. Generally used only in
anonymous checkout workflows.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$link_session_to_user"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$session_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's current session ID, used to associate Javascript page events with their REST API counterparts.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's account ID according to your systems. Note that user IDs are <em>case sensitive</em>.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $link_session_to_user event
{
  // Required Fields
  "$type"       : "$link_session_to_user",
  "$api_key"    : "YOUR_API_KEY",
  "$user_id"    : "billy_jones_301",
  "$session_id" : "gigtleqddo84l8cm15qe4il"
}
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

# Sample $link_session_to_user event
properties = {
  # Required Fields
  "$user_id"    : "billy_jones_301",
  "$session_id" : "gigtleqddo84l8cm15qe4il"
}

response = client.track("$link_session_to_user", properties)
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(:api_key => "YOUR_API_KEY")

# Sample $link_session_to_user event
properties = {
  # Required Fields
  "$user_id"    => "billy_jones_301",
  "$session_id" => "gigtleqddo84l8cm15qe4il"
}

response = client.track("$link_session_to_user", properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

// Sample $link_session_to_user event
$properties = array(
  // Required Fields
  '$user_id'    => 'billy_jones_301',
  '$session_id' => 'gigtleqddo84l8cm15qe4il'
);

$response = $client->track('$link_session_to_user', $properties);
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.model.LinkSessionToUserFieldSet;

// Sample $link_session_to_user event
SiftClient client = new SiftClient("YOUR_API_KEY");
EventRequest request = client.buildRequest(new LinkSessionToUserFieldSet()
        // Required Fields
        .setUserId("billy_jones_301")
        .setSessionId("gigtleqddo84l8cm15qe4il"));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-login"><div><h1>$login</h1><p>Use <code>$login</code> to record when a user attempts to log in.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$login"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's account ID according to your systems. Note that user IDs are <em>case sensitive</em>.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$session_id</div><div class="value-details"><strong>String</strong><p>The user's current session ID, used to tie a user's action before and after log in or account creation.
NOTE: this is required if no <code>$user_id</code> is provided.</p></div></li><li><div class="field">$login_status</div><div class="value-details"><strong>String</strong><p>Use <code>$login_status</code> to represent the success or failure of the login attempt.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li class="inline"><code>"$success"</code> <code>"$failure"</code></li></ul></div></li><li><div class="field">$user_email</div><div class="value-details"><strong> String</strong><p>Email of the user logging in. Note: If the user's email is also their account ID in your
system, set <strong>both</strong> the <code>$user_id</code> and <code>$user_email</code> fields to their
email address.</p></div></li><li><div class="field">$verification_phone_number</div><div class="value-details"><strong> String</strong><p>Phone number of the user. This phone number will be used to send One-Time Password (OTP) when required.
The phone number should be in E.164 format including <code>+</code> and a country code.</p></div></li><li><div class="field">$ip</div><div class="value-details"><strong>String</strong><p>IP address of the user that is logging in.</p></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is logging in. Represented by the <code>$browser</code> object.
 Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is logging in. Represented by the <code>$app</code> object.
 Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$failure_reason</div><div class="value-details"><strong>String</strong><p>Capture the reason for the failure of the login.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field">$account_unknown</span><span class="sub-details">Username never existed on this site.</span></li><li><span class="sub-field">$account_suspended</span><span class="sub-details">Username exists, but the account is locked or temporarily deactivated.</span></li><li><span class="sub-field">$account_disabled</span><span class="sub-details">Username exists, account was closed or permanently deactivated.</span></li><li><span class="sub-field">$wrong_password</span><span class="sub-details">Username exists, but the password is incorrect for this user.</span></li></ul></div></li><li><div class="field">$username</div><div class="value-details"><strong>String</strong><p>The username entered at the login prompt.</p></div></li><li><div class="field">$social_sign_on_type</div><div class="value-details"><strong>String</strong><p>If the user logged in with a social identify provider, give the name here.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li class="inline"><code>$facebook</code><code>$google</code><code>$linkedin</code><code>$twitter</code><code>$yahoo</code><code>$microsoft</code><code>$amazon</code><code>$apple</code><code>$github</code><code>$other</code></li></ul></div></li><li><div class="field">$account_types</div><div class="value-details"><strong>Array of Strings</strong><p>Capture the type(s) of the account: <code>"merchant"</code> or <code>"shopper"</code>, <code>"regular"</code> or <code>"premium"</code>, etc.
The array supports multiple types for a single account, e.g. <code>["merchant", "premium"]</code>.</p></div></li><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $login event
{
  // Required Fields
  "$type"         : "$login",
  "$api_key"      : "YOUR_API_KEY",
  "$user_id"      : "billy_jones_301",
  "$login_status" : "$success",
  "$session_id"     : "gigtleqddo84l8cm15qe4il",
  "$ip"             : "128.148.1.135",

  // Optional Fields
  "$user_email"                : "billjones1@example.com",
  "$verification_phone_number" : "+123456789012",
  "$failure_reason"            : "$account_unknown",
  "$username"                  : "billjones1@example.com",
  "$account_types"             : ["merchant", "premium"],
  "$social_sign_on"            : "$linkedin",
  "$brand_name"                : "sift",
  "$site_domain"               : "sift.com",
  "$site_country"              : "US",

  // Send this information with a login from a BROWSER client.
  "$browser"        : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  // =========================================

  // Send this information with a login from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
    }
}
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

# Sample $login event
properties = {
  # Required Fields
  "$user_id"      : "billy_jones_301",
  "$login_status" : "$success",

  "$session_id"   : "gigtleqddo84l8cm15qe4il",
  "$ip"           : "128.148.1.135",

  # Optional Fields
  "$user_email"                : "billjones1@example.com",
  "$verification_phone_number" : "+123456789012",
  "$failure_reason"            : "$account_unknown",
  "$username"                  : "billjones1@example.com",
  "$account_types"             : ["merchant", "premium"],
  "$social_sign_on"            : "$linkedin",
  "$brand_name"                : "sift",
  "$site_domain"               : "sift.com",
  "$site_country"              : "US",

  # Send this information with a login from a BROWSER client.
  "$browser"      : {
    "$user_agent" :  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  # =========================================

  # Send this information with a login from an APP client.
  "$app"        : {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}

response = client.track("$login", properties)
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(:api_key => "YOUR_API_KEY")

# Sample $login event
properties = {
  # Required Fields
  "$user_id"      => "billy_jones_301",
  "$login_status" => "$success",

  "$session_id" => "gigtleqddo84l8cm15qe4il",
  "$ip"         => "128.148.1.135",

  # Optional Fields
  "$user_email"     => "billjones1@example.com",
  "$failure_reason" => "$account_unknown",
  "$username"       => "billjones1@example.com",
  "$account_types"  => ["merchant", "premium"],
  "$social_sign_on" => "$linkedin",
  "$brand_name"   => "sift",
  "$site_domain"  => "sift.com",
  "$site_country" => "US",

  # Send this information with a login from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information with a login from a APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$login", properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

// Sample $login event
$properties = array(
  // Required Fields
  '$user_id'      => 'billy_jones_301',
  '$login_status' => '$success',

  '$session_id' => 'gigtleqddo84l8cm15qe4il',
  '$ip'         => '128.148.1.135',

  // Optional Fields
  '$user_email'     => 'billjones1@example.com',
  '$failure_reason' => '$account_unknown',
  '$username'       => 'billjones1@example.com',
  '$account_types'  => ['merchant','premium'],
  '$social_sign_on' => '$linkedin',
  '$brand_name'   => 'sift',
  '$site_domain'  => 'sift.com',
  '$site_country' => 'US',

  // Send this information with a login from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information with a login from a APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track('$login', $properties);
</pre><pre class="prettyprint lang java code-partial">import java.util.Arrays;

import com.siftscience.SiftClient;
import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.model.LoginFieldSet;

// Sample $login event
SiftClient client = new SiftClient("YOUR_API_KEY");
EventRequest request = client.buildRequest(new LoginFieldSet()
  // Required Fields
  .setUserId("billy_jones_301")
  .setLoginStatus("$success")

  // Optional Fields
  .setUserEmail("billjones1@example.com")
  .setFailureReason("$account_unknown")
  .setUsername("billjones1@example.com")
  .setAccountTypes(Arrays.asList(new String[]{"merchant","premium"}))
  .setSocialSignOn("$linkedin")
  .setBrandName("sift")
  .setSiteDomain("sift.com")
  .setSiteCountry("US")
  // Send this information with a login from a BROWSER client.
  .setSessionId("gigtleqddo84l8cm15qe4il")
  .setIp("128.148.1.135")
  .setBrowser(new Browser()
          .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
          .setAcceptLanguage("en-US")
          .setContentLanguage("en-GB"))

  // =========================================

  // Send this information with a login from a APP client.
  .setSessionId("gigtleqddo84l8cm15qe4il")
  .setIp("128.148.1.135")
  .setApp(new App()
    // Example for the iOS Calculator app.
    .setOperatingSystem("iOS")
    .setOperatingSystemVersion("10.1.3")
    .setDeviceManufacturer("Apple")
    .setDeviceModel("iPhone 4,2")
    .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
    .setAppName("Calculator")
    .setAppVersion("3.2.7")
    .setClientLanguage("en-US")));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-logout"><div><h1>$logout</h1><p>Use <code>$logout</code> to record when a user logs out.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$logout"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em> required </em><strong> &middot; String</strong><p>The user's account ID according to your systems. Note that user IDs are <em>case sensitive</em>.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is used to logout. Represented by the <code>$browser</code> object.
 Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is used to logout. Represented by the <code>$app</code> object.
 Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $logout event
{
  // Required Fields
  "$type"      : "$logout",
  "$api_key"   : "YOUR_API_KEY",
  "$user_id"   : "billy_jones_301",

  // Send this information from a BROWSER client.
  "$browser"        : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  // =========================================

  // Send this information from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

# Sample $logout event
properties = {
  # Required Fields
  "$user_id"   : "billy_jones_301",

  # Send this information from a BROWSER client.
  "$browser"      : {
    "$user_agent" :  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        : {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}

response = client.track("$logout", properties)
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(:api_key => "YOUR_API_KEY")

# Sample $logout event
properties = {
  # Required Fields
  "$user_id"   => "billy_jones_301",

  # Send this information from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$logout", properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

// Sample $logout event
$properties = array(
  // Required Fields
  '$user_id'   => 'billy_jones_301',

  // Send this information from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information an APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track('$logout', $properties);
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.model.LogoutFieldSet;

// Sample $logout event
SiftClient client = new SiftClient("YOUR_API_KEY");
EventRequest request = client.buildRequest(new LogoutFieldSet()
        // Required Fields
        .setUserId("billy_jones_301"))
        // Send this information from a BROWSER client.
        .setBrowser(new Browser()
                .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
                .setAcceptLanguage("en-US")
                .setContentLanguage("en-GB"))

        // =========================================

        // Send this information from an APP client.
        .setApp(new App()
                // Example for the iOS Calculator app.
                .setOperatingSystem("iOS")
                .setOperatingSystemVersion("10.1.3")
                .setDeviceManufacturer("Apple")
                .setDeviceModel("iPhone 4,2")
                .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
                .setAppName("Calculator")
                .setAppVersion("3.2.7")
                .setClientLanguage("en-US")));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-order-status"><div><h1>$order_status</h1><p>Use <code>$order_status</code> to track the order processing workflow of a previously submitted order. For
example, <code>$order_status</code> can be used to indicate that an order has been held for review, canceled due
to suspected fraud, or fulfilled.  This event can be called multiple times to record changes an order's status.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$order_status"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's account ID according to your systems. Note that user IDs are <em>case sensitive</em>.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$order_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The ID for tracking this order in your system.</p></div></li><li><div class="field">$order_status</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Indicates the high-level state of the order.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li class="inline"><code>"$approved"</code> <code>"$canceled"</code> <code>"$held"</code> <code>"$fulfilled"</code> <code>"$returned"</code></li></ul></div></li><li><div class="field">$reason</div><div class="value-details"><strong>String</strong><p>The reason for a cancellation.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li class="inline"><code>"$payment_risk"</code> <code>"$abuse"</code> <code>"$policy"</code> <code>"$other"</code></li></ul></div></li><li><div class="field">$source</div><div class="value-details"><strong>String</strong><p>The source of a decision.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li class="inline"><code>"$automated"</code> <code>"$manual_review"</code></li></ul></div></li><li><div class="field">$analyst</div><div class="value-details"><strong>String</strong><p>The analyst who made the decision, if manual.</p></div></li><li><div class="field">$webhook_id</div><div class="value-details"><strong>String</strong><p>An alternative to using <code>$source</code> and <code>$analyst</code>, this is the ID of the Sift
Action webhook that triggered the status change.</p></div></li><li><div class="field">$description</div><div class="value-details"><strong>String</strong><p>Any additional information about this order status change.</p></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is used to add the item to cart. Represented by the <code>$browser</code> object.
 Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is used to add the item to cart. Represented by the <code>$app</code> object.
 Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $order_status event
{
  // Required Fields
  "$type"             : "$order_status",
  "$api_key"          : "YOUR_API_KEY",
  "$user_id"          : "billy_jones_301",
  "$order_id"         : "ORDER-28168441",
  "$order_status"     : "$canceled",

  // Optional Fields
  "$reason"           : "$payment_risk",
  "$source"           : "$manual_review",
  "$analyst"          : "someone@your-site.com",
  "$webhook_id"       : "3ff1082a4aea8d0c58e3643ddb7a5bb87ffffeb2492dca33",
  "$description"      : "Canceling because multiple fraudulent users on device",

  // Send this information from a BROWSER client.
  "$browser"        : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  // =========================================

  // Send this information from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

# Sample $order_status event
properties = {
  # Required Fields
  "$user_id"          : "billy_jones_301",
  "$order_id"         : "ORDER-28168441",
  "$order_status"     : "$canceled",

  # Optional Fields
  "$reason"           : "$payment_risk",
  "$source"           : "$manual_review",
  "$analyst"          : "someone@your-site.com",
  "$webhook_id"       : "3ff1082a4aea8d0c58e3643ddb7a5bb87ffffeb2492dca33",
  "$description"      : "Canceling because multiple fraudulent users on device",

  # Send this information from a BROWSER client.
  "$browser"      : {
    "$user_agent" :  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36"
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        : {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}

response = client.track("$order_status", properties)
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(:api_key => "YOUR_API_KEY")

# Sample $order_status event
properties = {
  # Required Fields
  "$user_id"          => "billy_jones_301",
  "$order_id"         => "ORDER-28168441",
  "$order_status"     => "$canceled",

  # Optional Fields
  "$reason"           => "$payment_risk",
  "$webhook_id"       => "3ff1082a4aea8d0c58e3643ddb7a5bb87ffffeb2492dca33",
  "$source"           => "$manual_review",
  "$analyst"          => "someone@your-site.com",
  "$description"      => "Canceling because multiple fraudulent users on device",

  # Send this information from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$order_status", properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

// Sample $order_status event
$properties = array(
  // Required Fields
  '$user_id'          => 'billy_jones_301',
  '$order_id'         => 'ORDER-28168441',
  '$order_status'     => '$canceled',

  // Optional Fields
  '$reason'           => '$payment_risk',
  '$source'           => '$manual_review',
  '$analyst'          => 'someone@your-site.com',
  '$webhook_id'       => '3ff1082a4aea8d0c58e3643ddb7a5bb87ffffeb2492dca33',
  '$description'      => 'Canceling because multiple fraudulent users on device',

  // Send this information from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information an APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track('$order_status', $properties);
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.model.OrderStatusFieldSet;

// Sample $order_status event
SiftClient client = new SiftClient("YOUR_API_KEY");
EventRequest request = client.buildRequest(new OrderStatusFieldSet()
        // Required Fields
        .setUserId("billy_jones_301")
        .setOrderId("ORDER-28168441")
        .setOrderStatus("$canceled")
        // Supported Fields
        .setReason("$payment_risk")
        .setSource("$manual_review")
        .setAnalyst("someone@your-site.com")
        .setWebhookId("3ff1082a4aea8d0c58e3643ddb7a5bb87ffffeb2492dca33")
        .setDescription("Canceling because multiple fraudulent users on device"));
        // Send this information from a BROWSER client.
        .setBrowser(new Browser()
                .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
                .setAcceptLanguage("en-US")
                .setContentLanguage("en-GB"))

        // =========================================

        // Send this information from an APP client.
        .setApp(new App()
                // Example for the iOS Calculator app.
                .setOperatingSystem("iOS")
                .setOperatingSystemVersion("10.1.3")
                .setDeviceManufacturer("Apple")
                .setDeviceModel("iPhone 4,2")
                .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
                .setAppName("Calculator")
                .setAppVersion("3.2.7")
                .setClientLanguage("en-US")));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-remove-item-from-cart"><div><h1>$remove_item_from_cart</h1><p>Use <code>$remove_item_from_cart</code> to record when a user removes an item from their shopping cart or list.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$remove_item_to_cart"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$session_id</div><div class="value-details"><em>required if no User ID is provided</em><strong> &middot; String</strong><p>The user's current session ID, used to tie a user's action before and after log in or account creation.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's account ID according to your systems. Note that user IDs are <em>case sensitive</em>.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$item</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/item">Item</span></strong><p>The product item removed from cart.
Strongly recommended subfields are <code>$item_id</code>, <code>$product_title</code>, and <code>
$price</code>. The <code>$quantity</code> is specified as a subfield.</p></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is used to remove the item from cart. Represented by the <code>$browser</code> object.
 Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is used to remove the item from cart. Represented by the <code>$app</code> object.
 Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$user_email</div><div class="value-details"><strong> String</strong><p>Email of the user logging in. Note: If the user's email is also their account ID in your
system, set <strong>both</strong> the <code>$user_id</code> and <code>$user_email</code> fields to their
email address.</p></div></li><li><div class="field">$verification_phone_number</div><div class="value-details"><strong> String</strong><p>Phone number of the user. This phone number will be used to send One-Time Password (OTP) when required.
The phone number should be in E.164 format including <code>+</code> and a country code.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $remove_item_from_cart event
{
  // Required Fields
  "$type"       : "$remove_item_from_cart",
  "$api_key"    : "YOUR_API_KEY",
  "$user_id"    : "billy_jones_301",

  // Supported Fields
  "$session_id"                : "gigtleqddo84l8cm15qe4il",
  "$user_email"                : "billjones1@example.com",
  "$verification_phone_number" : "+123456789012",
  "$item"                      : {
    "$item_id"        : "B004834GQO",
    "$product_title"  : "The Slanket Blanket-Texas Tea",
    "$price"          : 39990000, // $39.99
    "$currency_code"  : "USD",
    "$quantity"       : 2,
    "$upc"            : "6786211451001",
    "$sku"            : "004834GQ",
    "$brand"          : "Slanket",
    "$manufacturer"   : "Slanket",
    "$category"       : "Blankets & Throws",
    "$tags"           : ["Awesome", "Wintertime specials"],
    "$color"          : "Texas Tea"
  },

  // Send this information from a BROWSER client.
  "$browser"        : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  // =========================================

  // Send this information from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

# Sample $remove_item_from_cart event
properties = {
  # Required Fields
  "$user_id"    : "billy_jones_301",

  # Supported Fields
  "$session_id" : "gigtleqddo84l8cm15qe4il",
  "$item"       : {
    "$item_id"        : "B004834GQO",
    "$product_title"  : "The Slanket Blanket-Texas Tea",
    "$price"          : 39990000, # $39.99
    "$currency_code"  : "USD",
    "$quantity"       : 2,
    "$upc"            : "6786211451001",
    "$sku"            : "004834GQ",
    "$brand"          : "Slanket",
    "$manufacturer"   : "Slanket",
    "$category"       : "Blankets & Throws",
    "$tags"           : ["Awesome", "Wintertime specials"],
    "$color"          : "Texas Tea"
  },

  # Send this information from a BROWSER client.
  "$browser"      : {
    "$user_agent" :  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        : {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}

response = client.track("$remove_item_from_cart", properties)
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(:api_key => "YOUR_API_KEY")

# Sample $remove_item_from_cart event
properties = {
  # Required Fields
  "$user_id"    => "billy_jones_301",

  # Supported Fields
  "$session_id" => "gigtleqddo84l8cm15qe4il",
  "$item"       => {
    "$item_id"        => "B004834GQO",
    "$product_title"  => "The Slanket Blanket-Texas Tea",
    "$price"          => 39990000, # $39.99
    "$currency_code"  => "USD",
    "$quantity"       => 2,
    "$upc"            => "6786211451001",
    "$sku"            => "004834GQ",
    "$brand"          => "Slanket",
    "$manufacturer"   => "Slanket",
    "$category"       => "Blankets & Throws",
    "$tags"           => ["Awesome", "Wintertime specials"],
    "$color"          => "Texas Tea"
  },

  # Send this information from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$remove_item_from_cart", properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

// Sample $remove_item_from_cart event
$properties = array(
  // Required Fields
  '$user_id'    => 'billy_jones_301',

  // Supported Fields
  '$session_id' => 'gigtleqddo84l8cm15qe4il',
  '$item'       => array(
    '$item_id'        => 'B004834GQO',
    '$product_title'  => 'The Slanket Blanket-Texas Tea',
    '$price'          => 39990000, // $39.99
    '$currency_code'  => 'USD',
    '$quantity'       => 2,
    '$upc'            => '6786211451001',
    '$sku'            => '004834GQ',
    '$brand'          => 'Slanket',
    '$manufacturer'   => 'Slanket',
    '$category'       => 'Blankets & Throws',
    '$tags'           => array('Awesome', 'Wintertime specials'),
    '$color'          => 'Texas Tea'
  ),

  // Send this information from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information an APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track('$remove_item_from_cart', $properties);
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.model.RemoveItemFromCartFieldSet;
import com.siftscience.model.Item;

// Sample $remove_item_from_cart event
SiftClient client = new SiftClient("YOUR_API_KEY");
EventRequest request = client.buildRequest(new RemoveItemFromCartFieldSet()
        // Required Fields
        .setUserId("billy_jones_301")
        // Supported Fields
        .setSessionId("gigtleqddo84l8cm15qe4il")
        .setItem(new Item()
                .setItemId("B004834GQO")
                .setProductTitle("The Slanket Blanket-Texas Tea")
                .setPrice(39990000L)
                .setUpc("6786211451001")
                .setSku("004834GQ")
                .setBrand("Slanket")
                .setManufacturer("Slanket")
                .setCategory("Blankets & Throws")
                .setTags(Arrays.asList("Awesome", "Wintertime specials"))
                .setQuantity(16L)));
        // Send this information from a BROWSER client.
        .setBrowser(new Browser()
                .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
                .setAcceptLanguage("en-US")
                .setContentLanguage("en-GB"))

        // =========================================

        // Send this information from an APP client.
        .setApp(new App()
                // Example for the iOS Calculator app.
                .setOperatingSystem("iOS")
                .setOperatingSystemVersion("10.1.3")
                .setDeviceManufacturer("Apple")
                .setDeviceModel("iPhone 4,2")
                .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
                .setAppName("Calculator")
                .setAppVersion("3.2.7")
                .setClientLanguage("en-US")));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-security-notification"><div><h1>$security_notification</h1><p>When you identify suspicious activity on a user account, you may want to notify the user of this activity.
For example, a login may seem suspicious because the login attempt was made from a new device.
You may choose to inform the user that this incident happened. Ideally, these notifications should
contain a summary of the activity and also have a response mechanism where the user may confirm or
deny if the suspicious activity was them. The <code>$security_notification</code> event is used to capture this
lifecycle of issuing the notification and the user response.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$security_notification"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's account ID according to your systems. Note that user IDs are <em>case sensitive</em>.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$session_id</div><div class="value-details"><em>Required</em><strong> &middot; String</strong><p>The user's current session ID, used to tie a user's action before and after log in or account creation.</p></div></li><li><div class="field">$notification_type</div><div class="value-details"><strong>String/Enum</strong><p>The type of notification issued.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field">$email</span><span class="sub-details">The notification was sent via email.</span></li><li><span class="sub-field">$sms</span><span class="sub-details">The notification was sent via sms.</span></li><li><span class="sub-field">$push</span><span class="sub-details">The notification was sent as a push notification via your mobile app.</span></li></ul></div></li><li><div class="field">$notified_value</div><div class="value-details"><strong>String</strong><p>The phone number (e.g. 14155551212, 442072193000) or email address (e.g. bob@example.com) to which the notification was sent.
This value should be passed when the <code>$notification_type</code> is set to <code>$sms</code> or <code>$email</code>.</p></div></li><li><div class="field">$notification_status</div><div class="value-details"><em>required</em><strong> &middot; String/Enum</strong><p>The status of the notification event: records the follow-up action taken by the notified user.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field">$sent</span><span class="sub-details">The notification was sent to your user but no action has been taken by the user in response</span></li><li><span class="sub-field">$safe</span><span class="sub-details">The user has reported that the suspicious activity was performed by the user themselves</span></li><li><span class="sub-field">$compromised</span><span class="sub-details">The user has reported that the suspicious activity was an unknown third-party</span></li></ul></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is used to add the item to cart. Represented by the <code>$browser</code> object.
 Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is used to add the item to cart. Represented by the <code>$app</code> object.
 Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $security_notification event
{
  // Required and Recommended Fields
  "$type"         : "$security_notification",
  "$api_key"      : "YOUR_API_KEY",
  "$user_id"      : "billy_jones_301",
  "$session_id"   : "gigtleqddo84l8cm15qe4il",
  "$notification_status"       : "$sent",

  // Optional fields if applicable
  "$notification_type" : "$email",
  "$notified_value"    : "billy123@domain.com",

  // Send this information from a BROWSER client.
  "$browser"        : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  // =========================================

  // Send this information from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

# Sample $security_notification event
properties = {
  # Required Fields
  "$type"       : "$security_notification",
  "$api_key"    : "YOUR_API_KEY",
  "$user_id"    : "billy_jones_301",
  "$session_id" : "gigtleqddo84l8cm15qe4il",
  "$status"     : "$sent",

  # Optional fields if applicable
  "$notification_type" : "$email",
  "$notified_value"    : "billy123@domain.com",

  # Send this information from a BROWSER client.
  "$browser"      : {
    "$user_agent" :  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        : {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}

response = client.track("$security_notification", properties)
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(:api_key => "YOUR_API_KEY")

# Sample $security_notification event
properties = {
  # Required Fields
  "$type"                => "$security_notification",
  "$api_key"             => "YOUR_API_KEY",
  "$user_id"             => "billy_jones_301",
  "$session_id"          => "gigtleqddo84l8cm15qe4il",
  "$notification_status" => "$sent",

  # Optional fields if applicable
  "$notification_type" => "$email",
  "$notified_value"    => "billy123@domain.com",

  # Send this information from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$security_notification", properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON- 1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

// Sample $security_notification event
properties = array(
  // Required Fields
  '$type'       => '$security_notification',
  '$api_key'    => 'YOUR_API_KEY',
  '$user_id'    => 'billy_jones_301',
  '$session_id' => 'gigtleqddo84l8cm15qe4il',
  '$status'     => '$sent',
  // Optional fields if applicable
  '$notification_type' => '$email',
  '$notified_value'    => 'billy123@domain.com',

  // Send this information from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information an APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track('$security_notification', $properties);
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.model.SecurityNotificationFieldSet;
// Sample $security_notification event
SiftClient client = new SiftClient("YOUR_API_KEY");
EventRequest request = client.buildRequest(new SecurityNotificationFieldSet()
        // Required Fields
        .setUserId("billy_jones_301")
        .setSessionId("gigtleqddo84l8cm15qe4il")
        .setStatus("$sent")
        // Optional fields if applicable
        .setNotificationType("$email")
        .setNotifiedValue("billy123@domain.com"));
        // Send this information from a BROWSER client.
        .setBrowser(new Browser()
                .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
                .setAcceptLanguage("en-US")
                .setContentLanguage("en-GB"))

        // =========================================

        // Send this information from an APP client.
        .setApp(new App()
                // Example for the iOS Calculator app.
                .setOperatingSystem("iOS")
                .setOperatingSystemVersion("10.1.3")
                .setDeviceManufacturer("Apple")
                .setDeviceModel("iPhone 4,2")
                .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
                .setAppName("Calculator")
                .setAppVersion("3.2.7")
                .setClientLanguage("en-US")));

EventResponse response;
try {
   response = request.send();
} catch (SiftException e) {
   System.out.println(e.getApiErrorMessage());
   return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-transaction"><div><h1>$transaction</h1><p>Use <code>$transaction</code> to record attempts to exchange money, credit or other tokens of value.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$transaction"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's account ID according to your systems. Note that user IDs are <em>case sensitive</em>.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$user_email</div><div class="value-details"><strong> String</strong><p>Email of the user creating this order. Note: If the user's email is also their account ID in your
system, set <strong>both</strong> the <code>$user_id</code> and <code>$user_email</code> fields to their
email address.</p></div></li><li><div class="field">$verification_phone_number</div><div class="value-details"><strong> String</strong><p>Phone number of the user. This phone number will be used to send One-Time Password (OTP) when required.
The phone number should be in E.164 format including <code>+</code> and a country code.</p></div></li><li><div class="field">$transaction_type</div><div class="value-details"><strong>String</strong><p>The type of transaction being recorded. There are eight types:</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field">$sale</span><span class="sub-details">Authorization and capture of a payment performed together in one step.
<em>This is the most commonly used transaction type.</em>
This is the default <code>$transaction_type</code> if the transaction type is not provided.</span></li><li><span class="sub-field">$authorize</span><span class="sub-details">Authorizing a payment by reserving the payment amount from the buyer's
account. Money does not change hands until capture.</span></li><li><span class="sub-field">$capture</span><span class="sub-details">Capturing a payment reserved in the authorization step.</span></li><li><span class="sub-field">$void</span><span class="sub-details">Cancelling a pending authorization or capture.</span></li><li><span class="sub-field">$refund</span><span class="sub-details">Returning part or all of a captured payment to the buyer.</span></li><li><span class="sub-field">$deposit</span><span class="sub-details">Depositing money into an account.</span></li><li><span class="sub-field">$withdrawal</span><span class="sub-details">Withdrawing money from an account.</span></li><li><span class="sub-field">$transfer</span><span class="sub-details">Transferring money from one account to another.</span></li><li><span class="sub-field">$buy</span><span class="sub-details">Acquisition of an asset, for example the purchase of cryptocurrency.</span></li><li><span class="sub-field">$sell</span><span class="sub-details">Disposal of an underlying asset, for example the sale of cryptocurrency.</span></li><li><span class="sub-field">$send</span><span class="sub-details">Represents the movement of assets or funds between different wallets, exchanges, or accounts. For example, sending funds through remittance services.</span></li><li><span class="sub-field">$receive</span><span class="sub-details">Represents the movement of assets or funds between different wallets, exchanges, or accounts. For example, receiving funds through remittance services.</span></li></ul></div></li><li><div class="field">$transaction_status</div><div class="value-details"><strong> String</strong><p>Use <code>$transaction_status</code> to indicate the status of the transaction. The value can be
<code>"$success"</code> (default value), <code>"$failure"</code> or <code>"$pending"</code>. For instance, If
the transaction was rejected by the payment gateway, set the value to <code>"$failure"</code>.</p></div></li><li><div class="field">$amount</div><div class="value-details"><em>Required</em><strong> &middot; Integer</strong><p>Total transaction amount in micros in the base unit of the <code>$currency_code</code>. 1 cent = 10,000
micros. $1.23 USD = 123 cents = 1,230,000 micros. Send as a positive number for all
<code>$transaction_type</code> values. For currencies without cents of fractional
denominations, like the Japanese Yen, use 1 JPY = 1000000 micros. Use 1 for 1 microBitcoin.</p></div></li><li><div class="field">$currency_code</div><div class="value-details"><em>Required</em><strong> &middot; String</strong><p><a href='http://en.wikipedia.org/wiki/ISO_4217' target='_blank'>ISO-4217</a> currency code for the amount.
<em>e.g.</em>, USD, CAD, HKD, BTC.</p></div></li><li><div class="field">$order_id</div><div class="value-details"><strong>String</strong><p>The ID for this order in your system. Used for cross referencing an order in your internal systems.</p></div></li><li><div class="field">$transaction_id</div><div class="value-details"><strong>String</strong><p>The ID for identifying this transaction. Important for tracking transactions, and linking
different parts of the same transaction together, <em>e.g.</em>, linking a refund to its original
transaction.</p></div></li><li><div class="field">$billing_address</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Address</span></strong><p>The billing address as entered by the user.</p></div></li><li><div class="field">$payment_method</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/payment-method">Payment Method Object</span></strong><p>The payment information associated with this transaction.</p></div></li><li><div class="field">$shipping_address</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Address</span></strong><p>The shipping address as entered by the user.</p></div></li><li><div class="field">$session_id</div><div class="value-details"><strong>String</strong><p>The user's current session ID, used to tie a user's action before and after log in or account creation.</p></div></li><li><div class="field">$seller_user_id</div><div class="value-details"><strong> String</strong><p>For marketplace businesses, this is the seller's user ID, typically a database primary key.
Follow our <span data-href="/events-api/fields">guidelines</span> for <code>$user_id</code> values.</p></div></li><li><div class="field">$transfer_recipient_user_id</div><div class="value-details"><strong> String</strong><p>For transfer transactions, the user ID of the user receiving the transfer.
If <code>$transfer_recipient_user_id</code> is specified, <code>$transaction_type</code>
must be set to <code>"$transfer"</code>; otherwise, the system will give an error.
Follow our <span data-href="/events-api/fields">guidelines</span> for <code>$user_id</code> values.</p></div></li><li><div class="field">$decline_category</div><div class="value-details"><strong> String</strong><p>Use <code>$decline_category</code> to indicate the category of a transaction decline sent by the PSP.</p><br><p><strong> Please note:</strong>
Only send this field when <code>$transaction_status</code> is <code>$failure</code>. Sending for transactions with <code>$transaction_status</code> <code>$success</code>, <code>$pending</code> or empty will result in error.</p><br><p>This field trains the model on decline reasons across PSPs, helping Sift catch card testing and traditional payments fraud.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li class="inline"><code>$fraud</code> <code>$lost_or_stolen</code> <code>$risky</code> <code>$bank_decline</code> <code>$invalid</code> <code>$expired</code> <code>$insufficient_funds</code> <code>$limit_exceeded</code> <code>$additional_verification_required</code> <code>$invalid_verification</code> <code>$other</code></li></ul><p>For more explanation and a mapping for major PSPs, visit the <a href="/resources/guides/decline-category-guide">$decline_category Guide</a>.</p></div></li><li><div class="field">$ordered_from</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/ordered-from">Ordered From</span></strong><p>The details about the specific physical location providing the good or service. This can also be used to
capture pickup, delivery locations, etc.</p></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is used to create the transaction. Represented by the <code>$browser</code> object.
 Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is used to create the transaction. Represented by the <code>$app</code> object.
 Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$status_3ds</div><div class="value-details"><strong>String</strong><p>Use the following allowed values to indicate the status of a 3DS request.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li class="inline"><code>"$successful"</code> <code>"$attempted"</code> <code>"$failed"</code> <code>"$unavailable"</code> <code>"$rejected"</code></li></ul></div></li><li><div class="field">$triggered_3ds</div><div class="value-details"><strong>String</strong><p>Use <code>$processor</code> to reflect a challenge initiated by the processor.
Use <code>$merchant</code> to indicate if the challenge was recommended by Sift via a workflow or a manual review.</p></div></li><li><div class="field">$merchant_initiated_transaction</div><div class="value-details"><strong>Boolean</strong><p>Use <code>true</code> or <code>false</code> to indicate if this is a recurring payment for the same amount to the same merchant (recurring payments are considered out of scope for SCA).</p></div></li><li><div class="field">$merchant_profile</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/merchant-profile">Merchant Profile</span></strong><p>The details about the merchant or seller providing the goods or service.</p></div></li><li><div class="field">$sent_address</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Address</span></strong><p>The address to the specific physical location of the person sending a transaction.</p></div></li><li><div class="field">$received_address</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Address</span></strong><p>The address to the specific physical location of the person receiving a transaction.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$digital_orders</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/digital-order">Array of Digital Orders</span></strong><p>The list of digital orders made. A digital order represents a digital asset which can be part of
a cryptocurrency or digital asset transaction.</p></div></li><li><div class="field">$receiver_wallet_address</div><div class="value-details"><strong>String</strong><p>The wallet ID or address of the person receiving a crypto payment.</p></div></li><li><div class="field">$receiver_external_address</div><div class="value-details"><strong>Boolean</strong><p>Use <code>true</code> or <code>false</code> to indicate if the recipient is on an external platform.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $transaction event
{
  // Required Fields
  "$type"             : "$transaction",
  "$api_key"          : "YOUR_API_KEY",
  "$user_id"          : "billy_jones_301",
  "$amount"           : 506790000, // $506.79
  "$currency_code"    : "USD",

  // Supported Fields
  "$user_email"                : "billjones1@example.com",
  "$verification_phone_number" : "+123456789012",
  "$transaction_type"          : "$sale",
  "$transaction_status"        : "$failure",
  "$decline_category"          : "$bank_decline"
  "$order_id"                  : "ORDER-123124124",
  "$transaction_id"            : "719637215",

  "$billing_address"  : { // or "$sent_address" // or "$received_address"
      "$name"         : "Bill Jones",
      "$phone"        : "1-415-555-6041",
      "$address_1"    : "2100 Main Street",
      "$address_2"    : "Apt 3B",
      "$city"         : "New London",
      "$region"       : "New Hampshire",
      "$country"      : "US",
      "$zipcode"      : "03257"
  },
  "$brand_name"   : "sift",
  "$site_domain"  : "sift.com",
  "$site_country" : "US",
  "$ordered_from" : {
    "$store_id"      : "123",
    "$store_address" : {
      "$name"       : "Bill Jones",
      "$phone"      : "1-415-555-6040",
      "$address_1"  : "2100 Main Street",
      "$address_2"  : "Apt 3B",
      "$city"       : "New London",
      "$region"     : "New Hampshire",
      "$country"    : "US",
      "$zipcode"    : "03257"
    }
  },
  // Credit card example
  "$payment_method"   : {
      "$payment_type"    : "$credit_card",
      "$payment_gateway" : "$braintree",
      "$card_bin"        : "542486",
      "$card_last4"      : "4444"
  },

  // Bank account example
  // "$payment_method"   : {
  //     "$payment_type"    : "$electronic_fund_transfer",
  //     "$routing_number"  : "021001088"
  //},
  // See other payment method options in the field description

  // Supported fields for 3DS
  "$status_3ds"                     : "$attempted",
  "$triggered_3ds"                  : "$processor",
  "$merchant_initiated_transaction" : false,

  // Supported Fields
  "$shipping_address" : {
      "$name"         : "Bill Jones",
      "$phone"        : "1-415-555-6041",
      "$address_1"    : "2100 Main Street",
      "$address_2"    : "Apt 3B",
      "$city"         : "New London",
      "$region"       : "New Hampshire",
      "$country"      : "US",
      "$zipcode"      : "03257"
  },
  "$session_id"       : "gigtleqddo84l8cm15qe4il",

  // For marketplaces, use $seller_user_id to identify the seller
  "$seller_user_id"     : "slinkys_emporium",

  // Sample Custom Fields
  "digital_wallet"      : "apple_pay", // "google_wallet", etc.
  "coupon_code"         : "dollarMadness",
  "shipping_choice"     : "FedEx Ground Courier",
  "is_first_time_buyer" : false,

  // Send this information from a BROWSER client.
  "$browser"        : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  // =========================================

  // Send this information from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

# Sample $transaction event
properties = {
  # Required Fields
  "$user_id"          : "billy_jones_301",
  "$amount"           : 506790000, # $506.79
  "$currency_code"    : "USD",

  # Supported Fields
  "$user_email"                : "billjones1@example.com",
  "$verification_phone_number" : "+123456789012",
  "$transaction_type"          : "$sale",
  "$transaction_status"        : "$failure",
  "$decline_category"          : "$bank_decline",
  "$order_id"                  : "ORDER-123124124",
  "$transaction_id"            : "719637215",

  "$billing_address"  : { # or "$sent_address" # or "$received_address"
      "$name"         : "Bill Jones",
      "$phone"        : "1-415-555-6041",
      "$address_1"    : "2100 Main Street",
      "$address_2"    : "Apt 3B",
      "$city"         : "New London",
      "$region"       : "New Hampshire",
      "$country"      : "US",
      "$zipcode"      : "03257"
  },
  "$brand_name"   : "sift",
  "$site_domain"  : "sift.com",
  "$site_country" : "US",
  "$ordered_from" : {
    "$store_id"      : "123",
    "$store_address" : {
      "$name"       : "Bill Jones",
      "$phone"      : "1-415-555-6040",
      "$address_1"  : "2100 Main Street",
      "$address_2"  : "Apt 3B",
      "$city"       : "New London",
      "$region"     : "New Hampshire",
      "$country"    : "US",
      "$zipcode"    : "03257"
    }
  },
  # Credit card example
  "$payment_method"   : {
      "$payment_type"    : "$credit_card",
      "$payment_gateway" : "$braintree",
      "$card_bin"        : "542486",
      "$card_last4"      : "4444"
  },

  # Bank account example
  # "$payment_method"   : {
  #     "$payment_type"    : "$electronic_fund_transfer",
  #     "$routing_number"  : "021001088"
  #},
  # See other payment method options in the field description

  # Supported fields for 3DS
  "$status_3ds"                     : "$attempted",
  "$triggered_3ds"                  : "$processor",
  "$merchant_initiated_transaction" : false,

  # Supported Fields
  "$shipping_address" : {
      "$name"         : "Bill Jones",
      "$phone"        : "1-415-555-6041",
      "$address_1"    : "2100 Main Street",
      "$address_2"    : "Apt 3B",
      "$city"         : "New London",
      "$region"       : "New Hampshire",
      "$country"      : "US",
      "$zipcode"      : "03257"
  },
  "$session_id"       : "gigtleqddo84l8cm15qe4il",

  # For marketplaces, use $seller_user_id to identify the seller
  "$seller_user_id"     : "slinkys_emporium",

  # Sample Custom Fields
  "digital_wallet"      : "apple_pay", # "google_wallet", etc.
  "coupon_code"         : "dollarMadness",
  "shipping_choice"     : "FedEx Ground Courier",
  "is_first_time_buyer" : False,

  # Send this information from a BROWSER client.
  "$browser"      : {
    "$user_agent" :  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        : {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}

response = client.track("$transaction", properties)
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(:api_key => "YOUR_API_KEY")

# Sample $transaction event
properties = {
  # Required Fields
  "$user_id"          => "billy_jones_301",
  "$amount"           => 506790000, # $506.79
  "$currency_code"    => "USD",

  # Supported Fields
  "$user_email"       => "billjones1@example.com",
  "$transaction_type" => "$sale",
  "$transaction_status" => "$failure",
  "$decline_category" => "$bank_decline",
  "$order_id"         => "ORDER-123124124",
  "$transaction_id"   => "719637215",

  "$billing_address"  => { # or "$sent_address" # or "$received_address"
      "$name"         => "Bill Jones",
      "$phone"        => "1-415-555-6041",
      "$address_1"    => "2100 Main Street",
      "$address_2"    => "Apt 3B",
      "$city"         => "New London",
      "$region"       => "New Hampshire",
      "$country"      => "US",
      "$zipcode"      => "03257"
  },
  "$brand_name"   => "sift",
  "$site_domain"  => "sift.com",
  "$site_country" => "US",
  "$ordered_from" => {
    "$store_id"      => "123",
    "$store_address" => {
      "$name"       => "Bill Jones",
      "$phone"      => "1-415-555-6040",
      "$address_1"  => "2100 Main Street",
      "$address_2"  => "Apt 3B",
      "$city"       => "New London",
      "$region"     => "New Hampshire",
      "$country"    => "US",
      "$zipcode"    => "03257"
    }
  },
  # Credit card example
  "$payment_method"   => {
      "$payment_type"    => "$credit_card",
      "$payment_gateway" => "$braintree",
      "$card_bin"        => "542486",
      "$card_last4"      => "4444"
  },

  # Bank account example
  # "$payment_method"   => {
  #     "$payment_type"    => "$electronic_fund_transfer",
  #     "$routing_number"  => "021001088"
  #},
  # See other payment method options in the field description

  # Supported fields for 3DS
  "$status_3ds"                     => "$attempted",
  "$triggered_3ds"                  => "$processor",
  "$merchant_initiated_transaction" => false,

  # Supported Fields
  "$shipping_address" => {
      "$name"         => "Bill Jones",
      "$phone"        => "1-415-555-6041",
      "$address_1"    => "2100 Main Street",
      "$address_2"    => "Apt 3B",
      "$city"         => "New London",
      "$region"       => "New Hampshire",
      "$country"      => "US",
      "$zipcode"      => "03257"
  },
  "$session_id"       => "gigtleqddo84l8cm15qe4il",

  # For marketplaces, use $seller_user_id to identify the seller
  "$seller_user_id"     => "slinkys_emporium",

  # Sample Custom Fields
  "digital_wallet"      => "apple_pay", # "google_wallet", etc.
  "coupon_code"         => "dollarMadness",
  "shipping_choice"     => "FedEx Ground Courier",
  "is_first_time_buyer" => false,

  # Send this information from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$transaction", properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

// Sample $transaction event
$properties = array(
  // Required Fields
  '$user_id'          => 'billy_jones_301',
  '$amount'           => 506790000, // $506.79
  '$currency_code'    => 'USD',

  // Supported Fields
  '$user_email'       => 'bill@gmail.com',
  '$transaction_type' => '$sale',
  '$transaction_status' => '$failure',
  '$decline_category' => '$bank_decline',
  '$order_id'         => 'ORDER-123124124',
  '$transaction_id'   => '719637215',

  '$billing_address'  => array( // or "$sent_address" // or "$received_address"
      '$name'         => 'Bill Jones',
      '$phone'        => '1-415-555-6041',
      '$address_1'    => '2100 Main Street',
      '$address_2'    => 'Apt 3B',
      '$city'         => 'New London',
      '$region'       => 'New Hampshire',
      '$country'      => 'US',
      '$zipcode'      => '03257'
  ),
  '$brand_name'   => 'sift',
  '$site_domain'  => 'sift.com',
  '$site_country' => 'US',
  $ordered_from = array(
    '$store_id'      => '123',
    '$store_address' => array(
      '$name'       => 'Bill Jones',
      '$phone'      => '1-415-555-6040',
      '$address_1'  => '2100 Main Street',
      '$address_2'  => 'Apt 3B',
      '$city'       => 'New London',
      '$region'     => 'New Hampshire',
      '$country'    => 'US',
      '$zipcode'    => '03257'
    )
  ),
  // Credit card example
  '$payment_method'   => array(
      '$payment_type'    => '$credit_card',
      '$payment_gateway' => '$braintree',
      '$card_bin'        => '542486',
      '$card_last4'      => '4444'
  ),

  // Bank account example
  // "$payment_method"   => array(
  //     "$payment_type"    => "$electronic_fund_transfer",
  //     "$routing_number"  => "021001088"
  //),
  // See other payment method options in the field description

  // Supported fields for 3DS
  '$status_3ds'                     => '$attempted',
  '$triggered_3ds'                  => '$processor',
  '$merchant_initiated_transaction' => false,

  // Supported Fields
  '$shipping_address' => array(
      '$name'         => 'Bill Jones',
      '$phone'        => '1-415-555-6041',
      '$address_1'    => '2100 Main Street',
      '$address_2'    => 'Apt 3B',
      '$city'         => 'New London',
      '$region'       => 'New Hampshire',
      '$country'      => 'US',
      '$zipcode'      => '03257'
  ),
  '$session_id'       => 'gigtleqddo84l8cm15qe4il',

  // For marketplaces, use $seller_user_id to identify the seller
  '$seller_user_id'     => 'slinkys_emporium',

  // Sample Custom Fields
  'digital_wallet'      => 'apple_pay' // 'google_wallet', etc.
  'coupon_code'         => 'dollarMadness',
  'shipping_choice'     => 'FedEx Ground Courier',
  'is_first_time_buyer' => False,

  // Send this information from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information an APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track('$transaction', $properties);
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.EventRequest;
import com.siftscience.model.TransactionFieldSet;
import com.siftscience.model.Address;
import com.siftscience.model.Item;
import com.siftscience.model.Discount;
import com.siftscience.model.Promotion;
import com.siftscience.model.PaymentMethod;

SiftClient client = new SiftClient("YOUR_API_KEY");
EventRequest request = client.buildRequest(new TransactionFieldSet()
        // Required Fields
        .setUserId(billy_jones_301)
        .setAmount(506790000L)
        .setCurrencyCode("USD")
        // Supported Fields
        .setSessionId("gigtleqddo84l8cm15qe4il")
        .setUserEmail("billjones1@example.com")
        .setTransactionType("$sale")
        .setTransactionStatus("$failure")
        .setDeclineCategory("$bank_decline")
        .setOrderId("ORDER-123124124")
        .setTransactionId("719637215")
        .setBillingAddress(new Address() // or setSentAddress // or setReceivedAddress
            .setName("Bill Jones")
            .setPhone("1-415-555-6041")
            .setAddress1("2100 Main Street")
            .setAddress2("Apt 3B")
            .setCity("New London")
            .setRegion("New Hampshire")
            .setCountry("US")
            .setZipCode("03257"))
        .setBrandName("sift")
        .setSiteDomain("sift.com")
        .setSiteCountry("US")
        .setOrderedFrom(new OrderedFrom()
                .setStoreId("123")
                .setStoreAddress(new Address()
                        .setName("New London Stop")
                        .setAddress1("2100 Main Street")
                        .setCity("New London")
                        .setRegion("New Hampshire")
                        .setCountry("US")
                        .setZipCode("03257"))
        .setPaymentMethod(new PaymentMethod()
            .setPaymentType("$credit_card")
            .setPaymentGateway("$braintree")
            .setCardBin("542486")
            .setCardLast4("4444"))
        .setStatus3Ds("$attempted")
        .setTriggered3Ds("$processor")
        .setMerchantInitiatedTransaction(false)
        .setShippingAddress(new Address()
            .setName("Bill Jones")
            .setPhone("1-415-555-6041")
            .setAddress1("2100 Main Street")
            .setAddress2("Apt 3B")
            .setCity("New London")
            .setRegion("New Hampshire")
            .setCountry("US")
            .setZipCode("03257"))
        .setSellerUserId("slinkys_emporium")
        // Sample Custom Fields
        .setCustomField("digital_wallet", "apple_pay")
        .setCustomField("coupon_code", "dollarMadness")
        .setCustomField("shipping_choice", "Fedex Ground Courier")
        .setCustomField("is_first_time_buyer", false));
        // Send this information from a BROWSER client.
        .setBrowser(new Browser()
                .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
                .setAcceptLanguage("en-US")
                .setContentLanguage("en-GB"))

        // =========================================

        // Send this information from an APP client.
        .setApp(new App()
                // Example for the iOS Calculator app.
                .setOperatingSystem("iOS")
                .setOperatingSystemVersion("10.1.3")
                .setDeviceManufacturer("Apple")
                .setDeviceModel("iPhone 4,2")
                .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
                .setAppName("Calculator")
                .setAppVersion("3.2.7")
                .setClientLanguage("en-US")));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-update-account"><div><h1>$update_account</h1><p>Use <code>$update_account</code> to record changes to the user's account 
information. For user accounts created prior to integrating with Sift, it's 
recommended that <code>$create_account</code> is called before <code>$update_account</code> 
to enable Sift to track the account's age. Otherwise, call <code>$update_account</code> and 
we'll infer that account was created before integration.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$update_account"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's account ID according to your systems. Note that user IDs are <em>case sensitive</em>.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$changed_password</div><div class="value-details"><strong>Boolean</strong><p>Track password changes via <span data-href="/events-api/reserved-events/update-password">$update_password</span>.<br><br>If the user changed their password, set this field and mark as <code>true</code>. Additionally, 
Sift's recommended approach is to send the <code>$update_password</code> reserved event.</p></div></li><li><div class="field">$user_email</div><div class="value-details"><strong>String</strong><p>Updated value of the user's email address. Note: If the user's email is also their account ID in your
system, set <strong>both</strong> the <code>$user_id</code> and <code>$user_email</code> fields to their
email address.</p></div></li><li><div class="field">$verification_phone_number</div><div class="value-details"><strong> String</strong><p>Phone number of the user. This phone number will be used to send One-Time Password (OTP) when required.
The phone number should be in E.164 format including <code>+</code> and a country code.</p></div></li><li><div class="field">$name</div><div class="value-details"><strong>String</strong><p>The full name of the user.</p></div></li><li><div class="field">$phone</div><div class="value-details"><strong> String</strong><p>The primary phone number of the user associated with this account. Provide the phone number as a string
starting with the country code. Use <a href="https://en.wikipedia.org/wiki/E.164">E.164</a> format or send
in the standard national format of number's origin. For example: "+14155556041" or "1-415-555-6041" for a
U.S. number. If you collect other phone numbers for the account, provide them as additional custom fields,
e.g <code>work_phone</code></p></div></li><li><div class="field">$referrer_user_id</div><div class="value-details"><strong> String</strong><p>The ID of the user that referred the current user to your business. This field is <em>required</em> for
detecting referral fraud. Note: User IDs are <em>case sensitive</em>. You may need to normalize the
capitalization of your user IDs. Follow our <span data-href="/events-api/fields">guidelines</span>
for <code>$user_id</code> values.</p></div></li><li><div class="field">$payment_methods</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/payment-method">Array of Payment Methods</span></strong><p>The payment method(s) associated with this account.
If possible, please send all payment methods associated with the account each time payment methods are updated.</p></div></li><li><div class="field">$billing_address</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Address</span></strong><p>The updated billing address.</p></div></li><li><div class="field">$shipping_address</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Address</span></strong><p>The shipping address associated with this user.</p></div></li><li><div class="field">$social_sign_on_type</div><div class="value-details"><strong>String</strong><p>If the user logged in with a social identify provider, give the name here.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li class="inline"><code>$facebook</code><code>$google</code><code>$linkedin</code><code>$twitter</code><code>$yahoo</code><code>$microsoft</code><code>$amazon</code><code>$apple</code><code>$github</code><code>$other</code></li></ul></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is used to update the account. Represented by the <code>$browser</code> object.
 Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is used to update the account. Represented by the <code>$app</code> object.
 Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$account_types</div><div class="value-details"><strong>Array of Strings</strong><p>Capture the type(s) of the account: <code>"merchant"</code> or <code>"shopper"</code>, <code>"regular"</code> or <code>"premium"</code>, etc.
The array supports multiple types for a single account, e.g.<code>["merchant", "premium"]</code>.</p></div></li><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$merchant_profile</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/merchant-profile">Merchant Profile</span></strong><p>The details about the merchant or seller providing the goods or service.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $update_account event
{
  // Required Fields
  "$type"       : "$update_account",
  "$api_key"    : "YOUR_API_KEY",
  "$user_id"    : "billy_jones_301",

  // Supported Fields
  "$changed_password"          : true,
  "$user_email"                : "billjones1@example.com",
  "$verification_phone_number" : "+123456789012",
  "$name"                      : "Bill Jones",
  "$phone"                     : "1-415-555-6040",
  "$referrer_user_id"          : "janejane102",
  "$payment_methods"  : [
      {
          "$payment_type"    : "$credit_card",
          "$card_bin"        : "542486",
          "$card_last4"      : "4444"
      }
  ],
  "$billing_address"  :
  {
      "$name"         : "Bill Jones",
      "$phone"        : "1-415-555-6041",
      "$address_1"    : "2100 Main Street",
      "$address_2"    : "Apt 3B",
      "$city"         : "New London",
      "$region"       : "New Hampshire",
      "$country"      : "US",
      "$zipcode"      : "03257"
  },
  "$shipping_address" : {
      "$name"         : "Bill Jones",
      "$phone"        : "1-415-555-6041",
      "$address_1"    : "2100 Main Street",
      "$address_2"    : "Apt 3B",
      "$city"         : "New London",
      "$region"       : "New Hampshire",
      "$country"      : "US",
      "$zipcode"      : "03257"
  },

  "$social_sign_on_type"   : "$twitter",
  "$account_types"          : ["merchant", "premium"],

  // Send this information from a BROWSER client.
  "$browser"        : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  // =========================================

  // Send this information from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client("YOUR_API_KEY")

# Sample $update_account event
properties = {
  # Required Fields
  "$user_id"    : "billy_jones_301",

  # Supported Fields
  "$changed_password"          : True,
  "$user_email"                : "billjones1@example.com",
  "$verification_phone_number" : "+123456789012",
  "$name"                      : "Bill Jones",
  "$phone"                     : "1-415-555-6040",
  "$referrer_user_id"          : "janejane102",
  "$payment_methods"  : [
      {
          "$payment_type"    : "$credit_card",
          "$card_bin"        : "542486",
          "$card_last4"      : "4444"
      }
  ],
  "$billing_address"  :
  {
      "$name"         : "Bill Jones",
      "$phone"        : "1-415-555-6041",
      "$address_1"    : "2100 Main Street",
      "$address_2"    : "Apt 3B",
      "$city"         : "New London",
      "$region"       : "New Hampshire",
      "$country"      : "US",
      "$zipcode"      : "03257"
  },
  "$shipping_address" : {
      "$name"         : "Bill Jones",
      "$phone"        : "1-415-555-6041",
      "$address_1"    : "2100 Main Street",
      "$address_2"    : "Apt 3B",
      "$city"         : "New London",
      "$region"       : "New Hampshire",
      "$country"      : "US",
      "$zipcode"      : "03257"
  },

  "$social_sign_on_type"   : "$twitter",
  "$account_types"          : ["merchant", "premium"],

  # Send this information from a BROWSER client.
  "$browser"      : {
    "$user_agent" :  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        : {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}

response = client.track("$update_account", properties)
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(:api_key => "YOUR_API_KEY")

# Sample $update_account event
properties = {
  # Required Fields
  "$user_id"    => "billy_jones_301",

  # Supported Fields
  "$changed_password" => true,
  "$user_email"       => "billjones1@example.com",
  "$name"             => "Bill Jones",
  "$phone"            => "1-415-555-6040",
  "$referrer_user_id" => "janejane102",
  "$payment_methods"  => [
      {
          "$payment_type"    => "$credit_card",
          "$card_bin"        => "542486",
          "$card_last4"      => "4444"
      }
  ],
  "$billing_address"  =>
  {
      "$name"         => "Bill Jones",
      "$phone"        => "1-415-555-6041",
      "$address_1"    => "2100 Main Street",
      "$address_2"    => "Apt 3B",
      "$city"         => "New London",
      "$region"       => "New Hampshire",
      "$country"      => "US",
      "$zipcode"      => "03257"
  },
  "$shipping_address" => {
      "$name"         => "Bill Jones",
      "$phone"        => "1-415-555-6041",
      "$address_1"    => "2100 Main Street",
      "$address_2"    => "Apt 3B",
      "$city"         => "New London",
      "$region"       => "New Hampshire",
      "$country"      => "US",
      "$zipcode"      => "03257"
  },

  "$social_sign_on_type"  => "$twitter",
  "$account_types"        => ["merchant", "premium"],

  # Send this information from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$update_account", properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

// Sample $update_account event
$properties = array(
  // Required Fields
  '$user_id'    => 'billy_jones_301',
  // Supported Fields
  '$changed_password' => True,
  '$user_email'       => 'bill@gmail.com',
  '$name'             => 'Bill Jones',
  '$phone'            => '1-415-555-6040',
  '$referrer_user_id' => 'janejane102',
  '$payment_methods'  => array(
      array(
          '$payment_type'    => '$credit_card',
          '$card_bin'        => '542486',
          '$card_last4'      => '4444'
      )
  ),
  '$billing_address'  => array(
      '$name'         => 'Bill Jones',
      '$phone'        => '1-415-555-6041',
      '$address_1'    => '2100 Main Street',
      '$address_2'    => 'Apt 3B',
      '$city'         => 'New London',
      '$region'       => 'New Hampshire',
      '$country'      => 'US',
      '$zipcode'      => '03257'
  ),
  '$shipping_address' => array(
      '$name'         => 'Bill Jones',
      '$phone'        => '1-415-555-6041',
      '$address_1'    => '2100 Main Street',
      '$address_2'    => 'Apt 3B',
      '$city'         => 'New London',
      '$region'       => 'New Hampshire',
      '$country'      => 'US',
      '$zipcode'      => '03257'
  ),
  '$social_sign_on_type'   => '$twitter',
  '$account_types'         => ['merchant', 'premium'],

  // Send this information from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information an APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track('$update_account', $properties);
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.EventRequest;
import com.siftscience.model.UpdateAccountFieldSet;
import com.siftscience.model.Address;
import com.siftscience.model.PaymentMethod;

SiftClient client = new SiftClient("YOUR_API_KEY");
EventRequest request = client.buildRequest(new UpdateAccountFieldSet()
        // Required Fields
        .setUserId("billy_jones_301")

        .setSessionId("gigtleqddo84l8cm15qe4il")
        .setChangedPassword(true)
        .setUserEmail("billjones1@example.com")
        .setName("Bill Jones")
        .setPhone("1-415-555-6040")
        .setReferrerUserId("janejane102")
        .setPaymentMethods(Arrays.asList(new PaymentMethod()
                .setPaymentType("$credit_card")
                .setPaymentGateway("$braintree")
                .setCardBin("542486")
                .setCardLast4("4444")))
        .setBillingAddress(new Address()
                .setName("Bill Jones")
                .setPhone("1-415-555-6041")
                .setAddress1("2100 Main Street")
                .setAddress2("Apt 3B")
                .setCity("New London")
                .setRegion("New Hampshire")
                .setCountry("US")
                .setZipCode("03257"))
        .setShippingAddress(new Address()
                .setName("Bill Jones")
                .setPhone("1-415-555-6041")
                .setAddress1("2100 Main Street")
                .setAddress2("Apt 3B")
                .setCity("New London")
                .setRegion("New Hampshire")
                .setCountry("US")
                .setZipCode("03257"))
        .setSocialSignOnType("$twitter")
        .setAccountTypes(Arrays.asList(new String[]{"merchant","premium"}))

        // Send this information from a BROWSER client.
        .setBrowser(new Browser()
                .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
                .setAcceptLanguage("en-US")
                .setContentLanguage("en-GB"))

        // =========================================

        // Send this information from an APP client.
        .setApp(new App()
                // Example for the iOS Calculator app.
                .setOperatingSystem("iOS")
                .setOperatingSystemVersion("10.1.3")
                .setDeviceManufacturer("Apple")
                .setDeviceModel("iPhone 4,2")
                .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
                .setAppName("Calculator")
                .setAppVersion("3.2.7")
                .setClientLanguage("en-US")));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-update-content"><div><h1>$update_content</h1><p>Use <code>$update_content</code> to record changes to a content created previously with a <code>$create_content</code> event.</p><ul><li>This event contains the same fields as <code>$create_content</code>.</li><li>The existing content will be completely replaced by the values specified in <code>$update_content</code>. Be sure
to specify all values for the content, not just those that changed.</li><li>For content created prior to integrating with Sift, there's no need to call <code>$create_content</code> before
<code>$update_content</code>. Simply call <code>$update_content</code> and we'll infer that the content was created before
your integration with Sift.</li></ul></div></div><div class="docs-partial events-api-reserved-events-update-content-comment"><div><h1>$update_content.comment</h1><p>Use <code>$update_content</code> with a <code>$comment</code> type to tell Sift whenever a user posts
into the comment section your site. Examples of comments include a comment on a social media or blog post,
and discussion sections on news articles.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$update_content"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's internal account ID. Users without an assigned <code>$user_id</code> will not show up in the console.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$content_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The unique ID that you assign to an individual piece of content in your system.
Note: content IDs are case sensitive and must be unique across all content types.</p></div></li><li><div class="field">$session_id</div><div class="value-details"><strong> String </strong><p>The user's current session ID, used to tie a user's action before and after login or account creation.</p></div></li><li><div class="field">$status</div><div class="value-details"><strong>String</strong><p>The status of the comment. After you update a posting, you can also update its status via the
<code>$content_status</code> event.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field">$draft</span><span class="sub-details">The comment has not yet been submitted by the user to go live.</span></li><li><span class="sub-field">$pending</span><span class="sub-details">The user has submitted the comment but has not gone live. This may be because the comment needs to be
reviewed, the user needs to add payment details, or because of some other processes within your business.</span></li><li><span class="sub-field">$active</span><span class="sub-details">The comment is live and active on your site. Other users can see the posting.</span></li><li><span class="sub-field">$paused</span><span class="sub-details">The comment has been paused by the user and may return back to <code>$active</code> at a later date.</span></li><li><span class="sub-field">$deleted_by_user</span><span class="sub-details">The comment has been deleted or archived by the user.</span></li><li><span class="sub-field">$deleted_by_company</span><span class="sub-details">The comment has been deleted or archived by your company due to violation of terms of service or other
policies.</span></li></ul></div></li><li><div class="field">$ip</div><div class="value-details"><strong>String</strong><p>IP address of the request made by the user. Recommended for historical backfills and customers with
with mobile apps.</p></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is used to update the comment. Represented by the <code>$browser</code> object.
Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is used to update the comment. Represented by the <code>$app</code> object.
Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$comment</div><div class="value-details"><strong>Object</strong><p>Contains information about the comment.</p></div></li><ul class="api-fields"><li><div class="field">$body</div><div class="value-details"><strong>String</strong><p>The text content of the comment.</p></div></li><li><div class="field">$contact_email</div><div class="value-details"><strong>String</strong><p>The email address provided with the listing for contacting the poster. When no email address is
provided for the listing, use the email address of the user account instead.</p></div></li><li><div class="field">$parent_comment_id</div><div class="value-details"><strong>String</strong><p>The <code>$content_id</code> of the immediate parent comment, i.e. the comment being replied to.
Only use if it is a reply to a previous comment.</p></div></li><li><div class="field">$root_content_id</div><div class="value-details"><strong>String</strong><p>The <code>$content_id</code> of the content being commented on. For example,
this would be the id of the social media <code>$post</code> to which the comment applies.</p></div></li><li><div class="field">$images</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/image">Array of Images</span></strong><p>The list of images shared by the user with their comment. It includes images pasted inline or attached
separately.</p></div></li></ul><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $update_content event for comments
{
  // Required fields
  "$type"                 : "$update_content",
  "$api_key"              : "YOUR_API_KEY",
  "$user_id"              : "fyw3989sjpqr71",
  "$content_id"           : "comment-23412",

  // Recommended fields
  "$session_id"           : "a234ksjfgn435sfg",
  "$status"               : "$active",
  "$ip"                   : "255.255.255.0",

  // Required $comment object
  "$comment"              : {
    "$body"               : "Congrats on the new role!",
    "$contact_email"      : "alex_301@domain.com",
    "$parent_comment_id"  : "comment-23407",
    "$root_content_id"    : "listing-12923213",
    "$images"             : [
      {
        "$md5_hash"           : "0cc175b9c0f1b6a831c399e269772661",
        "$link"               : "https://www.domain.com/file.png",
        "$description"        : "An old picture"
      }
    ]
  },

  // Send this information from a BROWSER client.
  "$browser"        : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  // =========================================

  // Send this information from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new({api_key: "YOUR_API_KEY"})

# Sample $update_content event for comments
comment_properties = {
  # Required fields
  '$user_id'              => 'fyw3989sjpqr71',
  '$content_id'           => 'comment-23412',

  # Recommended fields
  '$session_id'           => 'a234ksjfgn435sfg',
  '$status'               => '$active',
  '$ip'                   => '255.255.255.0',

  # Required $comment object
  '$comment'              => {
    '$body'               => 'Congrats on the new role!',
    '$contact_email'      => 'alex_301@domain.com',
    '$parent_comment_id'  => 'comment-23407',
    '$root_content_id'    => 'listing-12923213',
    '$images'             => [
      {
        '$md5_hash'            => '0cc175b9c0f1b6a831c399e269772661',
        '$link'                => 'https://www.domain.com/file.png',
        '$description'         => 'An old picture'
      }
    ]
  },

  # Send this information from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$update_content", comment_properties)
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key="YOUR_API_KEY")

# Sample $update_content event for comments
comment_properties = {
  # Required fields
  "$user_id"                : "fyw3989sjpqr71",
  "$content_id"             : "comment-23412",

  # Recommended fields
  "$session_id"             : "a234ksjfgn435sfg",
  "$status"                 : "$active",
  "$ip"                     : "255.255.255.0",

  # Required $comment object
  "$comment"                : {
    "$body"               : "Congrats on the new role!",
    "$contact_email"      : "alex_301@domain.com",
    "$parent_comment_id"  : "comment-23407",
    "$root_content_id"    : "listing-12923213",
    "$images"             : [
      {
        "$md5_hash"       : "0cc175b9c0f1b6a831c399e269772661",
        "$link"           : "https://www.domain.com/file.png",
        "$description"    : "An old picture"
      }
    ]
  },

  # Send this information from a BROWSER client.
  "$browser"      : {
    "$user_agent" :  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        : {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}

response = client.track("$update_content", comment_properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$event = '$update_content';
$client = new SiftClient(array('api_key' => YOUR_API_KEY));

// Sample $update_content event for comments
$comment_properties = array(
  // Required fields
  '$user_id' => 'fyw3989sjpqr71',
  '$content_id' => 'comment-23412',

  // Recommended fields
  '$session_id'           => 'a234ksjfgn435sfg',
  '$status'               => '$active',
  '$ip'                   => '255.255.255.0',

  // Required $comment object
  '$comment'              => array(
    '$body'               => 'Congrats on the new role!',
    '$contact_email'      => 'alex_301@domain.com',
    '$parent_comment_id'  => 'comment-23407',
    '$root_content_id'    => 'listing-12923213',
    '$images'             => array(
      array(
        '$md5_hash'            => '0cc175b9c0f1b6a831c399e269772661',
        '$link'                => 'https://www.domain.com/file.png',
        '$description'         => 'An old picture'
      )
    )
  ),

  // Send this information from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information an APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track($event, $comment_properties);</pre><pre class="prettyprint lang java code-partial">import java.util.Arrays;

import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.SiftClient;
import com.siftscience.exception.SiftException;
import com.siftscience.model.Comment;
import com.siftscience.model.CreateCommentFieldSet;
import com.siftscience.model.Image;

SiftClient client = new SiftClient("YOUR_API_KEY");

// Sample $update_content event for comments
EventRequest request = client.buildRequest(new CreateCommentFieldSet()
        // Required fields
        .setUserId("fyw3989sjpqr71")
        .setContentId("comment-23412")
        // Recommended fields
        .setSessionId("a234ksjfgn435sfg")
        .setStatus("$active")
        .setIp("255.255.255.0")
        // Required $commend object
        .setComment(new Comment()
                .setBody("Congrats on the new role!")
                .setContactEmail("alex_301@domain.com")
                .setParentCommentId("comment_23407")
                .setRootContentId("listing-12923213")
                .setImages(Arrays.asList(new Image()
                        .setMd5Hash("18E927C7E1229DC8F088643B7A65F978")
                        .setLink("https://www.domain.com/file.png")
                        .setDescription("An old picture")))));
        // Send this information from a BROWSER client.
        .setBrowser(new Browser()
                .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
                .setAcceptLanguage("en-US")
                .setContentLanguage("en-GB"))

        // =========================================

        // Send this information from an APP client.
        .setApp(new App()
                // Example for the iOS Calculator app.
                .setOperatingSystem("iOS")
                .setOperatingSystemVersion("10.1.3")
                .setDeviceManufacturer("Apple")
                .setDeviceModel("iPhone 4,2")
                .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
                .setAppName("Calculator")
                .setAppVersion("3.2.7")
                .setClientLanguage("en-US")));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-update-content-listing"><div><h1>$update_content.listing</h1><p>Use <code>$update_content</code> with a <code>$listing</code> type whenever a user updates a listing on your site.
Examples of listings include job listing, product for sale, or an apartment for rent.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$update_content"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's internal account ID. Users without an assigned <code>$user_id</code> will not show up in the console.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$content_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The unique ID that you assign to an individual piece of content in your system.
Note: content IDs are case sensitive and must be unique across all content types.</p></div></li><li><div class="field">$session_id</div><div class="value-details"><strong> String </strong><p>The user's current session ID, used to tie a user's action before and after login or account creation.</p></div></li><li><div class="field">$status</div><div class="value-details"><strong>String</strong><p>The status of the listing. After you update a listing, you can also update its status via the
<code>$content_status</code> event.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field">$draft</span><span class="sub-details">The listing has not yet been submitted by the user to go live.</span></li><li><span class="sub-field">$pending</span><span class="sub-details">The user has submitted the listing but has not gone live. This may be because the listing needs to be
reviewed, the user needs to add payment details, or because of some other processes within your business.</span></li><li><span class="sub-field">$active</span><span class="sub-details">The listing is live and active on your site. Other users can see the posting.</span></li><li><span class="sub-field">$paused</span><span class="sub-details">The listing has been paused by the user and may return back to <code>$active</code> at a later date.</span></li><li><span class="sub-field">$deleted_by_user</span><span class="sub-details">The listing has been deleted or archived by the user.</span></li><li><span class="sub-field">$deleted_by_company</span><span class="sub-details">The listing has been deleted or archived by your company due to violation of terms of service or other
policies.</span></li></ul></div></li><li><div class="field">$ip</div><div class="value-details"><strong>String</strong><p>IP address of the request made by the user. Recommended for historical backfills and customers with
 with mobile apps.</p></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is used to update the listing. Represented by the <code>$browser</code> object.
 Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is used to update the listing. Represented by the <code>$app</code> object.
 Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$listing</div><div class="value-details"><strong>Object</strong><p>Contains information about the listing.</p></div></li><ul class="api-fields"><li><div class="field">$subject</div><div class="value-details"><strong>String</strong><p>The subject of the listing.</p></div></li><li><div class="field">$body</div><div class="value-details"><strong>String</strong><p>The text content of the listing.</p></div></li><li><div class="field">$contact_email</div><div class="value-details"><strong>String</strong><p>The email address provided with the listing for contacting the poster. When no email address is
 provided for the listing, use the email address of the user account instead.</p></div></li><li><div class="field">$contact_address</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Address</span></strong><p>The physical contact address provided with the listing. When no address is provided for the listing,
 use the physical address of the user account instead.</p></div></li><li><div class="field">$locations</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Array of Addresses</span></strong><p>The locations associated with the listing. For example, this array would contain the location of the
 rental listing. You can pass one or more addresses that are associated with your listing.
 Pass as much information as you have. Partial addresses such as just the city and state are fine if that's all you have.</p></div></li><li><div class="field">$listed_items</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/item">Array of Items</span></strong><p>The items array represents physical or digital items listed by the user.</p></div></li><li><div class="field">$images</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/image">Array of Images</span></strong><p>The list of images shared by the user with their listing. It includes images pasted inline or attached
 separately.</p></div></li><li><div class="field">$expiration_time</div><div class="value-details"><strong>Integer</strong><p>The UNIX timestamp in milliseconds of when the listing will expire. Only set if the listing is time
 bound in some way (e.g. car auction will close 14 days from date of posting).</p></div></li></ul><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $update_content event for listings
{
  // Required fields
  "$type"               : "$update_content",
  "$api_key"            : "YOUR_API_KEY",
  "$user_id"            : "fyw3989sjpqr71",
  "$content_id"         : "listing-23412",

  // Recommended fields
  "$session_id"         : "a234ksjfgn435sfg",
  "$status"             : "$active",
  "$ip"                 : "255.255.255.0",

  // Required $listing object
  "$listing"            : {
    "$subject"          : "2 Bedroom Apartment for Rent",
    "$body"             : "Capitol Hill Seattle brand new condo. 2 bedrooms and 1 full bath.",
    "$contact_email"    : "alex_301@domain.com",
    "$contact_address"  : {
      "$name"           : "Bill Jones",
      "$phone"          : "1-415-555-6041",
      "$city"           : "New London",
      "$region"         : "New Hampshire",
      "$country"        : "US",
      "$zipcode"        : "03257"
    },
    "$locations"        : [
      {
        "$city"             : "Seattle",
        "$region"           : "Washington",
        "$country"          : "US",
        "$zipcode"          : "98112"
      }
    ],
    "$listed_items"     : [
      {
        "$price"            : 2950000000, // $2950.00
        "$currency_code"    : "USD",
        "$tags"             : ["heat", "washer/dryer"]
      }
    ],
    "$images"           : [
      {
        "$md5_hash"         : "0cc175b9c0f1b6a831c399e269772661",
        "$link"             : "https://www.domain.com/file.png",
        "$description"      : "Billy's picture"
      }
    ],
    "$expiration_time"  : 1549063157000 // UNIX timestamp in milliseconds
  },

  // Send this information from a BROWSER client.
  "$browser"        : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  // =========================================

  // Send this information from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new({api_key: "YOUR_API_KEY"})

# Sample $update_content event for listings
listing_properties = {
  # Required fields
  '$user_id'            => 'fyw3989sjpqr71',
  '$content_id'         => 'listing-23412',

  # Recommended fields
  '$session_id'         => 'a234ksjfgn435sfg',
  '$status'             => '$active',
  '$ip'                 => '255.255.255.0',

  # Required $listing object
  '$listing'            => {
    '$subject'          => '2 Bedroom Apartment for Rent',
    '$body'             => 'Capitol Hill Seattle brand new condo. 2 bedrooms and 1 full bath.',
    '$contact_email'    => 'alex_301@domain.com',
    '$contact_address'  => {
      '$name'           => 'Bill Jones',
      '$phone'          => '1-415-555-6041',
      '$city'           => 'New London',
      '$region'         => 'New Hampshire',
      '$country'        => 'US',
      '$zipcode'        => '03257'
    },
    '$locations'        => [
      {
        '$city'              => 'Seattle',
        '$region'            => 'Washington',
        '$country'           => 'US',
        '$zipcode'           => '98112'
      }
    ],
    '$listed_items'     => [
      {
        '$price'             => 2950000000, # $2950.00
        '$currency_code'     => 'USD',
        '$tags'              => ['heat', 'washer/dryer']
      }
    ],
    '$images'           => [
      {
        '$md5_hash'          => '0cc175b9c0f1b6a831c399e269772661',
        '$link'              => 'https =>//www.domain.com/file.png',
        '$description'       => 'Billy’s picture'
      }
    ],
    '$expiration_time'       => 1549063157000 # UNIX timestamp in milliseconds
  },

  # Send this information from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$update_content", listing_properties)</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key="YOUR_API_KEY")

# Sample $update_content event for listings
listing_properties = {
  # Required fields
  "$user_id"                : "fyw3989sjpqr71",
  "$content_id"             : "listing-23412",

  # Recommended fields
  "$session_id"             : "a234ksjfgn435sfg",
  "$status"                 : "$active",
  "$ip"                     : "255.255.255.0",

  # Required $listing object
  "$listing"                : {
    "$subject"            : "2 Bedroom Apartment for Rent",
    "$body"               : "Capitol Hill Seattle brand new condo. 2 bedrooms and 1 full bath.",
    "$contact_email"      : "alex_301@domain.com",
    "$contact_address"    : {
      "$name"           : "Bill Jones",
      "$phone"          : "1-415-555-6041",
      "$city"           : "New London",
      "$region"         : "New Hampshire",
      "$country"        : "US",
      "$zipcode"        : "03257"
    },
    "$locations"          : [
      {
        "$city"           : "Seattle",
        "$region"         : "Washington",
        "$country"        : "US",
        "$zipcode"        : "98112"
      }
    ],
    "$listed_items"       : [
      {
        "$price"          : 2950000000, # $2950.00
        "$currency_code"  : "USD",
        "$tags"           : ["heat", "washer/dryer"]
      }
    ],
    "$images"             : [
      {
        "$md5_hash"       : "0cc175b9c0f1b6a831c399e269772661",
        "$link"           : "https://www.domain.com/file.png",
        "$description"    : "Billy's picture"
      }
    ],
    "$expiration_time"    : 1549063157000 # UNIX timestamp in milliseconds
  },

  # Send this information from a BROWSER client.
  "$browser"      : {
    "$user_agent" :  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        : {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}

response = client.track("$update_content", listing_properties)</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$event = '$update_content';
$client = new SiftClient(array('api_key' => YOUR_API_KEY));

// Sample $update_content event for listings
$listing_properties = array(
  // Required fields
  '$user_id'            => 'fyw3989sjpqr71',
  '$content_id'         => 'listing-23412',

  // Supported fields
  '$session_id'         => 'a234ksjfgn435sfg',
  '$status'             => '$active',
  '$ip'                 => '255.255.255.0',

  // Required $listing object
  '$listing'            => array(
    '$subject'          => '2 Bedroom Apartment for Rent',
    '$body'             => 'Capitol Hill Seattle brand new condo. 2 bedrooms and 1 full bath.',
    '$contact_email'    => 'alex_301@domain.com',
    '$contact_address'  => array(
      '$name'           => 'Bill Jones',
      '$phone'          => '1-415-555-6041',
      '$city'           => 'New London',
      '$region'         => 'New Hampshire',
      '$country'        => 'US',
      '$zipcode'        => '03257'
    ),
    '$locations'        => array(
      array(
        '$city'             => 'Seattle',
        '$region'           => 'Washington',
        '$country'          => 'US',
        '$zipcode'          => '98112'
      )
    ),
    '$listed_items'     => array(
      array(
        '$price'             => 2950000000, // $2950.00
        '$currency_code'     => 'USD',
        '$tags'              => array('heat', 'washer/dryer')
      )
    ),
    '$images'           => array(
      array(
        '$md5_hash'          => '0cc175b9c0f1b6a831c399e269772661',
        '$link'              => 'https://www.domain.com/file.png',
        '$description'       => 'Billy’s picture'
      )
    ),
    '$expiration_time'  => 1549063157000 // UNIX timestamp in milliseconds
  ),

  // Send this information from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information an APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track($event, $listing_properties);</pre><pre class="prettyprint lang java code-partial">import java.util.Arrays;

import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.SiftClient;
import com.siftscience.exception.SiftException;
import com.siftscience.model.Address;
import com.siftscience.model.CreateListingFieldSet;
import com.siftscience.model.Image;
import com.siftscience.model.Item;
import com.siftscience.model.Listing;

SiftClient client = new SiftClient("YOUR_API_KEY");

// Sample $update_content event for listings
EventRequest request = client.buildRequest(new CreateListingFieldSet()
        // Required fields
        .setUserId("fyw3989sjpqr71")
        .setContentId("listing-23412")
        // Recommended fields
        .setSessionId("a234ksjfgn435sfg")
        .setStatus("$active")
        .setIp("255.255.255.0")
        // Required $listing object
        .setListing(new Listing()
                .setBody("Capitol Hill Seattle brand new condo. 2 bedrooms and 1 full bath.")
                .setContactAddress(new Address()
                        .setName("Bill Jones")
                        .setPhone("1-415-555-6041")
                        .setRegion("New Hampshire")
                        .setCity("New London")
                        .setCountry("US")
                        .setZipCode("03257"))
                .setLocations(Arrays.asList(new Address()
                        .setCity("Seattle")
                        .setRegion("Washington")
                        .setCountry("US")
                        .setZipCode("98112")))
                .setListedItems(Arrays.asList(new Item()
                        .setPrice(2950000000L) // $2950.00
                        .setCurrencyCode("USD")
                        .setTags(Arrays.asList("heat", "washer/dryer"))))
                .setImages(Arrays.asList(new Image()
                        .setMd5Hash("18E927C7E1229DC8F088643B7A65F978")
                        .setLink("https://www.domain.com/file.png")
                        .setDescription("An old picture")))
                .setExpirationTime(1471003200000L))); // UNIX timestamp in milliseconds
        // Send this information from a BROWSER client.
        .setBrowser(new Browser()
                .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
                .setAcceptLanguage("en-US")
                .setContentLanguage("en-GB"))

        // =========================================

        // Send this information from an APP client.
        .setApp(new App()
                // Example for the iOS Calculator app.
                .setOperatingSystem("iOS")
                .setOperatingSystemVersion("10.1.3")
                .setDeviceManufacturer("Apple")
                .setDeviceModel("iPhone 4,2")
                .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
                .setAppName("Calculator")
                .setAppVersion("3.2.7")
                .setClientLanguage("en-US")));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-update-content-message"><div><h1>$update_content.message</h1><p>Use <code>$update_content</code> with a <code>$message</code> type to represent a message exchanged between users of your service.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$update_content"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's internal account ID. Users without an assigned <code>$user_id</code> will not show up in the console.
 Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$content_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The unique ID that you assign to an individual piece of content in your system.
 Note: content IDs are case sensitive and must be unique across all content types..</p></div></li><li><div class="field">$session_id</div><div class="value-details"><strong> String </strong><p>The user's current session ID, used to tie a user's action before and after login or account creation.</p></div></li><li><div class="field">$status</div><div class="value-details"><strong>String</strong><p>The status of the posting. After you update a posting, you can also update its status via the
<code>$content_status</code> event.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field">$draft</span><span class="sub-details">The message has not yet been submitted by the user to go live.</span></li><li><span class="sub-field">$pending</span><span class="sub-details">The user has submitted the message but has not gone live. This may be because the message needs to be
reviewed, the user needs to add payment details, or because of some other processes within your business.</span></li><li><span class="sub-field">$active</span><span class="sub-details">The message is live and active on your site. Other users can see the message.</span></li><li><span class="sub-field">$paused</span><span class="sub-details">The message has been paused by the user and may return back to <code>$active</code> at a later date.</span></li><li><span class="sub-field">$deleted_by_user</span><span class="sub-details">The message has been deleted or archived by the user.</span></li><li><span class="sub-field">$deleted_by_company</span><span class="sub-details">The message has been deleted or archived by your company due to violation of terms of service or other
policies.</span></li></ul></div></li><li><div class="field">$ip</div><div class="value-details"><strong>String</strong><p>IP address of the request made by the user. Recommended for historical backfills and customers with
 with mobile apps.</p></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is used to update the message. Represented by the <code>$browser</code> object.
 Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is used to update the message. Represented by the <code>$app</code> object.
 Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$message</div><div class="value-details"><strong>Object</strong><p>Contains information about the message.</p></div></li><ul class="api-fields"><li><div class="field">$subject</div><div class="value-details"><strong>String</strong><p>The user-supplied subject of the message.</p></div></li><li><div class="field">$body</div><div class="value-details"><strong>String</strong><p>The text content of the message.</p></div></li><li><div class="field">$contact_email</div><div class="value-details"><strong>String</strong><p>The email address provided with the listing for contacting the poster. When no email address is
 provided for the listing, use the email address of the user account instead.</p></div></li><li><div class="field">$root_content_id</div><div class="value-details"><strong>String</strong><p>The <code>content_id</code> in the context of which the messages is sent. For example, this would
 be the job listing being responded to.</p></div></li><li><div class="field">$recipient_user_ids</div><div class="value-details"><strong>Array of Strings</strong><p>The <code>user_ids</code> of the recipients of the message.</p></div></li><li><div class="field">$images</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/image">Array of Images</span></strong><p>The list of images shared by the user with their message. It includes images pasted inline or attached
 separately.</p></div></li></ul><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $update_content event for messages
{
  // Required fields
  "$type"                  : "$update_content",
  "$api_key"               : "YOUR_API_KEY",
  "$user_id"               : "fyw3989sjpqr71",
  "$content_id"            : "message-23412",

  // Recommended fields
  "$session_id"            : "a234ksjfgn435sfg",
  "$status"                : "$active",
  "$ip"                    : "255.255.255.0",
  // Required $message object
  "$message"               : {
    "$body"                : "Let’s meet at 5pm",
    "$contact_email"       : "alex_301@domain.com",
    "$recipient_user_ids"  : ["fy9h989sjphh71"],
    "$root_content_id"     : "listing-123",
    "$images"              : [
      {
        "$md5_hash"              : "0cc175b9c0f1b6a831c399e269772661",
        "$link"                  : "https://www.domain.com/file.png",
        "$description"           : "My hike today!"
      }
    ]
  },

  // Send this information from a BROWSER client.
  "$browser"        : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  // =========================================

  // Send this information from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new({api_key: "YOUR_API_KEY"})

# Sample $update_content event for messages
message_properties = {
  # Required fields
  '$user_id'               => 'fyw3989sjpqr71',
  '$content_id'            => 'message-23412',

  # Recommended fields
  '$session_id'            => 'a234ksjfgn435sfg',
  '$status'                => '$active',
  '$ip'                    => '255.255.255.0',

  # Required $message object
  '$message'               => {
    '$body'                => 'Let’s meet at 5pm',
    '$contact_email'       => 'alex_301@domain.com',
    '$recipient_user_ids'  => ['fy9h989sjphh71'],
    '$images'              => [
      {
        '$md5_hash'             => '0cc175b9c0f1b6a831c399e269772661',
        '$link'                 => 'https =>//www.domain.com/file.png',
        '$description'          => 'My hike today!'
      }
    ]
  },

  # Send this information from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$update_content", message_properties)
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key="YOUR_API_KEY")

# Sample $update_content event for messages
message_properties = {
  # Required fields
  "$user_id"                 : "fyw3989sjpqr71",
  "$content_id"              : "message-23412",

  # Recommended fields
  "$session_id"              : "a234ksjfgn435sfg",
  "$status"                  : "$active",
  "$ip"                      : "255.255.255.0",

  # Required $message object
  "$message"                 : {
    "$body"                : "Let’s meet at 5pm",
    "$contact_email"       : "alex_301@domain.com",
    "$recipient_user_ids"  : ["fy9h989sjphh71"],
    "$images"              : [
      {
        "$md5_hash"        : "0cc175b9c0f1b6a831c399e269772661",
        "$link"            : "https://www.domain.com/file.png",
        "$description"     : "My hike today!"
      }
    ]
  },

  # Send this information from a BROWSER client.
  "$browser"      : {
    "$user_agent" :  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        : {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}

response = client.track("$update_content", message_properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$event = '$update_content';
$client = new SiftClient(array('api_key' => YOUR_API_KEY));

// Sample $update_content event for messages
$message_properties = array(
  // Required fields
  '$user_id'               => 'fyw3989sjpqr71',
  '$content_id'            => 'message-23412',

  // Recommended fields
  '$session_id'            => 'a234ksjfgn435sfg',
  '$status'                => '$active',
  '$ip'                    => '255.255.255.0',

  // Required $message object
  '$message'               => array(
    '$body'                => 'Let’s meet at 5pm',
    '$contact_email'       => 'alex_301@domain.com',
    '$recipient_user_ids'  => array('fy9h989sjphh71'),
    '$images'              => array(
      array(
        '$md5_hash'             => '0cc175b9c0f1b6a831c399e269772661',
        '$link'                 => 'https://www.domain.com/file.png',
        '$description'          => 'My hike today!'
      )
    )
  ),

  // Send this information from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information an APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track($event, $message_properties);
</pre><pre class="prettyprint lang java code-partial">import java.util.Arrays;

import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.SiftClient;
import com.siftscience.exception.SiftException;
import com.siftscience.model.Address;
import com.siftscience.model.CreateMessageFieldSet;
import com.siftscience.model.Image;
import com.siftscience.model.Message;

SiftClient client = new SiftClient("YOUR_API_KEY");

// Sample $update_content event for messages
EventRequest request = client.buildRequest(new CreateMessageFieldSet()
        // Required fields
        .setUserId("fyw3989sjpqr71")
        .setContentId("message-23412")
        // Recommended fields
        .setSessionId("a234ksjfgn435sfg")
        .setStatus("$active")
        .setIp("255.255.255.0")
        // Required $message object
        .setMessage(new Message()
                .setBody("Let’s meet at 5pm")
                .setContactEmail("alex_301@domain.com")
                .setRecipientUserIds(Arrays.asList("fy9h989sjphh71"))
                .setImages(Arrays.asList(new Image()
                        .setMd5Hash("18E927C7E1229DC8F088643B7A65F978")
                        .setLink("https://www.domain.com/file.png")
                        .setDescription("An old picture")))));
        // Send this information from a BROWSER client.
        .setBrowser(new Browser()
                .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
                .setAcceptLanguage("en-US")
                .setContentLanguage("en-GB"))

        // =========================================

        // Send this information from an APP client.
        .setApp(new App()
                // Example for the iOS Calculator app.
                .setOperatingSystem("iOS")
                .setOperatingSystemVersion("10.1.3")
                .setDeviceManufacturer("Apple")
                .setDeviceModel("iPhone 4,2")
                .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
                .setAppName("Calculator")
                .setAppVersion("3.2.7")
                .setClientLanguage("en-US")));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-update-content-post"><div><h1>$update_content.post</h1><p>Use <code>$update_content</code> with a <code>$post</code> type to represent information a user has shared with your community.
Examples include social media posts like status updates, forum posts, blog articles, etc.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$update_content"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's internal account ID. Users without an assigned <code>$user_id</code> will not show up in the console.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$content_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The unique ID that you assign to an individual piece of content in your system.
Note: content IDs are case sensitive and must be unique across all content types.</p></div></li><li><div class="field">$session_id</div><div class="value-details"><strong> String </strong><p>The user's current session ID, used to tie a user's action before and after login or account creation.</p></div></li><li><div class="field">$status</div><div class="value-details"><strong>String</strong><p>The status of the posting. After you update a posting, you can also update its status via the
<code>$content_status</code> event.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field">$draft</span><span class="sub-details">The post has not yet been submitted by the user to go live.</span></li><li><span class="sub-field">$pending</span><span class="sub-details">The user has submitted the post but has not gone live. This may be because the post needs to be
reviewed, the user needs to add payment details, or because of some other processes within your business.</span></li><li><span class="sub-field">$active</span><span class="sub-details">The post is live and active on your site. Other users can see the post.</span></li><li><span class="sub-field">$paused</span><span class="sub-details">The post has been paused by the user and may return back to <code>$active</code> at a later date.</span></li><li><span class="sub-field">$deleted_by_user</span><span class="sub-details">The post has been deleted or archived by the user.</span></li><li><span class="sub-field">$deleted_by_company</span><span class="sub-details">The post has been deleted or archived by your company due to violation of terms of service or other
policies.</span></li></ul></div></li><li><div class="field">$ip</div><div class="value-details"><strong>String</strong><p>IP address of the request made by the user. Recommended for historical backfills and customers with
 with mobile apps.</p></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is used to update the post. Represented by the <code>$browser</code> object.
 Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is used to update the post. Represented by the <code>$app</code> object.
 Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$post</div><div class="value-details"><strong>Object</strong><p>Contains information about the post.</p></div></li><ul class="api-fields"><li><div class="field">$subject</div><div class="value-details"><strong>String</strong><p>The user-supplied subject of the post.</p></div></li><li><div class="field">$body</div><div class="value-details"><strong>String</strong><p>The text content of the post.</p></div></li><li><div class="field">$contact_email</div><div class="value-details"><strong>String</strong><p>The email address provided with the post for contacting the poster. When no email address is
 provided for the listing, use the email address of the user account instead.</p></div></li><li><div class="field">$contact_address</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Address</span></strong><p>The physical contact address provided with the post. When no address is provided for the post,
 use the physical address of the user account instead.</p></div></li><li><div class="field">$locations</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Array of Addresses</span></strong><p>The locations associated with the post. In the example above, the locations array contains
 the check-in location of a social-media post.
 You can pass one or more addresses that are associated with your post.
 Pass as much information as you have. Partial addresses such as just the city and state are fine if that's all you have.</p></div></li><li><div class="field">$categories</div><div class="value-details"><strong>Array of Strings</strong><p>The category or categories you associate with the posting. For example, a blog post might be
 categorized as <code>["Family", "Travel"]</code>.</p></div></li><li><div class="field">$images</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/image">Array of Images</span></strong><p>The list of images shared by the user with their post. It includes images pasted inline or attached
 separately.</p></div></li><li><div class="field">$expiration_time</div><div class="value-details"><strong>Integer</strong><p>The UNIX timestamp in milliseconds of when the post will expire. Only set if the post is time
 bound in some way.</p></div></li></ul><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $update_content event for posts
{
  // Required fields
  "$type"               : "$update_content",
  "$api_key"            : "YOUR_API_KEY",
  "$user_id"            : "fyw3989sjpqr71",
  "$content_id"         : "post-23412",

  // Recommended fields
  "$session_id"         : "a234ksjfgn435sfg",
  "$status"             : "$active",
  "$ip"                 : "255.255.255.0",

  // Required $post object
  "$post"               : {
    "$subject"          : "My new apartment!",
    "$body"             : "Moved into my new apartment yesterday.",
    "$contact_email"    : "alex_301@domain.com",
    "$contact_address"  : {
      "$name"           : "Bill Jones",
      "$city"           : "New London",
      "$region"         : "New Hampshire",
      "$country"        : "US",
      "$zipcode"        : "03257"
    },
    "$locations"        : [
      {
        "$city"             : "Seattle",
        "$region"           : "Washington",
        "$country"          : "US",
        "$zipcode"          : "98112"
      }
    ],
    "$categories"       : ["Personal"],
    "$images"           : [
      {
        "$md5_hash"         : "0cc175b9c0f1b6a831c399e269772661",
        "$link"             : "https://www.domain.com/file.png",
        "$description"      : "View from the window!"
      }
    ],
    "$expiration_time"  : 1549063157000 // UNIX timestamp in milliseconds
  },

  // Send this information from a BROWSER client.
  "$browser"        : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  // =========================================

  // Send this information from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new({api_key: "YOUR_API_KEY"})

# Sample $update_content event for posts
post_properties = {
  # Required fields
  '$user_id'            => 'fyw3989sjpqr71',
  '$content_id'         => 'post-23412',

  # Recommended fields
  '$session_id'         => 'a234ksjfgn435sfg',
  '$status'             => '$active',
  '$ip'                 => '255.255.255.0',

  # Required $post object
  '$post'               => {
    '$subject'          => 'My new apartment!',
    '$body'             => 'Moved into my new apartment yesterday.',
    '$contact_email'    => 'alex_301@domain.com',
    '$contact_address'  => {
      '$name'           => 'Bill Jones',
      '$city'           => 'New London',
      '$region'         => 'New Hampshire',
      '$country'        => 'US',
      '$zipcode'        => '03257'
    },
    '$locations'        => [
      {
        '$city'              => 'Seattle',
        '$region'            => 'Washington',
        '$country'           => 'US',
        '$zipcode'           => '98112'
      }
    ],
    '$categories'       => ['Personal'],
    '$images'           => [
      {
        '$md5_hash'          => '0cc175b9c0f1b6a831c399e269772661',
        '$link'              => 'https://www.domain.com/file.png',
        '$description'       => 'View from the window!'
      }
    ],
    '$expiration_time'  => 1549063157000 # UNIX timestamp in milliseconds
  },

  # Send this information from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$update_content", post_properties)
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key="YOUR_API_KEY")

# Sample $update_content event for posts
post_properties = {
  # Required fields
  "$user_id"              : "fyw3989sjpqr71",
  "$content_id"           : "post-23412",

  # Recommended fields
  "$session_id"           : "a234ksjfgn435sfg",
  "$status"               : "$active",
  "$ip"                   : "255.255.255.0",

  # Required $post object
  "$post"                 : {
    "$subject"          : "My new apartment!",
    "$body"             : "Moved into my new apartment yesterday.",
    "$contact_email"    : "alex_301@domain.com",
    "$contact_address"  : {
        "$name"         : "Bill Jones",
        "$city"         : "New London",
        "$region"       : "New Hampshire",
        "$country"      : "US",
        "$zipcode"      : "03257"
    },
    "$locations"        : [
      {
        "$city"         : "Seattle",
        "$region"       : "Washington",
        "$country"      : "US",
        "$zipcode"      : "98112"
      }
    ],
    "$categories"       : ["Personal"],
    "$images"           : [
      {
        "$md5_hash"     : "0cc175b9c0f1b6a831c399e269772661",
        "$link"         : "https://www.domain.com/file.png",
        "$description"  : "View from the window!"
      }
    ],
    "$expiration_time"  : 1549063157000 # UNIX timestamp in milliseconds
  },

  # Send this information from a BROWSER client.
  "$browser"      : {
    "$user_agent" :  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        : {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}

response = client.track("$update_content", post_properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$event = '$update_content';
$client = new SiftClient(array('api_key' => YOUR_API_KEY));

// Sample $update_content event for posts
$post_properties = array(
  // Required fields
  '$user_id' => 'fyw3989sjpqr71',
  '$content_id' => 'post-23412',

  // Recommended fields
  '$session_id'         => 'a234ksjfgn435sfg',
  '$status'             => '$active',
  '$ip'                 => '255.255.255.0',

  // Required $post object
  '$post'               => array(
    '$subject'          => 'My new apartment!',
    '$body'             => 'Moved into my new apartment yesterday.',
    '$contact_email'    => 'alex_301@domain.com',
    '$contact_address'  => array(
      '$name'                => 'Bill Jones',
      '$city'                => 'New London',
      '$region'              => 'New Hampshire',
      '$country'             => 'US',
      '$zipcode'             => '03257'
    ),
    '$locations'        => array(
      array(
        '$city'              => 'Seattle',
        '$region'            => 'Washington',
        '$country'           => 'US',
        '$zipcode'           => '98112'
      )
    ),
    '$categories'       => array('Personal'),
    '$images'           => array(
      array(
        '$md5_hash'          => '0cc175b9c0f1b6a831c399e269772661',
        '$link'              => 'https://www.domain.com/file.png',
        '$description'       => 'View from the window!'
      )
    ),
    '$expiration_time'  => 1549063157000
  ),

  // Send this information from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information an APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track($event, $post_properties);
</pre><pre class="prettyprint lang java code-partial">import java.util.Arrays;

import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.SiftClient;
import com.siftscience.exception.SiftException;
import com.siftscience.model.Address;
import com.siftscience.model.CreatePostFieldSet;
import com.siftscience.model.Image;
import com.siftscience.model.Item;
import com.siftscience.model.Post;

SiftClient client = new SiftClient("YOUR_API_KEY");

// Sample $update_content event for posts
EventRequest request = client.buildRequest(new CreatePostFieldSet()
        // Required fields
        .setUserId("fyw3989sjpqr71")
        .setContentId("post-23412")
        // Recommended fields
        .setSessionId("a234ksjfgn435sfg")
        .setStatus("$active")
        .setIp("255.255.255.0")
        // Required $post object
        .setPost(new Post()
                .setSubject("My new apartment!")
                .setBody("Moved into my new apartment yesterday.")
                .setContactEmail("alex_301@domain.com")
                .setContactAddress(new Address()
                        .setName("Bill Jones")
                        .setPhone("1-415-555-6041")
                        .setRegion("New Hampshire")
                        .setCity("New London")
                        .setCountry("US")
                        .setZipCode("03257"))
                .setLocations(Arrays.asList(new Address()
                        .setCity("Seattle")
                        .setRegion("Washington")
                        .setCountry("US")
                        .setZipCode("98112")))
                .setCategories(Arrays.asList("Personal"))
                .setImages(Arrays.asList(new Image()
                        .setMd5Hash("18E927C7E1229DC8F088643B7A65F978")
                        .setLink("https://www.domain.com/file.png")
                        .setDescription("An old picture")))
                .setExpirationTime(1549063157000L))); // UNIX timestamp in milliseconds
        // Send this information from a BROWSER client.
        .setBrowser(new Browser()
                .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
                .setAcceptLanguage("en-US")
                .setContentLanguage("en-GB"))

        // =========================================

        // Send this information from an APP client.
        .setApp(new App()
                // Example for the iOS Calculator app.
                .setOperatingSystem("iOS")
                .setOperatingSystemVersion("10.1.3")
                .setDeviceManufacturer("Apple")
                .setDeviceModel("iPhone 4,2")
                .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
                .setAppName("Calculator")
                .setAppVersion("3.2.7")
                .setClientLanguage("en-US")));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-update-content-profile"><div><h1>$update_content.profile</h1><p>Use <code>$update_content</code> with a <code>$profile</code> type to represent information related to a user's profile.
This may include a social media profile, dating profile, etc.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$update_content"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's internal account ID. Users without an assigned <code>$user_id</code> will not show up in the console.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$content_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The unique ID that you assign to an individual piece of content in your system.
Note: content IDs are case sensitive and must be unique across all content types.</p></div></li><li><div class="field">$session_id</div><div class="value-details"><strong> String </strong><p>The user's current session ID, used to tie a user's action before and after login or account creation.</p></div></li><li><div class="field">$status</div><div class="value-details"><strong>String</strong><p>The status of the profile. After you update a profile, you can also update its status via the
<code>$content_status</code> event.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field">$draft</span><span class="sub-details">The profile has not yet been submitted by the user to go live.</span></li><li><span class="sub-field">$pending</span><span class="sub-details">The user has submitted the profile but has not gone live. This may be because the profile needs to be
reviewed, the user needs to add payment details, or because of some other processes within your business.</span></li><li><span class="sub-field">$active</span><span class="sub-details">The profile is live and active on your site. Other users can see the profile.</span></li><li><span class="sub-field">$paused</span><span class="sub-details">The profile has been paused by the user and may return back to <code>$active</code> at a later date.</span></li><li><span class="sub-field">$deleted_by_user</span><span class="sub-details">The profile has been deleted or archived by the user.</span></li><li><span class="sub-field">$deleted_by_company</span><span class="sub-details">The profile has been deleted or archived by your company due to violation of terms of service or other
policies.</span></li></ul></div></li><li><div class="field">$ip</div><div class="value-details"><strong>String</strong><p>IP address of the request made by the user. Recommended for historical backfills and customers with
 with mobile apps.</p></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is used to update the profile. Represented by the <code>$browser</code> object.
 Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is used to update the profile. Represented by the <code>$app</code> object.
 Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$profile</div><div class="value-details"><strong>Object</strong><p>Contains information about the profile.</p></div></li><ul class="api-fields"><li><div class="field">$body</div><div class="value-details"><strong>String</strong><p>The text content of the profile.</p></div></li><li><div class="field">$contact_email</div><div class="value-details"><strong>String</strong><p>The email address provided with the profile for contacting the user. When no email address is
 provided for the listing, use the email address of the user account instead.</p></div></li><li><div class="field">$contact_address</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Address</span></strong><p>The physical contact address provided with the profile. When no address is provided for the profile,
 use the physical address of the user account instead.</p></div></li><li><div class="field">$images</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/image">Array of Images</span></strong><p>The list of images shared by the user with their profile. It includes images pasted inline or attached
 separately.</p></div></li><li><div class="field">$categories</div><div class="value-details"><strong>Array of Strings</strong><p>The category or categories you associate with the profile. For example, a profile on a services
 marketplace might be categorized as <code>["Photographer", "Weddings"]</code>.</p></div></li></ul><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $update_content event for profiles
{
  // Required fields
  "$type"               : "$update_content",
  "$api_key"            : "YOUR_API_KEY",
  "$user_id"            : "fyw3989sjpqr71",
  "$content_id"         : "listing-23412",

  // Recommended fields
  "$session_id"         : "a234ksjfgn435sfg",
  "$status"             : "$active",
  "$ip"                 : "255.255.255.0",

  // Required $profile object
  "$profile"            : {
    "$body"             : "Hi! My name is Alex and I just moved to New London!",
    "$contact_email"    : "alex_301@domain.com",
    "$contact_address"  : {
    "$name"             : "Alex Smith",
    "$phone"            : "1-415-555-6041",
    "$city"             : "New London",
    "$region"           : "New Hampshire",
    "$country"          : "US",
    "$zipcode"          : "03257"
  },
  "$images"             : [
    {
      "$md5_hash"           : "0cc175b9c0f1b6a831c399e269772661",
      "$link"               : "https://www.domain.com/file.png",
      "$description"        : "Alex’s picture"
    }
  ],
  "$categories"         : ["Friends", "Long-term dating"]
  },

  // Send this information from a BROWSER client.
  "$browser"        : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  // =========================================

  // Send this information from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new({api_key: "YOUR_API_KEY"})

# Sample $update_content event for profiles
profile_properties = {
  # Required fields
  '$user_id'            => 'fyw3989sjpqr71',
  '$content_id'         => 'profile-23412',

  # Recommended fields
  '$session_id'         => 'a234ksjfgn435sfg',
  '$status'             => '$active',
  '$ip'                 => '255.255.255.0',

  # Required $profile object
  '$profile'            => {
    '$body'             => 'Hi! My name is Alex and I just moved to New London!',
    '$contact_email'    => 'alex_301@domain.com',
    '$contact_address'  => {
      '$name'           => 'Alex Smith',
      '$phone'          => '1-415-555-6041',
      '$city'           => 'New London',
      '$region'         => 'New Hampshire',
      '$country'        => 'US',
      '$zipcode'        => '03257'
    },
    '$images'           => [
      {
        '$md5_hash'          => '0cc175b9c0f1b6a831c399e269772661',
        '$link'              => 'https://www.domain.com/file.png',
        '$description'       => 'Alex’s picture'
      }
    ],
    '$categories'       => [
      'Friends',
      'Long-term dating'
    ]
  },

  # Send this information from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$update_content", profile_properties)
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key="YOUR_API_KEY")

# Sample $update_content event for reviews
profile_properties = {
  # Required fields
  "$user_id"              : "fyw3989sjpqr71",
  "$content_id"           : "profile-23412",

  # Recommended fields
  "$session_id"           : "a234ksjfgn435sfg",
  "$status"               : "$active",
  "$ip"                   : "255.255.255.0",

  # Required $profile object
  "$profile"              : {
    "$body"             : "Hi! My name is Alex and I just moved to New London!",
    "$contact_email"    : "alex_301@domain.com",
    "$contact_address"  : {
      "$name"         : "Alex Smith",
      "$phone"        : "1-415-555-6041",
      "$city"         : "New London",
      "$region"       : "New Hampshire",
      "$country"      : "US",
      "$zipcode"      : "03257"
    },
    "$images"           : [
      {
        "$md5_hash"     : "0cc175b9c0f1b6a831c399e269772661",
        "$link"         : "https://www.domain.com/file.png",
        "$description"  : "Alex's picture"
      }
    ],
    "$categories"       : [
      "Friends",
      "Long-term dating"
    ]
  },

  # Send this information from a BROWSER client.
  "$browser"      : {
    "$user_agent" :  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        : {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}

response = client.track("$update_content", profile_properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$event = '$update_content';
$client = new SiftClient(array('api_key' => YOUR_API_KEY));

// Sample $update_content event for profiles
$profile_properties = array(
  // Required fields
  '$user_id'            => 'fyw3989sjpqr71',
  '$content_id'         => 'profile-23412',

  // Recommended fields
  '$session_id'         => 'a234ksjfgn435sfg',
  '$status'             => '$active',
  '$ip'                 => '255.255.255.0',

  // Required $profile object
  '$profile'            => array(
    '$body'             => 'Hi! My name is Alex and I just moved to New London!',
    '$contact_email'    => 'alex_301@domain.com',
    '$contact_address'  => array(
      '$name'           => 'Alex Smith',
      '$phone'          => '1-415-555-6041',
      '$city'           => 'New London',
      '$region'         => 'New Hampshire',
      '$country'        => 'US',
      '$zipcode'        => '03257'
    ),
    '$images'           => array(
      array(
        '$md5_hash'          => '0cc175b9c0f1b6a831c399e269772661',
        '$link'              => 'https://www.domain.com/file.png',
        '$description'       => 'Alex’s picture'
      )
    ),
    '$categories'       => array(
      'Friends',
      'Long-term dating'
    )
  ),

  // Send this information from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information an APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track($event, $profile_properties);
</pre><pre class="prettyprint lang java code-partial">import java.util.Arrays;

import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.SiftClient;
import com.siftscience.exception.SiftException;
import com.siftscience.model.Address;
import com.siftscience.model.CreateProfileFieldSet;
import com.siftscience.model.Image;
import com.siftscience.model.Profile;

SiftClient client = new SiftClient("YOUR_API_KEY");

// Sample $update_content event for profiles
EventRequest request = client.buildRequest(new CreateProfileFieldSet()
        // Required fields
        .setUserId("fyw3989sjpqr71")
        .setContentId("profile-23412")
        // Recommended fields
        .setSessionId("a234ksjfgn435sfg")
        .setStatus("$active")
        .setIp("255.255.255.0")
        // Required $profile object
        .setProfile(new Profile()
                .setBody("Hi! My name is Alex and I just moved to New London!")
                .setContactEmail("alex_301@domain.com")
                .setContactAddress(new Address()
                        .setName("Bill Jones")
                        .setPhone("1-415-555-6041")
                        .setRegion("New Hampshire")
                        .setCity("New London")
                        .setCountry("US")
                        .setZipCode("03257"))
                .setCategories(Arrays.asList("Friends", "Long-term dating"))
                .setImages(Arrays.asList(new Image()
                        .setMd5Hash("18E927C7E1229DC8F088643B7A65F978")
                        .setLink("https://www.domain.com/file.png")
                        .setDescription("An old picture")))));
        // Send this information from a BROWSER client.
        .setBrowser(new Browser()
                .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
                .setAcceptLanguage("en-US")
                .setContentLanguage("en-GB"))

        // =========================================

        // Send this information from an APP client.
        .setApp(new App()
                // Example for the iOS Calculator app.
                .setOperatingSystem("iOS")
                .setOperatingSystemVersion("10.1.3")
                .setDeviceManufacturer("Apple")
                .setDeviceModel("iPhone 4,2")
                .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
                .setAppName("Calculator")
                .setAppVersion("3.2.7")
                .setClientLanguage("en-US")));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-update-content-review"><div><h1>$update_content.review</h1><p>Use <code>$update_content</code> with a <code>$review</code> type to represent information related to a product or service review
submitted by your users.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$update_content"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's internal account ID. Users without an assigned <code>$user_id</code> will not show up in the console.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$content_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The unique ID that you assign to an individual piece of content in your system.
Note: content IDs are case sensitive and must be unique across all content types.</p></div></li><li><div class="field">$session_id</div><div class="value-details"><strong> String </strong><p>The user's current session ID, used to tie a user's action before and after login or account creation.</p></div></li><li><div class="field">$status</div><div class="value-details"><strong>String</strong><p>The status of the review. After you create a posting, you can also update its status via the
<code>$content_status</code> event.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field">$draft</span><span class="sub-details">The review has not yet been submitted by the user to go live.</span></li><li><span class="sub-field">$pending</span><span class="sub-details">The user has submitted the review but has not gone live. This may be because the review needs to be
reviewed, the user needs to add payment details, or because of some other processes within your business.</span></li><li><span class="sub-field">$active</span><span class="sub-details">The review is live and active on your site. Other users can see the review.</span></li><li><span class="sub-field">$paused</span><span class="sub-details">The review has been paused by the user and may return back to <code>$active</code> at a later date.</span></li><li><span class="sub-field">$deleted_by_user</span><span class="sub-details">The review has been deleted or archived by the user.</span></li><li><span class="sub-field">$deleted_by_company</span><span class="sub-details">The review has been deleted or archived by your company due to violation of terms of service or other
policies.</span></li></ul></div></li><li><div class="field">$ip</div><div class="value-details"><strong>String</strong><p>IP address of the request made by the user. Recommended for historical backfills and customers with
 with mobile apps.</p></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is used to update the review. Represented by the <code>$browser</code> object.
 Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is used to update the review. Represented by the <code>$app</code> object.
 Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$review</div><div class="value-details"><strong>Object</strong><p>Contains information about the review.</p></div></li><ul class="api-fields"><li><div class="field">$subject</div><div class="value-details"><strong>String</strong><p>The user-supplied title of the review.</p></div></li><li><div class="field">$body</div><div class="value-details"><strong>String</strong><p>The text content of the review.</p></div></li><li><div class="field">$contact_email</div><div class="value-details"><strong>String</strong><p>The email address provided with the review for contacting the reviewer. When no email address is
 provided for the listing, use the email address of the user account instead.</p></div></li><li><div class="field">$locations</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Array of Addresses</span></strong><p>The locations associated with the review. In the example above, the location
 of the restaurant being reviewed.
 You can pass one or more addresses that are associated with your review.
 Pass as much information as you have. Partial addresses such as just the city and state are fine if that's all you have.</p></div></li><li><div class="field">$item_reviewed</div><div class="value-details"><string><span data-href="/events-api/complex-field-types/item">Item</span></string><p>An Item object representing the item being reviewed.</p></div></li><li><div class="field">$reviewed_content_id</div><div class="value-details"><string>String</string><p>The <code>$content_id</code> of the item being reviewed. For example, this could be the id for the
 <code>$listing</code> or <code>$profile</code> being reviewed.</p></div></li><li><div class="field">$rating</div><div class="value-details"><string>Float</string><p>A numeric rating supplied by the reviewer.</p></div></li><li><div class="field">$images</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/image">Array of Images</span></strong><p>The list of images shared by the user with their review. It includes images pasted inline or attached
 separately.</p></div></li></ul><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $update_content event for reviews
{
  // Required fields
  "$type"                   : "$update_content",
  "$api_key"                : "YOUR_API_KEY",
  "$user_id"                : "fyw3989sjpqr71",
  "$content_id"             : "review-23412",

  // Recommended fields
  "$session_id"             : "a234ksjfgn435sfg",
  "$status"                 : "$active",
  "$ip"                     : "255.255.255.0",

  // Required $review object
  "$review"                 : {
    "$subject"              : "Amazing Tacos!",
    "$body"                 : "I ate the tacos.",
    "$contact_email"        : "alex_301@domain.com",
    "$locations"            : [
      {
        "$city"                 : "Seattle",
        "$region"               : "Washington",
        "$country"              : "US",
        "$zipcode"              : "98112"
      }
    ],
    "$reviewed_content_id"  : "listing-234234",
    "$images"               : [
      {
        "$md5_hash"             : "0cc175b9c0f1b6a831c399e269772661",
        "$link"                 : "https://www.domain.com/file.png",
        "$description"          : "Calamari tacos."
      }
    ],
    "$rating"               : 4.5
  },

  // Send this information from a BROWSER client.
  "$browser"        : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  // =========================================

  // Send this information from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new({api_key: "YOUR_API_KEY"})

# Sample $update_content event for reviews
review_properties = {
  # Required fields
  '$user_id' => 'fyw3989sjpqr71',
  '$content_id' => 'review-23412',

  # Recommended fields
  '$session_id'             => 'a234ksjfgn435sfg',
  '$status'                 => '$active',
  '$ip'                     => '255.255.255.0',

  # Required $review object
  '$review'                 => {
    '$subject'              => 'Amazing Tacos!',
    '$body'                 => 'I ate the tacos.',
    '$contact_email'        => 'alex_301@domain.com',
    '$locations'            => [
      {
        '$city'                  => 'Seattle',
        '$region'                => 'Washington',
        '$country'               => 'US',
        '$zipcode'               => '98112'
      }
    ],
    '$reviewed_content_id'  => 'listing-234234',
    '$images'               => [
      {
        '$md5_hash'              => '0cc175b9c0f1b6a831c399e269772661',
        '$link'                  => 'https =>//www.domain.com/file.png',
        '$description'           => 'Calamari tacos.'
      }
    ],
    '$rating'               => 4.5
  },

  # Send this information from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$update_content", review_properties)
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key="YOUR_API_KEY")

# Sample $update_content event for reviews
review_properties = {
  # Required fields
  "$user_id"                  : "fyw3989sjpqr71",
  "$content_id"               : "review-23412",

  # Recommended fields
  "$session_id"               : "a234ksjfgn435sfg",
  "$status"                   : "$active",
  "$ip"                       : "255.255.255.0",

  # Required $review object
  "$review"                   : {
    "$subject"              : "Amazing Tacos!",
    "$body"                 : "I ate the tacos.",
    "$contact_email"        : "alex_301@domain.com",
    "$locations"            : [
      {
        "$city"             : "Seattle",
        "$region"           : "Washington",
        "$country"          : "US",
        "$zipcode"          : "98112"
      }
    ],
    "$reviewed_content_id"  : "listing-234234",
    "$images"               : [
      {
        "$md5_hash"         : "0cc175b9c0f1b6a831c399e269772661",
        "$link"             : "https://www.domain.com/file.png",
        "$description"      : "Calamari tacos."
      }
    ],
    "$rating" : 4.5
  },

  # Send this information from a BROWSER client.
  "$browser"      : {
    "$user_agent" :  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        : {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}

response = client.track("$update_content", review_properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$event = '$update_content';
$client = new SiftClient(array('api_key' => YOUR_API_KEY));

// Sample $update_content event for reviews
$review_properties = array(
  // Required fields
  '$user_id'                => 'fyw3989sjpqr71',
  '$content_id'             => 'review-23412',

  // Recommended fields
  '$session_id'             => 'a234ksjfgn435sfg',
  '$status'                 => '$active',
  '$ip'                     => '255.255.255.0',

  // Required $review object
  '$review'                 => array(
    '$subject'              => 'Amazing Tacos!',
    '$body'                 => 'I ate the tacos.',
    '$contact_email'        => 'alex_301@domain.com',
    '$locations'            => array(
      array(
        '$city'                 => 'Seattle',
        '$region'               => 'Washington',
        '$country'              => 'US',
        '$zipcode'              => '98112'
      )
    ),
    '$reviewed_content_id'  => 'listing-234234',
    '$images'               => array(
      array(
        '$md5_hash'             => '0cc175b9c0f1b6a831c399e269772661',
        '$link'                 => 'https://www.domain.com/file.png',
        '$description'          => 'Calamari tacos.'
      )
    ),
    '$rating'               => 4.5
  ),

  // Send this information from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information an APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track($event, $review_properties);
</pre><pre class="prettyprint lang java code-partial">import java.util.Arrays;

import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.SiftClient;
import com.siftscience.exception.SiftException;
import com.siftscience.model.Address;
import com.siftscience.model.CreateReviewFieldSet;
import com.siftscience.model.Image;
import com.siftscience.model.Item;
import com.siftscience.model.Review;

SiftClient client = new SiftClient("YOUR_API_KEY");

// Sample $update_content event for reviews
EventRequest request = client.buildRequest(new CreateReviewFieldSet()
        // Required fields
        .setUserId("fyw3989sjpqr71")
        .setContentId("review-23412")
        // Recommended fields
        .setSessionId("a234ksjfgn435sfg")
        .setStatus("$active")
        .setIp("255.255.255.0")
        // Required $review object
        .setReview(new Review()
                .setSubject("Amazing Tacos!")
                .setBody("I ate the tacos.")
                .setContactEmail("alex_301@domain.com")
                .setLocations(Arrays.asList(new Address()
                        .setCity("Seattle")
                        .setRegion("Washington")
                        .setCountry("US")
                        .setZipCode("98112")))
                .setReviewedContentId("listing_234234")
                .setImages(Arrays.asList(new Image()
                        .setMd5Hash("18E927C7E1229DC8F088643B7A65F978")
                        .setLink("https://www.domain.com/file.png")
                        .setDescription("An old picture")))
                .setRating(4.5)));
        // Send this information from a BROWSER client.
        .setBrowser(new Browser()
                .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
                .setAcceptLanguage("en-US")
                .setContentLanguage("en-GB"))

        // =========================================

        // Send this information from an APP client.
        .setApp(new App()
                // Example for the iOS Calculator app.
                .setOperatingSystem("iOS")
                .setOperatingSystemVersion("10.1.3")
                .setDeviceManufacturer("Apple")
                .setDeviceModel("iPhone 4,2")
                .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
                .setAppName("Calculator")
                .setAppVersion("3.2.7")
                .setClientLanguage("en-US")));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-update-order"><div><h1>$update_order</h1><p>Use <code>$update_order</code> to record when a user updates an order for products or services they intend to
purchase.</p><ul><li>This event contains the same fields as <code>$create_order</code>.</li><li>The existing order will be completely replaced by the values sent in <code>$update_order</code>. Be sure to specify
all values for the order, not just those that changed.</li><li>If no matching <code>$order_id</code> found, a new order will be created.</li></ul><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$update_order"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's account ID according to your systems. Note that user IDs are <em>case sensitive</em>.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$session_id</div><div class="value-details"><strong> String </strong><p>The user's current session ID, used to tie a user's action before and after login or account creation. Required if no
<code>$user_id</code> values is provided.</p></div></li><li><div class="field">$order_id</div><div class="value-details"><strong>String</strong><p>The ID for tracking this order in your system.</p></div></li><li><div class="field">$user_email</div><div class="value-details"><strong> String</strong><p>Email of the user creating this order. Note: If the user's email is also their account ID in your
system, set <strong>both</strong> the <code>$user_id</code> and <code>$user_email</code> fields to their
email address.</p></div></li><li><div class="field">$verification_phone_number</div><div class="value-details"><strong> String</strong><p>Phone number of the user. This phone number will be used to send One-Time Password (OTP) when required.
The phone number should be in E.164 format including <code>+</code> and a country code.</p></div></li><li><div class="field">$amount</div><div class="value-details"><strong>Integer</strong><p>Total transaction amount in micros in the base unit of the <code>$currency_code</code>. 1 cent = 10,000
micros. $1.23 USD = 123 cents = 1,230,000 micros. For currencies without cents of fractional
denominations, like the Japanese Yen, use 1 JPY = 1000000 micros and 1 for 1 micro-Bitcoin.</p></div></li><li><div class="field">$currency_code</div><div class="value-details"><strong>String</strong><p><a href='http://en.wikipedia.org/wiki/ISO_4217' target='_blank'>ISO-4217</a> currency code for the amount.
If your site uses alternative currencies, specify them here.</p></div></li><li><div class="field">$billing_address</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Address</span></strong><p>The billing address as entered by the user.</p></div></li><li><div class="field">$payment_methods</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/payment-method">Array of Payment Methods</span></strong><p>The payment information associated with this order.
As opposed to <code>$transaction</code>, <code>$create_order</code> takes an array of
<code>$payment_method</code> objects, so you can record orders that are paid for using multiple payments.</p></div></li><li><div class="field">$shipping_address</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Address</span></strong><p>The shipping address as entered by the user.</p></div></li><li><div class="field">$expedited_shipping</div><div class="value-details"><strong>Boolean</strong><p>Whether the user requested priority/expedited shipping on their order.</p></div></li><li><div class="field">$items</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/item">Array of Items</span></strong><p>The list of items ordered. This may include physical products, gift cards, in-app purchases etc.
Travel (Flights, Hotels, Rideshare, etc) and Event Ticketing customers should use <code>$bookings</code> instead of <code>$items</code>.
<code>$bookings</code> supports specialized fields for modeling specific to Travel, Ticketing, and other cases
where users make bookings.
Note: cannot be used in conjunction with <code>$bookings</code> or <code>$digital_orders</code>.</p></div></li><li><div class="field">$bookings</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/booking">Array of Bookings</span></strong><p>The list of bookings made. This may include tickets and reservations like flights, hotels, rideshares etc.
Note: cannot be used in conjunction with <code>$items</code> or <code>$digital_orders</code>.</p></div></li><li><div class="field">$seller_user_id</div><div class="value-details"><strong>String</strong><p>For marketplace businesses, this is the seller's user ID, typically a database primary key.
Follow our <span data-href="/events-api/fields">guidelines</span> for <code>$user_id</code> values.</p></div></li><li><div class="field">$promotions</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/promotion">Array of Promotions</span></strong><p>The list of promotions that apply to this order. You can add one or more promotions when creating or
updating an order. You can also separately add promotions to the account via the <code>$add_promotion</code> event.</p></div></li><li><div class="field">$shipping_method</div><div class="value-details"><strong>String</strong><p>Indicates the method of delivery to the user.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li class="inline"><code>"$electronic"</code><code>"$physical"</code></li></ul></div></li><li><div class="field">$shipping_carrier</div><div class="value-details"><strong>String</strong><p>Shipping carrier for the shipment of the product.</p></div></li><li><div class="field">$shipping_tracking_number</div><div class="value-details"><em>deprecated</em><strong> &middot; String</strong><p>Shipping tracking number for the shipment of the product.</p></div></li><li><div class="field">$shipping_tracking_numbers</div><div class="value-details"><strong>Array of Strings</strong><p>Shipping tracking number(s) for the shipment of the product(s).</p></div></li><li><div class="field">$ordered_from</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/ordered-from">Ordered From</span></strong><p>The details about the specific physical location providing the good or service. This can also be used to
capture pickup, delivery locations, etc.</p></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is used to update the order. Represented by the <code>$browser</code> object.
 Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is used to update the order. Represented by the <code>$app</code> object.
 Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$merchant_profile</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/merchant-profile">Merchant Profile</span></strong><p>The details about the merchant or seller providing the goods or service.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$digital_orders</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/digital-order">Array of Digital Orders</span></strong><p>The list of digital orders made. A digital order represents a digital asset which can be part of
a cryptocurrency or digital asset transaction. Note: cannot be used in conjunction with <code>$items</code> or
<code>$bookings</code>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $update_order event
{
  // Required Fields
  "$type"             : "$update_order",
  "$api_key"          : "YOUR_API_KEY",
  "$user_id"          : "billy_jones_301",

  // Supported Fields
  "$session_id"                : "gigtleqddo84l8cm15qe4il",
  "$order_id"                  : "ORDER-28168441",
  "$user_email"                : "billjones1@example.com",
  "$verification_phone_number" : "+123456789012",
  "$amount"                    : 115940000, // $115.94
  "$currency_code"             : "USD",
  "$billing_address"  : {
      "$name"         : "Bill Jones",
      "$phone"        : "1-415-555-6041",
      "$address_1"    : "2100 Main Street",
      "$address_2"    : "Apt 3B",
      "$city"         : "New London",
      "$region"       : "New Hampshire",
      "$country"      : "US",
      "$zipcode"      : "03257"
  },
  "$payment_methods"  : [
      {
          "$payment_type"    : "$credit_card",
          "$payment_gateway" : "$braintree",
          "$card_bin"        : "542486",
          "$card_last4"      : "4444"
      }
  ],
  "$brand_name"   : "sift",
  "$site_domain"  : "sift.com",
  "$site_country" : "US",
  "$ordered_from" : {
    "$store_id"      : "123",
    "$store_address" : {
      "$name"       : "Bill Jones",
      "$phone"      : "1-415-555-6040",
      "$address_1"  : "2100 Main Street",
      "$address_2"  : "Apt 3B",
      "$city"       : "New London",
      "$region"     : "New Hampshire",
      "$country"    : "US",
      "$zipcode"    : "03257"
    }
  },
  "$shipping_address"  : {
      "$name"          : "Bill Jones",
      "$phone"         : "1-415-555-6041",
      "$address_1"     : "2100 Main Street",
      "$address_2"     : "Apt 3B",
      "$city"          : "New London",
      "$region"        : "New Hampshire",
      "$country"       : "US",
      "$zipcode"       : "03257"
  },
  "$expedited_shipping"       : true,
  "$shipping_method"          : "$physical",
  "$shipping_carrier"         : "UPS",
  "$shipping_tracking_numbers": ["1Z204E380338943508", "1Z204E380338943509"],
  "$items"                    : [
    {
      "$item_id"        : "12344321",
      "$product_title"  : "Microwavable Kettle Corn: Original Flavor",
      "$price"          : 4990000, // $4.99
      "$upc"            : "097564307560",
      "$sku"            : "03586005",
      "$brand"          : "Peters Kettle Corn",
      "$manufacturer"   : "Peters Kettle Corn",
      "$category"       : "Food and Grocery",
      "$tags"           : ["Popcorn", "Snacks", "On Sale"],
      "$quantity"       : 4
    },
    {
      "$item_id"        : "B004834GQO",
      "$product_title"  : "The Slanket Blanket-Texas Tea",
      "$price"          : 39990000, // $39.99
      "$upc"            : "6786211451001",
      "$sku"            : "004834GQ",
      "$brand"          : "Slanket",
      "$manufacturer"   : "Slanket",
      "$category"       : "Blankets & Throws",
      "$tags"           : ["Awesome", "Wintertime specials"],
      "$color"          : "Texas Tea",
      "$quantity"       : 2
    }
  ],

  // For marketplaces, use $seller_user_id to identify the seller
  "$seller_user_id"     : "slinkys_emporium",

  "$promotions"         : [
    {
      "$promotion_id" : "FirstTimeBuyer",
      "$status"       : "$success",
      "$description"  : "$5 off",
      "$discount"     : {
        "$amount"                   : 5000000,  // $5.00
        "$currency_code"            : "USD",
        "$minimum_purchase_amount"  : 25000000  // $25.00
      }
    }
  ],

  // Sample Custom Fields
  "digital_wallet"      : "apple_pay", // "google_wallet", etc.
  "coupon_code"         : "dollarMadness",
  "shipping_choice"     : "FedEx Ground Courier",
  "is_first_time_buyer" : false,

  // Send this information from a BROWSER client.
  "$browser"        : {
    "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  // =========================================

  // Send this information from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client("YOUR_API_KEY")

# Sample $update_order event
properties = {
  # Required Fields
  "$user_id"          : "billy_jones_301",
  # Supported Fields
  "$session_id"                : "gigtleqddo84l8cm15qe4il",
  "$order_id"                  : "ORDER-28168441",
  "$user_email"                : "billjones1@example.com",
  "$verification_phone_number" : "+123456789012",
  "$amount"           : 115940000, # $115.94
  "$currency_code"    : "USD",
  "$billing_address"  : {
      "$name"         : "Bill Jones",
      "$phone"        : "1-415-555-6041",
      "$address_1"    : "2100 Main Street",
      "$address_2"    : "Apt 3B",
      "$city"         : "New London",
      "$region"       : "New Hampshire",
      "$country"      : "US",
      "$zipcode"      : "03257"
  },
  "$payment_methods"  : [
      {
          "$payment_type"    : "$credit_card",
          "$payment_gateway" : "$braintree",
          "$card_bin"        : "542486",
          "$card_last4"      : "4444"
      }
  ],
  "$brand_name"   : "sift",
  "$site_domain"  : "sift.com",
  "$site_country" : "US",
  "$ordered_from" : {
    "$store_id"      : "123",
    "$store_address" : {
      "$name"       : "Bill Jones",
      "$phone"      : "1-415-555-6040",
      "$address_1"  : "2100 Main Street",
      "$address_2"  : "Apt 3B",
      "$city"       : "New London",
      "$region"     : "New Hampshire",
      "$country"    : "US",
      "$zipcode"    : "03257"
    }
  },
  "$shipping_address"  : {
      "$name"          : "Bill Jones",
      "$phone"         : "1-415-555-6041",
      "$address_1"     : "2100 Main Street",
      "$address_2"     : "Apt 3B",
      "$city"          : "New London",
      "$region"        : "New Hampshire",
      "$country"       : "US",
      "$zipcode"       : "03257"
  },
  "$expedited_shipping"       : True,
  "$shipping_method"          : "$physical",
  "$shipping_carrier"         : "UPS",
  "$shipping_tracking_numbers": ["1Z204E380338943508", "1Z204E380338943509"],
  "$items"                    : [
    {
      "$item_id"        : "12344321",
      "$product_title"  : "Microwavable Kettle Corn: Original Flavor",
      "$price"          : 4990000, # $4.99
      "$upc"            : "097564307560",
      "$sku"            : "03586005",
      "$brand"          : "Peters Kettle Corn",
      "$manufacturer"   : "Peters Kettle Corn",
      "$category"       : "Food and Grocery",
      "$tags"           : ["Popcorn", "Snacks", "On Sale"],
      "$quantity"       : 4
    },
    {
      "$item_id"        : "B004834GQO",
      "$product_title"  : "The Slanket Blanket-Texas Tea",
      "$price"          : 39990000, # $39.99
      "$upc"            : "6786211451001",
      "$sku"            : "004834GQ",
      "$brand"          : "Slanket",
      "$manufacturer"   : "Slanket",
      "$category"       : "Blankets & Throws",
      "$tags"           : ["Awesome", "Wintertime specials"],
      "$color"          : "Texas Tea",
      "$quantity"       : 2
    }
  ],
  # For marketplaces, use $seller_user_id to identify the seller
  "$seller_user_id"     : "slinkys_emporium",

  "$promotions"         : [
    {
      "$promotion_id" : "FirstTimeBuyer",
      "$status"       : "$success",
      "$description"  : "$5 off",
      "$discount"     : {
        "$amount"                   : 5000000,  # $5.00
        "$currency_code"            : "USD",
        "$minimum_purchase_amount"  : 25000000  # $25.00
      }
    }
  ],

  # Sample Custom Fields
  "digital_wallet"      : "apple_pay", # "google_wallet", etc.
  "coupon_code"         : "dollarMadness",
  "shipping_choice"     : "FedEx Ground Courier",
  "is_first_time_buyer" : False,

  # Send this information from a BROWSER client.
  "$browser"      : {
    "$user_agent" :  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        : {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}

response = client.track("$update_order", properties)
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(:api_key => "YOUR_API_KEY")

# Sample $update_order event
properties = {
  # Required Fields
  "$user_id"          => "billy_jones_301",
  # Supported Fields
  "$session_id"       => "gigtleqddo84l8cm15qe4il",
  "$order_id"         => "ORDER-28168441",
  "$user_email"       => "billjones1@example.com",
  "$amount"           => 115940000, # $115.94
  "$currency_code"    => "USD",
  "$billing_address"  => {
    "$name"         => "Bill Jones",
    "$phone"        => "1-415-555-6041",
    "$address_1"    => "2100 Main Street",
    "$address_2"    => "Apt 3B",
    "$city"         => "New London",
    "$region"       => "New Hampshire",
    "$country"      => "US",
    "$zipcode"      => "03257"
  },
  "$payment_methods"  => [
    {
      "$payment_type"    => "$credit_card",
      "$payment_gateway" => "$braintree",
      "$card_bin"        => "542486",
      "$card_last4"      => "4444"
    }
  ],
  "$brand_name"   => "sift",
  "$site_domain"  => "sift.com",
  "$site_country" => "US",
  "$ordered_from" => {
    "$store_id"      => "123",
    "$store_address" => {
      "$name"       => "Bill Jones",
      "$phone"      => "1-415-555-6040",
      "$address_1"  => "2100 Main Street",
      "$address_2"  => "Apt 3B",
      "$city"       => "New London",
      "$region"     => "New Hampshire",
      "$country"    => "US",
      "$zipcode"    => "03257"
    }
  },
  "$shipping_address"  => {
    "$name"          => "Bill Jones",
    "$phone"         => "1-415-555-6041",
    "$address_1"     => "2100 Main Street",
    "$address_2"     => "Apt 3B",
    "$city"          => "New London",
    "$region"        => "New Hampshire",
    "$country"       => "US",
    "$zipcode"       => "03257"
  },
  "$expedited_shipping"       => true,
  "$shipping_method"          => "$physical",
  "$shipping_carrier"         => "UPS",
  "$shipping_tracking_numbers"=> ["1Z204E380338943508", "1Z204E380338943509"],
  "$items"                    => [
    {
      "$item_id"        => "12344321",
      "$product_title"  => "Microwavable Kettle Corn: Original Flavor",
      "$price"          => 4990000, # $4.99
      "$upc"            => "097564307560",
      "$sku"            => "03586005",
      "$brand"          => "Peters Kettle Corn",
      "$manufacturer"   => "Peters Kettle Corn",
      "$category"       => "Food and Grocery",
      "$tags"           => ["Popcorn", "Snacks", "On Sale"],
      "$quantity"       => 4
    },
    {
      "$item_id"        => "B004834GQO",
      "$product_title"  => "The Slanket Blanket-Texas Tea",
      "$price"          => 39990000, # $39.99
      "$upc"            => "6786211451001",
      "$sku"            => "004834GQ",
      "$brand"          => "Slanket",
      "$manufacturer"   => "Slanket",
      "$category"       => "Blankets & Throws",
      "$tags"           => ["Awesome", "Wintertime specials"],
      "$color"          => "Texas Tea",
      "$quantity"       => 2
    }
  ],
  # For marketplaces, use $seller_user_id to identify the seller
  "$seller_user_id"     => "slinkys_emporium",

  "$promotions"         => [
    {
      "$promotion_id" => "FirstTimeBuyer",
      "$status"       => "$success",
      "$description"  => "$5 off",
      "$discount"     => {
        "$amount"                   => 5000000,  # $5.00
        "$currency_code"            => "USD",
        "$minimum_purchase_amount"  => 25000000  # $25.00
      }
    }
  ],

  # Sample Custom Fields
  "digital_wallet"      => "apple_pay", # "google_wallet", etc.
  "coupon_code"         => "dollarMadness",
  "shipping_choice"     => "FedEx Ground Courier",
  "is_first_time_buyer" => false,

  # Send this information from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$update_order", properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

// Sample $update_order event
$properties = array(
  // Required Fields
  '$user_id'          => 'billy_jones_301',
  // Supported Fields
  '$session_id'       => 'gigtleqddo84l8cm15qe4il',
  '$order_id'         => 'ORDER-28168441',
  '$user_email'       => 'bill@gmail.com',
  '$amount'           => 115940000, // $115.94
  '$currency_code'    => 'USD',
  '$billing_address'  => array(
    '$name'         => 'Bill Jones',
    '$phone'        => '1-415-555-6041',
    '$address_1'    => '2100 Main Street',
    '$address_2'    => 'Apt 3B',
    '$city'         => 'New London',
    '$region'       => 'New Hampshire',
    '$country'      => 'US',
    '$zipcode'      => '03257'
  ),
  '$payment_methods'  =>array(
    array(
      '$payment_type'    => '$credit_card',
      '$payment_gateway' => '$braintree',
      '$card_bin'        => '542486',
      '$card_last4'      => '4444'
    )
  ),
  '$brand_name'   => 'sift',
  '$site_domain'  => 'sift.com',
  '$site_country' => 'US',
  $ordered_from = array(
    '$store_id'      => '123',
    '$store_address' => array(
      '$name'       => 'Bill Jones',
      '$phone'      => '1-415-555-6040',
      '$address_1'  => '2100 Main Street',
      '$address_2'  => 'Apt 3B',
      '$city'       => 'New London',
      '$region'     => 'New Hampshire',
      '$country'    => 'US',
      '$zipcode'    => '03257'
    )
  ),
  '$shipping_address'  => array(
    '$name'          => 'Bill Jones',
    '$phone'         => '1-415-555-6041',
    '$address_1'     => '2100 Main Street',
    '$address_2'     => 'Apt 3B',
    '$city'          => 'New London',
    '$region'        => 'New Hampshire',
    '$country'       => 'US',
    '$zipcode'       => '03257'
  ),
  '$expedited_shipping'       => True,
  '$shipping_method'          => '$physical',
  '$shipping_carrier'         => 'UPS',
  '$shipping_tracking_numbers'=> array('1Z204E380338943508', '1Z204E380338943509'),
  '$items'                    => array(
    // A list of items
    array(
      '$item_id'        => '12344321',
      '$product_title'  => 'Microwavable Kettle Corn: Original Flavor',
      '$price'          => 4990000, // $4.99
      '$upc'            => '097564307560',
      '$sku'            => '03586005',
      '$brand'          => 'Peters Kettle Corn',
      '$manufacturer'   => 'Peters Kettle Corn',
      '$category'       => 'Food and Grocery',
      '$tags'           => array('Popcorn', 'Snacks', 'On Sale'),
      '$quantity'       => 4
    ),
    array(
      '$item_id'        => 'B004834GQO',
      '$product_title'  => 'The Slanket Blanket-Texas Tea',
      '$price'          => 39990000, // $39.99
      '$upc'            => '6786211451001',
      '$sku'            => '004834GQ',
      '$brand'          => 'Slanket',
      '$manufacturer'   => 'Slanket',
      '$category'       => 'Blankets & Throws',
      '$tags'           => array('Awesome', 'Wintertime specials'),
      '$color'          => 'Texas Tea',
      '$quantity'       => 2
    )
  ),
  // For marketplaces, use $seller_user_id to identify the seller
  '$seller_user_id'     => 'slinkys_emporium',

  '$promotions'         => array(
    array(
      '$promotion_id' => 'FirstTimeBuyer',
      '$status'       => '$success',
      '$description'  => '$5 off',
      '$discount'     => array(
        '$amount'                   => 5000000,  // $5.00
        '$currency_code'            => 'USD',
        '$minimum_purchase_amount'  => 25000000  // $25.00
      )
    )
  ),

  // Sample Custom Fields
  'digital_wallet'      => 'apple_pay' // 'google_wallet', etc.
  'coupon_code'         => 'dollarMadness',
  'shipping_choice'     => 'FedEx Ground Courier',
  'is_first_time_buyer' => False,

  // Send this information from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information an APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track('$update_order', $properties);
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.EventRequest;
import com.siftscience.model.UpdateOrderFieldSet;
import com.siftscience.model.Address;
import com.siftscience.model.Item;
import com.siftscience.model.Discount;
import com.siftscience.model.Promotion;
import com.siftscience.model.PaymentMethod;

SiftClient client = new SiftClient("YOUR_API_KEY");
EventRequest request = client.buildRequest(new UpdateOrderFieldSet()
        // Required Fields
        .setUserId("billy_jones_301")
        // Supported Fields
        .setSessionId("gigtleqddo84l8cm15qe4il")
        .setOrderId("ORDER-28168441")
        .setUserEmail("billjones1@example.com")
        .setAmount(115940000L)
        .setCurrencyCode("USD")
        .setBillingAddress(new Address()
                .setName("Bill Jones")
                .setPhone("1-415-555-6041")
                .setAddress1("2100 Main Street")
                .setAddress2("Apt 3B")
                .setCity("New London")
                .setRegion("New Hampshire")
                .setCountry("US")
                .setZipCode("03257"))
        .setPaymentMethods(Arrays.asList(new PaymentMethod()
                .setPaymentType("$credit_card")
                .setPaymentGateway("$braintree")
                .setCardBin("542486")
                .setCardLast4("4444")))
        .setBrandName("sift")
        .setSiteDomain("sift.com")
        .setSiteCountry("US")
        .setOrderedFrom(new OrderedFrom()
                .setStoreId("123")
                .setStoreAddress(new Address()
                        .setName("New London Stop")
                        .setAddress1("2100 Main Street")
                        .setCity("New London")
                        .setRegion("New Hampshire")
                        .setCountry("US")
                        .setZipCode("03257"))
        .setShippingAddress(new Address()
                .setName("Bill Jones")
                .setPhone("1-415-555-6041")
                .setAddress1("2100 Main Street")
                .setAddress2("Apt 3B")
                .setCity("New London")
                .setRegion("New Hampshire")
                .setCountry("US")
                .setZipCode("03257"))
        .setExpeditedShipping(true)
        .setShippingMethod("$physical")
        .setShippingCarrier("UPS")
        .setShippingTrackingNumbers(Arrays.asList("1Z204E380338943508", "1Z204E380338943509"))
        .setItems(Arrays.asList(
                new Item()
                        .setItemId("12344321")
                        .setProductTitle("Microwavable Kettle Corn: Original Flavor")
                        .setPrice(4990000L)
                        .setUpc("097564307560")
                        .setSku("03586005")
                        .setBrand("Peters Kettle Corn")
                        .setManufacturer("Peters Kettle Corn")
                        .setCategory("Food and Grocery")
                        .setTags(Arrays.asList("Popcorn", "Snacks", "On Sale"))
                        .setQuantity(4L),
                new Item()
                        .setItemId("B004834GQO")
                        .setProductTitle("The Slanket Blanket-Texas Tea")
                        .setPrice(39990000L)
                        .setUpc("6786211451001")
                        .setSku("004834GQ")
                        .setBrand("Slanket")
                        .setManufacturer("Slanket")
                        .setCategory("Blankets & Throws")
                        .setTags(Arrays.asList("Awesome", "Wintertime specials"))
                        .setQuantity(2L)))
        .setSellerUserId("slinkys_emporium")
        .setPromotions(Arrays.asList(new Promotion()
                .setPromotionId("FirstTimeBuyer")
                .setStatus("$success")
                .setDescription("$5 off")
                .setDiscount(new Discount()
                        .setAmount(5000000L)
                        .setCurrencyCode("USD")
                        .setMinimumPurchaseAmount(25000000L))))
        // Sample Custom Fields
        .setCustomField("digital_wallet", "apple_pay")
        .setCustomField("coupon_code", "dollarMadness")
        .setCustomField("shipping_choice", "Fedex Ground Courier")
        .setCustomField("is_first_time_buyer", false));
        // Send this information from a BROWSER client.
        .setBrowser(new Browser()
                .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
                .setAcceptLanguage("en-US")
                .setContentLanguage("en-GB"))

        // =========================================

        // Send this information from an APP client.
        .setApp(new App()
                // Example for the iOS Calculator app.
                .setOperatingSystem("iOS")
                .setOperatingSystemVersion("10.1.3")
                .setDeviceManufacturer("Apple")
                .setDeviceModel("iPhone 4,2")
                .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
                .setAppName("Calculator")
                .setAppVersion("3.2.7")
                .setClientLanguage("en-US")));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-update-password"><div><h1>$update_password</h1><p>Use <code>$update_password</code> to record all password changes, whether initiated by the user or the service.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$update_password"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em> required </em><strong> &middot; String</strong><p>The user's account ID according to your systems. Note that user IDs are <em>case sensitive</em>.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$reason</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The reason the password was updated or an update was attempted. The process may trigger a <code>verification</code> (with <code>$verified_event = $update_password</code>).</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field">$user_update</span><span class="sub-details">The user updates the password on their own while logged into the account. The update can be motivated by, e.g., desire to use a stronger password from a password manager or because the password expired after 90 days.</span></li><li><span class="sub-field">$forgot_password</span><span class="sub-details">The user forgot the password and initiates a self-service process to create a new password. The old password becomes invalid only once the process is complete (<code>$status</code> is <code>$success</code>).</span></li><li><span class="sub-field">$forced_reset</span><span class="sub-details">The service provider reset the password following suspicious account behavior or a support ticket. The old password becomes invalid once the process is initiated (<code>$status</code> is <code>$pending</code>).</span></li></ul></div></li><li><div class="field">$status</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The status of the password update event.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field">$pending</span><span class="sub-details">Password change initiated, waiting for user to act.</span></li><li><span class="sub-field">$success</span><span class="sub-details">New password was set. This is the only status needed for password updates from within the account (<code>$reason</code> is <code>$user_update</code>).</span></li><li><span class="sub-field">$failure</span><span class="sub-details">User clicks an expired password link.</span></li></ul></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is used to update the password. Represented by the <code>$browser</code> object.
 Use this field if the client is a browser. Note: cannot be used in conjunction with <code>$app</code>.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is used to update the password. Represented by the <code>$app</code> object.
 Use this field if the client is an app. Note: cannot be used in conjunction with <code>$browser</code>.</p></div></li><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$user_email</div><div class="value-details"><strong> String</strong><p>Email of the user logging in. Note: If the user's email is also their account ID in your
system, set <strong>both</strong> the <code>$user_id</code> and <code>$user_email</code> fields to their
email address.</p></div></li><li><div class="field">$verification_phone_number</div><div class="value-details"><strong> String</strong><p>Phone number of the user. This phone number will be used to send One-Time Password (OTP) when required.
The phone number should be in E.164 format including <code>+</code> and a country code.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $update_password event
{
  // Required Fields
  "$type"              : "$update_password",
  "$api_key"           : "YOUR_API_KEY",
  "$user_id"           : "billy_jones_301",
  "$session_id"        : "gigtleqddo84l8cm15qe4il",
  "$status"            : "$success",
  "$reason"            : "$forced_reset",
  "$ip"                : "128.148.1.135",    // IP of the user that entered the new password after the old password was reset

  // Supported Fields
  "$user_email"                : "billjones1@example.com",
  "$verification_phone_number" : "+123456789012",

  // Send this information with a login from a BROWSER client.
  "$browser"        : {
   "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
   "$accept_language"  : "en-US",
   "$content_language" : "en-GB"
  },
  // =========================================


  // Send this information with a login from an APP client.
  "$app"        : {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client("YOUR_API_KEY")

# Sample $update_password event
properties = {
  # Required Fields
  "$user_id"       : "billy_jones_301",
  "$session_id"    : "gigtleqddo84l8cm15qe4il",
  "$status"        : "$success",
  "$reason"        : "$forced_reset",
  "$ip"            : "128.148.1.135",     // IP of the user that entered the new password after the old password was reset

  # Send this information from a BROWSER client.
  "$browser"      : {
    "$user_agent" :  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  : "en-US",
    "$content_language" : "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        : {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-US"
  }
}

response = client.track("$update_password", properties)
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(:api_key => "YOUR_API_KEY")

# Sample $update_password event
properties = {
  # Required Fields
  "$user_id"    => "billy_jones_301",
  "$session_id" => "gigtleqddo84l8cm15qe4il",
  "$status"     => "$success",
  "$reason"     => "$forced_reset",
  "$ip"         => "128.148.1.135",     // IP of the user that entered the new password after the old password was reset

  # Send this information from a BROWSER client.
  "$browser"    => {
    "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
    "$accept_language"  => "en-US",
    "$content_language" => "en-GB"
  },

  # =========================================

  # Send this information from an APP client.
  "$app"        => {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language"     => "en-US"
  }
}

response = client.track("$update_password", properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

// Sample $update_password event
$properties = array(
  // Required Fields
  '$user_id'   => 'billy_jones_301',
  '$session_id' => 'gigtleqddo84l8cm15qe4il',
  '$status'     => '$success',
  '$reason'     => '$forced_reset',
  '$ip'         => '128.148.1.135',     // IP of the user that entered the new password after the old password was reset

  // Send this information from a BROWSER client.
  '$browser'    => array(
    '$user_agent'       =>  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    '$accept_language'  => 'en-US',
    '$content_language' => 'en-GB'
  ),

  // =========================================

  // Send this information an APP client.
  '$app'        => array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-US'
  )
);

$response = $client->track('$update_password', $properties);
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.model.UpdatePasswordFieldSet;

// Sample $update_password event
SiftClient client = new SiftClient("YOUR_API_KEY");
EventRequest request = client.buildRequest(new UpdatePasswordFieldSet()
        // Required Fields
        .setUserId("billy_jones_301")
        .setSessionId("gigtleqddo84l8cm15qe4il")
        .setStatus("$success")
        .setReason("$forced_reset")
        .setIp("128.148.1.135") // IP of the user that entered the new password after the old password was reset

        // Send this information from a BROWSER client.
        .setBrowser(new Browser()
                .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
                .setAcceptLanguage("en-US")
                .setContentLanguage("en-GB"))

        // =========================================

        // Send this information from an APP client.
        .setApp(new App()
                // Example for the iOS Calculator app.
                .setOperatingSystem("iOS")
                .setOperatingSystemVersion("10.1.3")
                .setDeviceManufacturer("Apple")
                .setDeviceModel("iPhone 4,2")
                .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
                .setAppName("Calculator")
                .setAppVersion("3.2.7")
                .setClientLanguage("en-US")));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true
</pre></div></div></div><div class="docs-partial events-api-reserved-events-verification"><div><h1>$verification</h1><p>When a user attempts a high-value activity (e.g., login, view or change account 
information) that you deem risky, you may decide to verify whether the user is who 
they say they are. This is typically done by asking the user to enter a one-time passcode
that is sent to their email, phone, or app. Other supported methods are detailed below. 
Sift models this interaction with the <code>$verification</code> event.</p><ul class="api-fields"><li><div class="field">$type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>"$verification"</code></p></div></li><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's account ID according to your systems. Note that user IDs are <em>case sensitive</em>.
Find valid <code>$user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li><li><div class="field">$session_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The user's current session ID, used to tie a user's action before and after log in or account creation.</p></div></li><li><div class="field">$status</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The status of the verification event.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field">$pending</span><span class="sub-details">Verification has been sent to your customer but the customer has not attempted to perform the verification attempt.</span></li><li><span class="sub-field">$success</span><span class="sub-details">Your customer has attempted and passed the verification process.</span></li><li><span class="sub-field">$failure</span><span class="sub-details">Your customer has attempted and failed the verification process.</span></li></ul></div></li><li><div class="field">$browser</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/browser'>Browser</span></strong><p>The user agent of the browser that is verifying. Represented by the $browser object. Use this field if the client is a browser. Note: cannot be used in conjunction with $app.</p></div></li><li><div class="field">$app</div><div class="value-details"><strong><span data-href='/events-api/complex-field-types/app'>App</span></strong><p>The details of the app, os, and device that is verifying. Represented by the $app object. Use this field if the client is an app. Note: cannot be used in conjunction with $browser.</p></div></li><li><div class="field">$verified_event</div><div class="value-details"><strong>String</strong><p>The type of the reserved event being verified, e.g., <code>$login</code>, <code>$create_account</code>, <code>$update_account</code>, <code>$update_password</code>, <code>$create_content</code>,</p><code>$create_order</code>, <code>$transaction</code>, <code>$update_content</code>, <code>$update_order</code></div></li><li><div class="field">$verified_entity_id</div><div class="value-details"><strong>String</strong><p>The ID of the entity impacted by the event being verified, e.g.,</p><ul class="enum-descriptions"><li><span class="sub-field">Session ID</span><span class="sub-details"><p>for <code>$login</code></p></span></li><li><span class="sub-field">Order ID</span><span class="sub-details"><p>for <code>$create_order</code></p></span></li><li><span class="sub-field">Content ID</span><span class="sub-details"><p>for <code>$create_content</code></p></span></li><li><span class="sub-field">No ID needed</span><span class="sub-details"><p>for <code>$create_account</code>, <code>$update_account</code>, or <code>$update_password</code></p></span></li></ul></div></li><li><div class="field">$verification_type</div><div class="value-details"><strong>String</strong><p>The type of verification being performed.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field">$sms</span><span class="sub-details">An SMS is sent to the user's phone containing a code, URL or other process to authenticate the user.</span></li><li><span class="sub-field">$phone_call</span><span class="sub-details">A phone call is made to the user's phone containing a code or other process to authenticate the user.</span></li><li><span class="sub-field">$email</span><span class="sub-details">An email is sent to the user's email address containing a code, URL or other process to authenticate the user.</span></li><li><span class="sub-field">$app_tfa</span><span class="sub-details">A passcode is generated for the user via an application.</span></li><li><span class="sub-field">$captcha</span><span class="sub-details">A captcha is used to detect and stop possible automated or scripted activity (e.g. bots).</span></li><li><span class="sub-field">$shared_knowledge</span><span class="sub-details">A shared secret (e.g., former address, mother’s maiden name, photo) is used to authenticate the user.</span></li><li><span class="sub-field">$face</span><span class="sub-details">A selfie processed via face recognition algorithms is used to authenticate the user.</span></li><li><span class="sub-field">$fingerprint</span><span class="sub-details">A fingerprint is used to authenticate the user.</span></li><li><span class="sub-field">$push</span><span class="sub-details">A notification is sent to a known device, and the user needs to approve it to authenticate.</span></li><li><span class="sub-field">$security_key</span><span class="sub-details">A hardware token (e.g., USB stick) is used to authenticate the user.</span></li></ul></div></li><li><div class="field">$verified_value</div><div class="value-details"><strong>String</strong><p>The phone number (e.g. 14155551212, 442072193000), email address (e.g. bob@example.com) or the question (e.g., "what is your mother's maiden name?") used for verification. Do NOT send the answer to the security question!
This value should be passed when the <code>$verification_type</code> is set to <code>$sms</code>, <code>$phone_call</code>, <code>$email</code> or <code>$shared_knowledge</code>.</p></div></li><li><div class="field">$reason</div><div class="value-details"><strong>String</strong><p>The trigger for the verification</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field">$user_setting</span><span class="sub-details">The user opted to require a verification with every login.</span></li><li><span class="sub-field">$manual_review</span><span class="sub-details">A representative of the service provider (e.g., analyst, security engineer) forced a verification (e.g., upon noticing a suspicious behavior on the account).</span></li><li><span class="sub-field">$automated_rule</span><span class="sub-details">Input from Sift score, workflows or another system (in-house or third-party) triggered the verification.</span></li></ul></div><li><div class="field">$brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service being purchased.</p></div></li><li><div class="field">$site_country</div><div class="value-details"><strong>String</strong><p>Country the company is providing service from.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code.</p></div></li><li><div class="field">$site_domain</div><div class="value-details"><strong>String</strong><p>Domain being interfaced with.
Use <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a>.</p></div></li><li><div class="field">$keyless_user_id</div><div class="value-details"><strong> String</strong><p>The Keyless user ID according to your Keyless SDK.
Find valid <code>$keyless_user_id</code> values <span data-href="/events-api/fields">here</span>.</p></div></li></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Sample $verification event
{
  // Required Fields
  "$type"               : "$verification",
  "$api_key"            : "YOUR_API_KEY",
  "$user_id"            : "billy_jones_301",
  "$session_id"         : "gigtleqddo84l8cm15qe4il",
  "$status"             : "$pending",

  // Optional fields if applicable
  "$verified_event"     : "$login",
  "$reason"            : "$automated_rule", // Verification was triggered based on risk score
  "$verification_type" : "$sms",
  "$verified_value"    : "14155551212"
}
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client("YOUR_API_KEY")

# Sample $verification event
properties = {
  # Required Fields
  "$type"               : "$verification",
  "$api_key"            : "YOUR_API_KEY",
  "$user_id"            : "billy_jones_301",
  "$session_id"         : "gigtleqddo84l8cm15qe4il",
  "$status"             : "$pending",

  # Optional fields if applicable
  "$verified_event"     : "$login",
  "$reason"            : "$automated_rule", // Verification was triggered based on risk score
  "$verification_type" : "$sms",
  "$verified_value"    : "14155551212"
}

response = client.track("$verification", properties)
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(:api_key => "YOUR_API_KEY")

# Sample $verification event
properties = {
  # Required Fields
  "$type"               => "$verification",
  "$api_key"            => "YOUR_API_KEY",
  "$user_id"            => "billy_jones_301",
  "$session_id"         => "gigtleqddo84l8cm15qe4il",
  "$status"             => "$pending",

  # Optional fields if applicable
  "$verified_event"     => "$login",
  "$reason"             => "$automated_rule", // Verification was triggered based on risk score
  "$verification_type"  => "$sms",
  "$verified_value"     => "14155551212"
}

response = client.track("$verification"$automated_rule"YOUR_API_KEY");
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

// Sample $verification event
properties = array(
  // Required Fields
  '$type'               => '$verification',
  '$api_key'            => 'YOUR_API_KEY',
  '$user_id'            => 'billy_jones_301',
  '$session_id'         => 'gigtleqddo84l8cm15qe4il',
  '$status'             => '$pending',

  // Optional fields if applicable
  '$verified_event'     => '$login',
  '$reason'             => '$automated_rule', // Verification was triggered based on risk score
  '$verification_type'  => '$sms',
  '$verified_value'     => '14155551212'
);

$response = $client->track('$verification', $properties);
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.model.VerificationFieldSet;

// Sample $verification event
SiftClient client = new SiftClient("YOUR_API_KEY");
EventRequest request = client.buildRequest(new VerificationFieldSet()
        // Required Fields
        .setUserId("billy_jones_301")
        .setSessionId("gigtleqddo84l8cm15qe4il")
        .setStatus("$pending")

        // Optional fields if applicable
        .setVerifiedEvent("$login")
        .setReason("$automated_rule")
        .setVerificationType("$sms")
        .setVerifiedValue("14155551212"));

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true</pre></div></div></div><div class="docs-partial events-api-fields"><h1>Reserved Fields</h1><p>Reserved fields are fields that begin with a <code>$</code>. These are fields that, due to sending in 
a consistent format across customers, we do lots of analysis on. We also share learning across 
our global network for these fields, giving you a big added benefit. </p><p> <strong>Note:</strong> When you don't have a value for a given field, send the value as <code>null, nil, None</code>, 
etc, or omit the field altogether.</p><h2>Required</h2><p>The following reserved fields are required in every event.<ul class="api-fields"><li><a class="page-anchor" name="field-type-api-key"></a><div class="field">$api_key</div><div class="value-details"><strong>String</strong><p>Your Sift REST API key.</p></div></li><li><div class="field">$user_id</div><div class="value-details"><strong>String</strong><p>The user&rsquo;s internal account ID. This field is required on all events performed by the user while
logged in. Users without an assigned <code>$user_id</code> will not show up in the console. Note: User IDs
are <em>case sensitive</em>. You may need to normalize the capitalization of your user IDs. Only the following 
characters may be used:<code>a-z,A-Z,0-9,=, ., -, _, +, @, :, &, ^, %, !, $</code></p></div></li><li><div class="field">$session_id</div><div class="value-details"><em>required iF no User ID provided</em> &middot; <strong>String</strong><p>The user's current session ID, used to tie a user's action before and after log in or account creation.</p></div></li><li><a class="page-anchor" name="field-type-type"></a><div class="field">$type</div><div class="value-details"><strong>String</strong><p>The name of the event, for example <code>$create_order</code>.</p></div></li></ul></p><h2>Optional</h2><p> Each reserved event lists additional reserved fields that add accuracy to your fraud predictions. Send as 
many as you can. In addition to the reserved fields listed with each event, the following reserved fields 
can be sent in any event, including custom events.<ul class="api-fields"><li><a class="page-anchor" name="field-type-ip"></a><div class="field">$ip</div><div class="value-details"><strong>String</strong><p>IP address of the request made by the user. Recommended for historical backfills and customers with mobile apps.</p></div></li><li><a class="page-anchor" name="field-type-time"></a><div class="field">$time</div><div class="value-details"><strong>Integer</strong><p>Represents the time the event occurred in your system. Send as a UNIX timestamp in milliseconds as shown in the 
<a href="/resources/tutorials/sending-historical-data">historical backfill tutorial</a>.</p></div></li><li><a class="page-anchor" name="field-type-time"></a><div class="field">$keyless_user_id</div><div class="value-details"><strong>String</strong><p>The Keyless user id is provided by the Keyless SDK. This ID is used to communicate to the Keyless system for Keyless Workflow authentications.</p></div></li></ul></p></div><div class="docs-partial events-api-complex-field-types-address"><div><h1>Address</h1><p><The <strong>Address</strong> field type represents a physical address, such as a billing or
shipping address for eCommerce or sent and received address for remittance. The value must be a nested
object with the appropriate address subfields. We extract many geolocation features from these values.
An <code>address</code> is represented as a nested JSON object.</p><p><strong>Fields of this type</strong>: <code>$arrival_address</code>, <code>$billing_address</code>, <code>$departure_address</code>, <code>$location</code>, <code>$sent_address</code>, <code>$received_address</code>, and <code>$shipping_address</code></p><p>The values for a <code>$sent_address</code> or <code>$received_address</code> should only be sent with <code>$transaction</code> event.
These values should be used in relation to the new transaction types <code>buy</code>/<code>sell</code>/<code>send</code>/<code>receive</code>.</p><ul class="api-fields"><li><div class="field">$name</div><div class="value-details"><strong>String</strong><p>Provide the full name associated with the address here. Concatenate first name and last name together if you collect them separately in your system.</p></div></li><li><div class="field">$address_1</div><div class="value-details"><strong>String</strong><p>Address first line, <em>e.g.</em>, "2100 Main Street".</p></div></li><li><div class="field">$address_2</div><div class="value-details"><strong>String</strong><p>Address second line, <em>e.g.</em>, "Apt 3B".</p></div></li><li><div class="field">$city</div><div class="value-details"><strong>String</strong><p>The city or town name.</p></div></li><li><div class="field">$region</div><div class="value-details"><strong>String</strong><p>The region portion of the address. In the USA, this corresponds to the state.</p></div></li><li><div class="field">$country</div><div class="value-details"><strong>String</strong><p>The <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> country code for the address.</p></div></li><li><div class="field">$zipcode</div><div class="value-details"><strong>String</strong><p>The postal code associated with the address, <em>e.g.</em>, "90210". Send +4 postal codes with a '-',
e.g. "90210-3344"</p></div></li><li><div class="field">$phone</div><div class="value-details"><strong>String</strong><p>The phone number associated with this address. Provide the phone number as a string
starting with the country code. Use <a href="https://en.wikipedia.org/wiki/E.164">E.164</a> format or send
in the standard national format of number's origin. For example: "+14155556041" or "1-415-555-6041" for a
U.S. number.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint curl code-partial">// Sample $address field value
"$billing_address"  : {  // or "$shipping_address"
  "$name"         : "Bill Jones",
  "$phone"        : "1-415-555-6041",
  "$address_1"    : "2100 Main Street",
  "$address_2"    : "Apt 3B",
  "$city"         : "New London",
  "$region"       : "New Hampshire",
  "$country"      : "US",
  "$zipcode"      : "03257"
}
</pre><pre class="prettyprint python code-partial"># Sample $address field value
billing_address  = {  # or shipping_address
  "$name"         : "Bill Jones",
  "$phone"        : "1-415-555-6041",
  "$address_1"    : "2100 Main Street",
  "$address_2"    : "Apt 3B",
  "$city"         : "New London",
  "$region"       : "New Hampshire",
  "$country"      : "US",
  "$zipcode"      : "03257"
}
</pre><pre class="prettyprint ruby code-partial"># Sample $address field value
billing_address  = {  # or shipping_address
  "$name"         => "Bill Jones",
  "$phone"        => "1-415-555-6041",
  "$address_1"    => "2100 Main Street",
  "$address_2"    => "Apt 3B",
  "$city"         => "New London",
  "$region"       => "New Hampshire",
  "$country"      => "US",
  "$zipcode"      => "03257"
}
</pre><pre class="prettyprint php code-partial">// Sample $address field value
$billingAddress  = array(  // or $shippingAddress
  '$name'         => 'Bill Jones',
  '$phone'        => '1-415-555-6041',
  '$address_1'    => '2100 Main Street',
  '$address_2'    => 'Apt 3B',
  '$city'         => 'New London',
  '$region'       => 'New Hampshire',
  '$country'      => 'US',
  '$zipcode'      => '03257'
);
</pre><pre class="prettyprint java code-partial">import com.siftscience.model.Address;

// Sample $address field value
Address address = new Address()
        .setName("Bill Jones")
        .setPhone("1-415-555-6041")
        .setAddress1("2100 Main Street")
        .setAddress2("Apt 3B")
        .setCity("New London")
        .setRegion("New Hampshire")
        .setCountry("US")
        .setZipCode("03257");
</pre></div></div></div><div class="docs-partial events-api-complex-field-types-app"><div><h1>App</h1><p>The app field type represents the details of an application as well as the device and OS it's running on.</p><ul class="api-fields"><li><div class="field">$os</div><div class="value-details"><strong>String</strong><p>The operating system on which application is running. (e.g. iOS, Android)</p></div></li><li><div class="field">$os_version</div><div class="value-details"><strong>String</strong><p>The operating system version on which application is running. (e.g. 10.3.1, 7.1.1)</p></div></li><li><div class="field">$device_manufacturer</div><div class="value-details"><strong>String</strong><p>The manufacturer of the device on which application is running. (e.g. Samsung, Apple, LG)</p></div></li><li><div class="field">$device_model</div><div class="value-details"><strong>String</strong><p>The model of the device on which application is running. (e.g. SM-G920x, iPhone8,1)</p></div></li><li><div class="field">$device_unique_id</div><div class="value-details"><strong>String</strong><p>The unique ID of the device on which application is running. For iOS, send the IFV identifier.
For Android, send the Android ID.</p></div></li><li><div class="field">$app_name</div><div class="value-details"><strong>String</strong><p>The name of your application.</p></div></li><li><div class="field">$app_version</div><div class="value-details"><strong>String</strong><p>The version of your application. Our accepted format is numbers separated by periods.</p></div></li><li><div class="field">$client_language</div><div class="value-details"><strong>String</strong><p>The language the application content is being delivered in. Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a>
format for country codes. Examples: "en", "en-us, de", "fr-CH, fr;q=0.9, en;q=0.8, de;q=0.7, *;q=0.5", etc.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint curl code-partial">// Send this information with a login from an APP client.
{
  "$session_id" : "gigtleqddo84l8cm15qe4il",
  "$ip"       : "128.148.1.135",
  "$app"      :
  {
    // Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-us, de"
  }
}
</pre><pre class="prettyprint python code-partial"># Send this information with a login from an APP client.
{
  "$session_id" : "gigtleqddo84l8cm15qe4il",
  "$ip"       : "128.148.1.135",
  "$app"      :
  {
    # Example for the iOS Calculator app.
    "$os"                  : "iOS",
    "$os_version"          : "10.1.3",
    "$device_manufacturer" : "Apple",
    "$device_model"        : "iPhone 4,2",
    "$device_unique_id"    : "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            : "Calculator",
    "$app_version"         : "3.2.7",
    "$client_language"     : "en-us, de"
  }
}
</pre><pre class="prettyprint ruby code-partial"># Send this information with a login from an APP client.
{
  "$session_id" => "gigtleqddo84l8cm15qe4il",
  "$ip"       => "128.148.1.135",
  "$app"      =>
  {
    # Example for the iOS Calculator app.
    "$os"                  => "iOS",
    "$os_version"          => "10.1.3",
    "$device_manufacturer" => "Apple",
    "$device_model"        => "iPhone 4,2",
    "$device_unique_id"    => "A3D261E4-DE0A-470B-9E4A-720F3D3D22E6",
    "$app_name"            => "Calculator",
    "$app_version"         => "3.2.7",
    "$client_language      => "en-us, de"
  }
}
</pre><pre class="prettyprint php code-partial">// Send this information with a login from an APP client.
array(
  '$session_id' => 'gigtleqddo84l8cm15qe4il',
  '$ip'         => '128.148.1.135',
  '$app'        =>
   array(
    // Example for the iOS Calculator app.
    '$os'                  => 'iOS',
    '$os_version'          => '10.1.3',
    '$device_manufacturer' => 'Apple',
    '$device_model'        => 'iPhone 4,2',
    '$device_unique_id'    => 'A3D261E4-DE0A-470B-9E4A-720F3D3D22E6',
    '$app_name'            => 'Calculator',
    '$app_version'         => '3.2.7',
    '$client_language'     => 'en-us, de'
  )
)
</pre><pre class="prettyprint java code-partial">import com.siftscience.model.App;

// Send this information with a login from an APP client.
// Example for the iOS Calculator app.
App app = new App()
        .setOperatingSystem("iOS")
        .setOperatingSystemVersion("10.1.3")
        .setDeviceManufacturer("Apple")
        .setDeviceModel("iPhone 4,2")
        .setDeviceUniqueId("A3D261E4-DE0A-470B-9E4A-720F3D3D22E6")
        .setAppName("Calculator")
        .setAppVersion("3.2.7")
        .setClientLanguage("en-us, de");
</pre></div></div></div><div class="docs-partial events-api-complex-field-types-booking"><div><h1>Booking</h1><p> The <code>$booking</code> is a specialized field, analogous to <code>$item</code>, for travel and event ticketing use cases.
 A <code>$booking</code> represents a reservation purchased by a user.</p><p> <code>$bookings</code> should be used in a <code>$create_order</code> or <code>$update_order</code> event instead of <code>$items</code>
- an event cannot have both.</p><p><code>$bookings</code> support two additional complex types, <code>$segments</code> and <code>$guests</code>. <code>$segments</code>
support more detailed fields for each part of a booking, for example, legs of a flight. $guests supports detailed
fields for each guest on the booking. These fields are optional.</p><p><code>$booking</code> requires a <code>$booking_type</code>. A single <code>$create_order</code> or <code>$update_order</code> event
can have multiple types of bookings, such as sending both $flight and $accommodation bookings in one order.</p><p>Please not that <code>$booking</code> does not accept custom fields.</p><p>We support fields for integrations specific to the following booking types:
</p><ol><li><span data-href="/events-api/complex-field-types/booking/event-ticket">$event_ticket</span>:
 For tickets to sporting events, concerts, etc.</li><li><span data-href="/events-api/complex-field-types/booking/accommodation">$accommodation</span>:
 For hotel reservations.</li><li><span data-href="/events-api/complex-field-types/booking/flight">$flight</span>:
 For airline tickets.</li><li><span data-href="/events-api/complex-field-types/booking/bus">$bus</span>:
 For bus, train or rail tickets.</li><li><span data-href="/events-api/complex-field-types/booking/rideshare">$rideshare</span>:
 For booking rides in a ridesharing marketplace.</li><li><span data-href="/events-api/complex-field-types/booking/vehicle">$vehicle</span>:
 For a reservation of a car or other vehicle.</li><li><span data-href="/events-api/complex-field-types/booking/cruise">$cruise</span>:
 For a cruise ticket.</li><li><span data-href="/events-api/complex-field-types/booking/other">$other</span>:
 For any reservation use case not covered above.</li></ol></div></div><div class="docs-partial events-api-complex-field-types-booking-event-ticket"><div><h1>$booking.event_ticket</h1><p>Tell Sift about a purchase of tickets to a concert, sporting event, or any other type of event.</p><p>A booking should be for a single event and seat type - <em>e.g.</em>, a single order purchasing different seat
classes to the same concert should get different booking objects.</p><ul class="api-fields"><li><div class="field">$booking_type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>$event_ticket</code></p></div></li><li><div class="field">$title</div><div class="value-details"><strong>String</strong><p>A description of the event.</p></div></li><li><div class="field">$start_time</div><div class="value-details"><strong>Integer</strong><p>The start time of the event. Send as a UNIX timestamp in milliseconds.</p></div></li><li><div class="field">$end_time</div><div class="value-details"><strong>Integer</strong><p>The finish time of the event. Send as a UNIX timestamp in milliseconds.</p></div></li><li><div class="field">$price</div><div class="value-details"><strong>String</strong><p>The price per ticket. Send this field in micros in the base unit of the <code>$currency_code</code>.
1 cent = 10,000 micros. $1.23 USD = 123 cents = 1,230,000 micros. For currencies without cents of
fractional denominations, like the Japanese Yen, use 1 JPY = 1000000 micros.</p></div></li><li><div class="field">$currency_code</div><div class="value-details"><strong>String</strong><p><a href='http://en.wikipedia.org/wiki/ISO_4217' target='_blank'>ISO-4217</a> currency code for the amount.
<em>e.g.</em>, USD, CAD, HKD. If your site uses alternative currencies, like bitcoin or points systems,
specify that here.</p></div></li><li><div class="field">$quantity</div><div class="value-details"><strong>Integer</strong><p>The count of reservations of the given type purchased by the user. <em>e.g.</em>, 2 for a purchase of two tickets to the same event.</p></div></li><li><div class="field">$guests</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/guest">Array of Guests</span></strong><p>Details of the guests using the tickets. Send as much information about each guest as you capture.</p></div></li><li><div class="field">$event_id</div><div class="value-details"><strong>String</strong><p>For event ticket bookings, this field represents the internal identifier associated with the event.</p></div></li><li><div class="field">$venue_id</div><div class="value-details"><strong>String</strong><p>This field represents the id of the venue.</p></div></li><li><div class="field">$location</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Address</span></strong><p>This field represents the name and address of the venue.</p></div></li><li><div class="field">$category</div><div class="value-details"><strong>String</strong><p>This field captures the genre of ticket.</p></div></li><li><div class="field">$tags</div><div class="value-details"><strong>Array of Strings</strong><p>This field captures any descriptors of the event. For example, tags might be team names, region, etc.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint curl code-partial">{
  "$booking_type" : "$event_ticket",
  "$title"        : "Cotton Bowl Classic - Clemson vs. Notre Dame",
  "$start_time"   : 1564650701,
  "event-id"      : "event-123",
  "$location"     : {
    "$name"      : "Cotton Bowl Stadium",
    "$phone"     : "1-415-555-6041",
    "$address_1" : "3750 The Midway",
    "$city"      : "Dallas",
    "$region"    : "Texas",
    "$country"   : "US",
    "$zipcode"   : "75215"
  },
  "$price"          : 238278,
  "$currency_code"  : "USD",
  "$quantity"       : 2
}
</pre><pre class="prettyprint python code-partial">{
  "$booking_type" : "$event_ticket",
  "$title"        : "Cotton Bowl Classic - Clemson vs. Notre Dame",
  "$start_time"   : 1564650701,
  "event_id"      : "event-123",
  "$location"     : {
    "$name"      : "Cotton Bowl Stadium",
    "$phone"     : "1-415-555-6041",
    "$address_1" : "3750 The Midway",
    "$city"      : "Dallas",
    "$region"    : "Texas",
    "$country"   : "US",
    "$zipcode"   : "75215"
  },
  "$price"         : 238278,
  "$currency_code" : "USD",
  "$quantity"      : 2
}
</pre><pre class="prettyprint ruby code-partial">{
  "$booking_type" => "$event_ticket",
  "$title"        => "Cotton Bowl Classic - Clemson vs. Notre Dame",
  "$start_time"   => 1564650701,
  "$event_id"     => "event-123",
  "$location"     => {
    "$name"      => "Cotton Bowl Stadium",
    "$phone"     => "1-415-555-6041",
    "$address_1" => "3750 The Midway",
    "$city"      => "Dallas",
    "$region"    => "Texas",
    "$country"   => "US",
    "$zipcode"   => "75215"
  }
  "$price"         => 238278,
  "$currency_code" => "USD",
  "$quantity"      => 2
}
</pre><pre class="prettyprint php code-partial">array(
  '$booking_type' => '$event_ticket',
  '$title'        => 'Cotton Bowl Classic - Clemson vs. Notre Dame',
  '$start_time'   => 1564650701,
  'event_id'      => 'event-123',
  '$location'     => {
    '$name'      => 'Cotton Bowl Stadium',
    '$phone'     => '1-415-555-6041',
    '$address_1' => '3750 The Midway',
    '$city'      => 'Dallas',
    '$region'    => 'Texas',
    '$country'   => 'US',
    '$zipcode'   => '75215'
  ),
  '$price'          => 238278,
  '$currency_code'  => 'USD',
  '$quantity'       => 2
)
</pre><pre class="prettyprint java code-partial">import java.util.Arrays;

import com.siftscience.model.Address;
import com.siftscience.model.Booking;

Booking booking = new Booking()
        .setBookingType("$event_ticket")
        .setTitle("Cotton Bowl Classic - Clemson vs. Notre Dame")
        .setStartTime(1564650701L)
        .setEventId("event-123")
        .setLocation(new Address()
                .setName("Cotton Bowl Stadium")
                .setPhone("1-415-555-6041")
                .setAddress1("3750 The Midway")
                .setCity("Dallas")
                .setRegion("Texas")
                .setCountry("US")
                .setZipCode("75215"))
        .setPrice(238278L)
        .setCurrencyCode("USD")
        .setQuantity(2L);
</pre></div></div></div><div class="docs-partial events-api-complex-field-types-booking-accommodation"><div><h1>$booking.accommodation</h1><p>Tell Sift about a hotel reservation.</p><p>Each type of room should be its own booking - <em>e.g.</em>, an order reserving both a single and double room
should get two booking objects.</p><ul class="api-fields"><li><div class="field">$booking_type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>$accommodation</code></p></div></li><li><div class="field">$title</div><div class="value-details"><strong>String</strong><p>A description of the reservation, <em>e.g.</em>, "Deluxe King, Hotel Alpha".</p></div></li><li><div class="field">$start_time</div><div class="value-details"><strong>Integer</strong><p>The check-in time for a hotel reservation. Send as a UNIX timestamp in milliseconds.</p></div></li><li><div class="field">$end_time</div><div class="value-details"><strong>Integer</strong><p>The check-out time for a hotel reservation. Send as a UNIX timestamp in milliseconds.</p></div></li><li><div class="field">$price</div><div class="value-details"><strong>String</strong><p>The price per room. Send this field in micros in the base unit of the <code>$currency_code</code>.
1 cent = 10,000 micros. $1.23 USD = 123 cents = 1,230,000 micros. For currencies without cents of
fractional denominations, like the Japanese Yen, use 1 JPY = 1000000 micros.</p></div></li><li><div class="field">$currency_code</div><div class="value-details"><strong>String</strong><p><a href='http://en.wikipedia.org/wiki/ISO_4217' target='_blank'>ISO-4217</a> currency code for the amount.
<em>e.g.</em>, USD, CAD, HKD. If your site uses alternative currencies, like bitcoin or points systems,
specify that here.</p></div></li><li><div class="field">$quantity</div><div class="value-details"><strong>Integer</strong><p>The count of reservations, <em>e.g.</em>, 2 for two hotel rooms of the same type.</p></div></li><li><div class="field">$guests</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/guest">Array of Guests</span></strong><p>Details of the guests on the reservation. Send as much information about each guest as you capture.</p></div></li><li><div class="field">$room_type</div><div class="value-details"><strong>String</strong><p>This field represents the type of room. <em>e.g.</em>, "Double Queen Deluxe"</p></div></li><li><div class="field">$venue_id</div><div class="value-details"><strong>String</strong><p>This field represents the id of the hotel.</p></div></li><li><div class="field">$location</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Address</span></strong><p>This field represents the address of the hotel.</p></div></li><li><div class="field">$tags</div><div class="value-details"><strong>Array of Strings</strong><p>This field captures any descriptors of the booking. For example, tags might be "non-smoking", "wi-fi", etc.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint curl code-partial">{
  "$booking_type" : "$accommodation",
  "$start_time"   : 1564650701,
  "$end_time"     : 1564650701,
  "$location"     : {
    "$name"      : "Marriot New London",
    "$phone"     : "1-415-555-6041",
    "$address_1" : "2100 Main Street",
    "$city"      : "New London",
    "$region"    : "New Hampshire",
    "$country"   : "US",
    "$zipcode"   : "03257"
  },
  "$room_type"      : "Seaside View Queen",
  "$price"          : 103082000,
  "$currency_code"  : "USD",
  "$quantity"       : 2
}
</pre><pre class="prettyprint python code-partial">{
  "$booking_type" : "$accommodation",
  "$start_time"   : 1564650701,
  "$end_time"     : 1564650701,
  "$location"     : {
    "$name"      : "Marriot New London",
    "$phone"     : "1-415-555-6041",
    "$address_1" : "2100 Main Street",
    "$city"      : "New London",
    "$region"    : "New Hampshire",
    "$country"   : "US",
    "$zipcode"   : "03257"
  },
  "$room_type"     : "Seaside View Queen",
  "$price"         : 103082000,
  "$currency_code" : "USD",
  "$quantity"      : 2
}
</pre><pre class="prettyprint ruby code-partial">{
  "$booking_type" => "$accommodation",
  "$start_time"   => 1564650701,
  "$end_time"     => 1564650701,
  "$location"     => {
    "$name"      => "Marriot New London",
    "$phone"     => "1-415-555-6041",
    "$address_1" => "2100 Main Street",
    "$city"      => "New London",
    "$region"    => "New Hampshire",
    "$country"   => "US",
    "$zipcode"   => "03257"
  },
  "$room_type"     => "Seaside View Queen",
  "$price"         => 103082000,
  "$currency_code" => "USD",
  "$quantity"      => 2
}
</pre><pre class="prettyprint php code-partial">array(
  '$booking_type' => '$accommodation',
  '$start_time'   => 1564650701,
  '$end_time'     => 1564650701,
  '$location'     => {
    '$name'      => 'Marriot New London',
    '$phone'     => '1-415-555-6041',
    '$address_1' => '2100 Main Street',
    '$city'      => 'New London',
    '$region'    => 'New Hampshire',
    '$country'   => 'US',
    '$zipcode'   => '03257'
  ),
  '$room_type'      => 'Seaside View Queen',
  '$price'          => 103082000,
  '$currency_code'  => 'USD',
  '$quantity'       => 2
)
</pre><pre class="prettyprint java code-partial">import java.util.Arrays;

import com.siftscience.model.Address;
import com.siftscience.model.Booking;

Booking booking = new Booking()
        .setBookingType("$accommodation")
        .setStartTime(1564650701L)
        .setEndTime(1564650701L)
        .setLocation(new Address()
                .setName("Marriot New London")
                .setPhone("1-415-555-6041")
                .setAddress1("2100 Main Street")
                .setCity("New London")
                .setRegion("New Hampshire")
                .setCountry("US")
                .setZipCode("03257"))
        .setRoomType("Seaside View Queen")
        .setPrice(103082000L)
        .setCurrencyCode("USD")
        .setQuantity(2L);
</pre></div></div></div><div class="docs-partial events-api-complex-field-types-booking-flight"><div><h1>$booking.flight</h1><p>Tell Sift about the purchase of an airline ticket.</p><p>Each type of ticket should be its own booking - <em>e.g.</em>,  an order reserving both business class and economy
seats on the same flight should get two booking objects.</p><p>A flight booking should also be for one trip, <em>i.e.</em>, a round trip should be split into two bookings.</p><ul class="api-fields"><li><div class="field">$booking_type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>$flight</code></p></div></li><li><div class="field">$title</div><div class="value-details"><strong>String</strong><p>A description of the flight reservation.</p></div></li><li><div class="field">$start_time</div><div class="value-details"><strong>Integer</strong><p>The departure time for the first flight leg in the booking. Send as a UNIX timestamp in milliseconds.</p></div></li><li><div class="field">$end_time</div><div class="value-details"><strong>Integer</strong><p>The arrival time for the last flight leg in the booking etc. Send as a UNIX timestamp in milliseconds.</p></div></li><li><div class="field">$price</div><div class="value-details"><strong>String</strong><p>The price per flight ticket (including all legs of the flight). Send this field in micros in the base unit of the <code>$currency_code</code>.
1 cent = 10,000 micros. $1.23 USD = 123 cents = 1,230,000 micros. For currencies without cents of
fractional denominations, like the Japanese Yen, use 1 JPY = 1000000 micros.</p></div></li><li><div class="field">$currency_code</div><div class="value-details"><strong>String</strong><p><a href='http://en.wikipedia.org/wiki/ISO_4217' target='_blank'>ISO-4217</a> currency code for the amount.
<em>e.g.</em>, USD, CAD, HKD. If your site uses alternative currencies, like bitcoin or points systems,
specify that here.</p></div></li><li><div class="field">$quantity</div><div class="value-details"><strong>Integer</strong><p>The count of tickets of the given type purchased by the user.</p></div></li><li><div class="field">$guests</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/guest">Array of Guests</span></strong><p>Details of the guests on the flight. Send as much information about each guest as you capture.</p></div></li><li><div class="field">$segments</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/segment">Array of Segments</span></strong><p>Use this field to send information about each leg of the flight (even if there’s only one).</p></div></li><li><div class="field">$tags</div><div class="value-details"><strong>Array of Strings</strong><p>This field captures any descriptors of the booking. For example, tags might be "premium economy", "summer sale", etc.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint curl code-partial">{
  "$booking_type" : "$flight",
  "$title"        : "SFO - CDG, 2 Adults",
  "$start_time"   : 2038412903,
  "$end_time"     : 2048412903,
  "$guests"       : [
    {
      "$name"               : "John Doe",
      "$birth_date"         : "1985-01-19",
      "$loyalty_program"    : "skymiles",
      "$loyalty_program_id" : "PSOV34DF",
      "$phone"              : "1-415-555-6041",
      "$email"              : "jdoe@domain.com"
    },
    {
      "$name" : "Jane Doe"
    }
  ],
  "$segments" : [
    {
      "$start_time"             : 15638412903,
      "$end_time"               : 15638463711,
      "$vessel_number"          : "LH454",
      "$fare_class"             : "Premium Economy",
      "$departure_airport_code" : "SFO",
      "$arrival_airport_code"   : "JFK"
    },
    {
      "$start_time"             : 15638473491,
      "$end_time"               : 15638822146,
      "$vessel_number"          : "LH388",
      "$fare_class"             : "Premium Economy",
      "$departure_airport_code" : "JFK",
      "$arrival_airport_code"   : "CDG"
    },
  ],
  "$price"          : 49900000,
  "$currency_code"  : "USD",
  "$quantity"       : 2
}
</pre><pre class="prettyprint python code-partial">{
  "$booking_type" : "$flight",
  "$title"        : "SFO - CDG, 2 Adults",
  "$start_time"   : 2038412903,
  "$end_time"     : 2048412903,
  "$guests"       : [
    {
      "$name"               : "John Doe",
      "$birth_date"         : "1985-01-19",
      "$loyalty_program"    : "skymiles",
      "$loyalty_program_id" : "PSOV34DF",
      "$phone"              : "1-415-555-6041",
      "$email"              : "jdoe@domain.com"
    },
    {
      "$name" : "Jane Doe"
    }
  ],
  "$segments" : [
    {
    "$start_time"             : 15638412903,
    "$end_time"               : 15638463711,
    "$vessel_number"          : "LH454",
    "$fare_class"             : "Premium Economy",
    "$departure_airport_code" : "SFO",
    "$arrival_airport_code"   : "JFK"
    },
    {
      "$start_time"             : 15638473491,
      "$end_time"               : 15638822146,
      "$vessel_number"          : "LH388",
      "$fare_class"             : "Premium Economy",
      "$departure_airport_code" : "JFK",
      "$arrival_airport_code"   : "CDG"
    }
  ],
  "$price"          : 49900000,
  "$currency_code"  : "USD",
  "$quantity"       : 2
}
</pre><pre class="prettyprint ruby code-partial">{
  "$booking_type" => "$flight",
  "$title"        => "SFO - CDG, 2 Adults",
  "$start_time"   => 2038412903,
  "$end_time"     => 2048412903,
  "$guests"       => [
    {
      "$name"               => "John Doe",
      "$birth_date"         => "1985-01-19",
      "$loyalty_program"    => "skymiles",
      "$loyalty_program_id" => "PSOV34DF",
      "$phone"              => "1-415-555-6041",
      "$email"              => "jdoe@domain.com"
    },
    {
      "$name" => "Jane Doe"
    }
  ],
  "$segments" => [
    {
      "$start_time"             => 15638412903,
      "$end_time"               => 15638463711,
      "$vessel_number"          => "LH454",
      "$fare_class"             => "Premium Economy",
      "$departure_airport_code" => "SFO",
      "$arrival_airport_code"   => "JFK"
    },
    {
      "$start_time"             => 15638473491,
      "$end_time"               => 15638822146,
      "$vessel_number"          => "LH388",
      "$fare_class"             => "Premium Economy",
      "$departure_airport_code" => "JFK",
      "$arrival_airport_code"   => "CDG"
    }
  ],
  "$price"          => 49900000,
  "$currency_code"  => "USD",
  "$quantity"       => 2
}
</pre><pre class="prettyprint php code-partial">array(
  '$booking_type' => '$flight',
  '$title'        => 'SFO - CDG, 2 Adults',
  '$start_time'   => 2038412903,
  '$end_time'     => 2048412903,
  '$guests'       => array(
    array(
      '$name'               => 'John Doe',
      '$birth_date'         => '1985-01-19',
      '$loyalty_program'    => 'skymiles',
      '$loyalty_program_id' => 'PSOV34DF',
      '$phone'              => '1-415-555-6041',
      '$email'              => 'jdoe@domain.com'
    ),
    array(
      '$name' => 'Jane Doe'
    )
  ),
  '$segments' => array(
    array(
      '$start_time'             => 15638412903,
      '$end_time'               => 15638463711,
      '$vessel_number'          => 'LH454',
      '$fare_class'             => 'Premium Economy',
      '$departure_airport_code' => 'SFO',
      '$arrival_airport_code'   => 'JFK'
    ),
    array(
      '$start_time'             => 15638473491,
      '$end_time'               => 15638822146,
      '$vessel_number'          => 'LH388',
      '$fare_class'             => 'Premium Economy',
      '$departure_airport_code' => 'JFK',
      '$arrival_airport_code'   => 'CDG'
    ),
  ),
  '$price'          => 49900000,
  '$currency_code'  => 'USD',
  '$quantity'       => 2
)
</pre><pre class="prettyprint java code-partial">import java.util.Arrays;

import com.siftscience.model.Booking;
import com.siftscience.model.Segment;

Booking booking = new Booking()
        .setBookingType("$flight")
        .setTitle("SFO - CDG, 2 Adults")
        .setStartTime(2038412903L)
        .setEndTime(2048412903L)
        .setGuests(Arrays.asList(
                new Guest()
                        .setName("John Doe")
                        .setBirthDate("1985-01-19")
                        .setPhone("1-415-555-6041")
                        .setEmail("jdoe@domain.com")
                        .setLoyaltyProgram("skymiles")
                        .setLoyaltyProgramId("PSOV34DF"),
                new Guest()
                        .setName("Jane Doe")))
        .setSegments(Arrays.asList(
                new Segment()
                      .setStartTime(15638412903L)
                      .setEndTime(15638463711L)
                      .setVesselNumber("LH454")
                      .setFareClass("Premium Economy")
                      .setDepartureAirportCode("SFO")
                      .setArrivalAirportCode("JFK"),
                new Segment()
                      .setStartTime(15638473491L)
                      .setEndTime(15638822146L)
                      .setVesselNumber("LH388")
                      .setFareClass("Premium Economy")
                      .setDepartureAirportCode("JFK")
                      .setArrivalAirportCode("CDG")))
        .setPrice(49900000L)
        .setCurrencyCode("USD")
        .setQuantity(2L);
</pre></div></div></div><div class="docs-partial events-api-complex-field-types-booking-bus"><div><h1>$booking.bus</h1><p>Tell Sift about bus, train, or rail tickets.</p><p>Each type of ticket should get its own booking - <em>e.g.</em>, an order reserving both business class and economy
seats on the same ride should get two booking objects. However, an order booking two economy seats on the same
flight would be one booking with quantity 2.</p><p>A booking should also be for one trip - ie, a round trip should be split into two bookings.</p><ul class="api-fields"><li><div class="field">$booking_type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>$bus</code></p></div></li><li><div class="field">$title</div><div class="value-details"><strong>String</strong><p>A description of the trip.</p></div></li><li><div class="field">$start_time</div><div class="value-details"><strong>Integer</strong><p>The departure time for a trip. Send as a UNIX timestamp in milliseconds.</p></div></li><li><div class="field">$end_time</div><div class="value-details"><strong>Integer</strong><p>The arrival time of the trip. Send as a UNIX timestamp in milliseconds.</p></div></li><li><div class="field">$price</div><div class="value-details"><strong>String</strong><p>The price per ticket. Send this field in micros in the base unit of the <code>$currency_code</code>.
1 cent = 10,000 micros. $1.23 USD = 123 cents = 1,230,000 micros. For currencies without cents of
fractional denominations, like the Japanese Yen, use 1 JPY = 1000000 micros.</p></div></li><li><div class="field">$currency_code</div><div class="value-details"><strong>String</strong><p><a href='http://en.wikipedia.org/wiki/ISO_4217' target='_blank'>ISO-4217</a> currency code for the amount.
<em>e.g.</em>, USD, CAD, HKD. If your site uses alternative currencies, like bitcoin or points systems,
specify that here.</p></div></li><li><div class="field">$quantity</div><div class="value-details"><strong>Integer</strong><p>The count of tickets of the given type purchased by the user.</p></div></li><li><div class="field">$guests</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/guest">Array of Guests</span></strong><p>Details of the guests on the trip. The number of guests and the quantity of tickets do not need to match.
Send as much information about each guest as you capture.</p></div></li><li><div class="field">$segments</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/segment">Array of Segments</span></strong><p>Use this field to send information about each ride of the trip (even if there’s only one).</p></div></li><li><div class="field">$tags</div><div class="value-details"><strong>Array of Strings</strong><p>This field captures any descriptors of the trip. For example, tags might be "sleeper", "summer sale", etc.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint curl code-partial">{
  "$booking_type" : "$bus",
  "$title"        : "Ride 2a34029, 2 seats",
  "$start_time"   : 2038412903,
  "$end_time"     : 2048412903,
  "$guests"       : [
    {
      "$name"  : "John Doe",
      "$email" : "jdoe@domain.com"
    }
  ],
  "$segments" : [
    {
      "$departure_address"  : {
          "$name"       : "New London Stop",
          "$address_1"  : "2100 Main Street",
          "$city"       : "New London",
          "$region"     : "New Hampshire",
          "$country"    : "US",
          "$zipcode"    : "03257"
        },
      "$arrival_address"  : {
          "$name"       : "Concord Stop",
          "$address_1"  : "213 Elm Street",
          "$city"       : "Concord",
          "$region"     : "New Hampshire",
          "$country"    : "US",
          "$zipcode"    : "03301"
        },
      "$start_time"       : 2190121220,
      "$end_time"         : 2290122129,
      "$vessel_number"    : "F Line",
      "$fare_class"       : "Economy",
    }
  ],
  "$price"          : 300000,
  "$currency_code"  : "USD",
  "$quantity"       : 1,
  "$tags"           : ["Holiday Schedule"]
}
</pre><pre class="prettyprint python code-partial">{
  "$booking_type" : "$bus",
  "$title"        : "Ride 2a34029, 2 seats",
  "$start_time"   : 2038412903,
  "$end_time"     : 2048412903,
  "$guests"       : [
    {
      "$name"  : "John Doe",
      "$email" : "jdoe@domain.com"
    }
  ],
  "$segments" : [
    {
      "$departure_address"  : {
        "$name"      : "New London Stop",
        "$address_1" : "2100 Main Street",
        "$city"      : "New London",
        "$region"    : "New Hampshire",
        "$country"   : "US",
        "$zipcode"   : "03257"
    },
      "$arrival_address"  : {
        "$name"      : "Concord Stop",
        "$address_1" : "213 Elm Street",
        "$city"      : "Concord",
        "$region"    : "New Hampshire",
        "$country"   : "US",
        "$zipcode"   : "03301"
    },
    "$start_time"        : 2190121220,
    "$end_time"          : 2290122129,
    "$vessel_number"     : "F Line",
    "$fare_class"        : "Economy",
    }
  ],
  "$price"          : 300000,
  "$currency_code"  : "USD",
  "$quantity"       : 1,
  "$tags"           : ["Holiday Schedule"]
}
</pre><pre class="prettyprint ruby code-partial">{
  "$booking_type" => "$bus",
  "$title"        => "Ride 2a34029, 2 seats",
  "$start_time"   => 2038412903,
  "$end_time"     => 2048412903,
  "$guests"       => [
    {
      "$name"  => "John Doe",
      "$email" => "jdoe@domain.com"
    }
  ],
  "$segments" => [
    {
      "$departure_address"  => {
        "$name"      => "New London Stop",
        "$address_1" => "2100 Main Street",
        "$city"      => "New London",
        "$region"    => "New Hampshire",
        "$country"   => "US",
        "$zipcode"   => "03257"
      },
      "$arrival_address"  => {
        "$name"      => "Concord Stop",
        "$address_1" => "213 Elm Street",
        "$city"      => "Concord",
        "$region"       => "New Hampshire",
        "$country"      => "US",
        "$zipcode"      => "03301"
      },
      "$start_time"       => 2190121220,
      "$end_time"         => 2290122129,
      "$vessel_number"    => "F Line",
      "$fare_class"       => "Economy",
    }
  ],
  "$price"          => 49900000,
  "$currency_code"  => "USD",
  "$quantity"       => 1,
  "$tags"           => ["Holiday Schedule"]
}
</pre><pre class="prettyprint php code-partial">array(
  '$booking_type' => '$bus',
  '$title'        => 'Ride 2a34029, 2 seats',
  '$start_time'   => 2038412903,
  '$end_time'     => 2048412903,
  '$guests'       => array(
    array(
      '$name'  => 'John Doe',
      '$email' => 'jdoe@domain.com'
    )
  ),
  '$segments' => array(
    array(
    '$departure_address'  => {
      '$name'      => 'New London Stop',
      '$address_1' => '2100 Main Street',
      '$city'      => 'New London',
      '$region'    => 'New Hampshire',
      '$country'   => 'US',
      '$zipcode'   => '03257'
    ),
    '$arrival_address'  => array(
      '$name'      => 'Concord Stop',
      '$address_1' => '213 Elm Street',
      '$city'      => 'Concord',
      '$region'    => 'New Hampshire',
      '$country'   => 'US',
      '$zipcode'   => '03301'
    ),
    '$start_time'       => 2190121220,
    '$end_time'         => 2290122129,
    '$vessel_number'    => 'F Line',
    '$fare_class'       => 'Economy',
  ),
  '$price'          => 49900000,
  '$currency_code'  => 'USD',
  '$quantity'       => 1,
  '$tags'           => array('Holiday Schedule')
)
</pre><pre class="prettyprint java code-partial">import java.util.Arrays;

import com.siftscience.model.Address;
import com.siftscience.model.Booking;
import com.siftscience.model.Segment;

Booking booking = new Booking()
        .setBookingType("$bus")
        .setTitle("Ride 2a34029, 2 seats")
        .setStartTime(2038412903L)
        .setEndTime(2048412903L)
        .setGuests(Arrays.asList(
                new Guest()
                        .setName("John Doe")
                        .setEmail("jdoe@domain.com")
        .setSegments(Arrays.asList(
                new Segment()
                        .setDepartureAddress(new Address()
                                .setName("New London Stop")
                                .setAddress1("2100 Main Street")
                                .setCity("New London")
                                .setRegion("New Hampshire")
                                .setCountry("US")
                                .setZipCode("03257"))
                        .setArrivalAddress(new Address()
                                .setName("Concord Stop")
                                .setAddress1("213 Elm Street")
                                .setCity("Concord")
                                .setRegion("New Hampshire")
                                .setCountry("US")
                                .setZipCode("03301"))
                .setStartTime(2190121220L)
                .setEndTime(2290122129L)
                .setVesselNumber("F Line")
                .setFareClass("Economy")
        .setPrice(49900000L)
        .setCurrencyCode("USD")
        .setQuantity(1L)
        .setTags(Arrays.asList("Holiday Schedule"));
</pre></div></div></div><div class="docs-partial events-api-complex-field-types-booking-rideshare"><div><h1>$booking.rideshare</h1><p>Tell Sift about a booking of a ride in a ridesharing marketplace.</p><ul class="api-fields"><li><div class="field">$booking_type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>$rideshare</code></p></div></li><li><div class="field">$title</div><div class="value-details"><strong>String</strong><p>A description of the ride.</p></div></li><li><div class="field">$start_time</div><div class="value-details"><strong>Integer</strong><p>The pickup time of the ride. Send as a UNIX timestamp in milliseconds.</p></div></li><li><div class="field">$end_time</div><div class="value-details"><strong>Integer</strong><p>The estimated drop-off time of the ride. Send as a UNIX timestamp in milliseconds.</p></div></li><li><div class="field">$price</div><div class="value-details"><strong>String</strong><p>The price per ride of the booking. Send this field in micros in the base unit of the <code>$currency_code</code>.
1 cent = 10,000 micros. $1.23 USD = 123 cents = 1,230,000 micros. For currencies without cents of
fractional denominations, like the Japanese Yen, use 1 JPY = 1000000 micros.</p></div></li><li><div class="field">$currency_code</div><div class="value-details"><strong>String</strong><p><a href='http://en.wikipedia.org/wiki/ISO_4217' target='_blank'>ISO-4217</a> currency code for the amount.
<em>e.g.</em>, USD, CAD, HKD. If your site uses alternative currencies, like bitcoin or points systems,
specify that here.</p></div></li><li><div class="field">$quantity</div><div class="value-details"><strong>Integer</strong><p>The count of reservations of the given type purchased by the user. This does not necessarily reflect the
number of guests (eg, a single ride may be booked for two guests).</p></div></li><li><div class="field">$guests</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/guest">Array of Guests</span></strong><p>Details of the guests on the booking. Send as much information about each guest as you capture.</p></div></li><li><div class="field">$segments</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/segment">Array of Segments</span></strong><p>Add more specific information about the ride (even if there is only one segment).</p></div></li><li><div class="field">$tags</div><div class="value-details"><strong>Array of Strings</strong><p>This field captures any descriptors of the ride. For example, tags might be "sale", "first ride", etc.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint curl code-partial">{
  "$booking_type" : "$rideshare",
  "$title"        : "Ride 2a34029, 1 seat",
  "$start_time"   : 2038412903, // pickup time
  "$end_time"     : 2048412903, // estimated drop-off time
  "$guests"       : [
    {
      "$name"  : "John Doe",
      "$email" : "jdoe@domain.com"
    }
  ],
  "$segments" : [
    {
      "$departure_address"  : {
          "$name"       : "Mason Theater",
          "$address_1"  : "2100 Main Street",
          "$city"       : "New London",
          "$region"     : "New Hampshire",
          "$country"    : "US",
          "$zipcode"    : "03257"
        },
      "$arrival_address"  : {
          "$address_1"  : "213 Elm Street",
          "$city"       : "Concord",
          "$region"     : "New Hampshire",
          "$country"    : "US",
          "$zipcode"    : "03301"
        },
      "$start_time"    : 2190121220, // pickup time
      "$end_time"      : 2290122129, // estimated drop-off time
      "$vessel_number" : "Toyota Camry 5ABC580",
      "$fare_class"    : "Pool"
    }
  ],
  "$price"          : 3200000,
  "$currency_code"  : "USD",
  "$quantity"       : 1
}
</pre><pre class="prettyprint python code-partial">{
  "$booking_type" : "$rideshare",
  "$title"        : "Ride 2a34029, 1 seat",
  "$start_time"   : 2038412903, # pickup time
  "$end_time"     : 2048412903, # estimated drop-off time
  "$guests"       : [
    {
      "$name"  : "John Doe",
      "$email" : "jdoe@domain.com"
    }
  ],
  "$segments" : [
    {
      "$departure_address"  : {
        "$name"      : "Mason Theater",
        "$address_1" : "2100 Main Street",
        "$city"      : "New London",
        "$region"    : "New Hampshire",
        "$country"   : "US",
        "$zipcode"   : "03257"
    },
      "$arrival_address"  : {
        "$address_1" : "213 Elm Street",
        "$city"      : "Concord",
        "$region"    : "New Hampshire",
        "$country"   : "US",
        "$zipcode"   : "03301"
    },
    "$start_time"    : 2190121220, # pickup time
    "$end_time"      : 2290122129, # estimated drop-off time
    "$vessel_number" : "Toyota Camry 5ABC580",
    "$fare_class"    : "Pool"
    }
  ],
  "$price"          : 3200000,
  "$currency_code"  : "USD",
  "$quantity"       : 1
}
</pre><pre class="prettyprint ruby code-partial">{
  "$booking_type" => "$rideshare",
  "$title"        => "Ride 2a34029, 1 seat",
  "$start_time"   => 2038412903, # pickup time
  "$end_time"     => 2048412903, # estimated drop-off time
  "$guests"       => [
    {
      "$name"   => "John Doe",
      "$email"  => "jdoe@domain.com"
    }
  ],
  "$segments" => [
    {
      "$departure_address"  => {
        "$name"      => "Mason Theater",
        "$address_1" => "2100 Main Street",
        "$city"      => "New London",
        "$region"    => "New Hampshire",
        "$country"   => "US",
        "$zipcode"   => "03257"
      },
      "$arrival_address"  => {
        "$address_1" => "213 Elm Street",
        "$city"      => "Concord",
        "$region"    => "New Hampshire",
        "$country"   => "US",
        "$zipcode"   => "03301"
      },
      "$start_time"    => 2190121220, # pickup time
      "$end_time"      => 2290122129, # estimated drop-off time
      "$vessel_number" => "Toyota Camry 5ABC580",
      "$fare_class"    => "Pool"
    }
  ],
  "$price"          => 3200000,
  "$currency_code"  => "USD",
  "$quantity"       => 1
}
</pre><pre class="prettyprint php code-partial">array(
  '$booking_type' => '$rideshare',
  '$title'        => 'Ride 2a34029, 1 seat',
  '$start_time'   => 2038412903, // pickup time
  '$end_time'     => 2048412903, // estimated drop-off time
  '$guests'       => array(
    array(
      '$name'  => 'John Doe',
      '$email' => 'jdoe@domain.com'
    )
  ),
  '$segments' => array(
    array(
      '$departure_address'  => {
        '$name'      => 'Mason Theater',
        '$address_1' => '2100 Main Street',
        '$city'      => 'New London',
        '$region'    => 'New Hampshire',
        '$country'   => 'US',
        '$zipcode'   => '03257'
      ),
      '$arrival_address'  => array(
        '$address_1' => '213 Elm Street',
        '$city'      => 'Concord',
        '$region'    => 'New Hampshire',
        '$country'   => 'US',
        '$zipcode'   => '03301'
      ),
      '$start_time'    => 2190121220, // pickup time
      '$end_time'      => 2290122129, // estimated drop-off time
      '$vessel_number' => 'Toyota Camry 5ABC580',
      '$fare_class'    => 'Pool'
  ),
  '$price'          => 3200000,
  '$currency_code'  => 'USD',
  '$quantity'       => 1
)
</pre><pre class="prettyprint java code-partial">import java.util.Arrays;

import com.siftscience.model.Address;
import com.siftscience.model.Booking;
import com.siftscience.model.Segment;

Booking booking = new Booking()
        .setBookingType("$rideshare")
        .setTitle("Ride 2a34029, 1 seat")
        .setStartTime(2038412903L) // pickup time
        .setEndTime(2048412903L) // estimated drop-off time
        .setGuests(Arrays.asList(
                new Guest()
                        .setName("John Doe")
                        .setEmail("jdoe@domain.com")
        .setSegments(Arrays.asList(
                new Segment()
                        .setDepartureAddress(new Address()
                                .setName("Mason Theater")
                                .setAddress1("2100 Main Street")
                                .setCity("New London")
                                .setRegion("New Hampshire")
                                .setCountry("US")
                                .setZipCode("03257"))
                        .setArrivalAddress(new Address()
                                .setAddress1("213 Elm Street")
                                .setCity("Concord")
                                .setRegion("New Hampshire")
                                .setCountry("US")
                                .setZipCode("03301"))
                .setStartTime(2190121220L) // pickup time
                .setEndTime(2290122129L) // estimated drop-off time
                .setVesselNumber("Toyota Camry 5ABC580")
                .setFareClass("Pool")
        .setPrice(3200000L)
        .setCurrencyCode("USD")
        .setQuantity(1L);
</pre></div></div></div><div class="docs-partial events-api-complex-field-types-booking-vehicle"><div><h1>$booking.vehicle</h1><p>Tell Sift about a reservation of a car or other vehicle.</p><p>A reservation should be for a single type of vehicle (i.e, two different types of vehicles should be in two
bookings. However, two of the same vehicle types should be in the same booking with quantity 2).</p><ul class="api-fields"><li><div class="field">$booking_type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>$vehicle</code></p></div></li><li><div class="field">$title</div><div class="value-details"><strong>String</strong><p>A description of the reservation.</p></div></li><li><div class="field">$start_time</div><div class="value-details"><strong>Integer</strong><p>The pickup time for the reservation. Send as a UNIX timestamp in milliseconds.</p></div></li><li><div class="field">$end_time</div><div class="value-details"><strong>Integer</strong><p>The drop-off time of the reservation. Send as a UNIX timestamp in milliseconds.</p></div></li><li><div class="field">$price</div><div class="value-details"><strong>String</strong><p>The price per vehicle of the reservation. Send this field in micros in the base unit of the <code>$currency_code</code>.
1 cent = 10,000 micros. $1.23 USD = 123 cents = 1,230,000 micros. For currencies without cents of
fractional denominations, like the Japanese Yen, use 1 JPY = 1000000 micros.</p></div></li><li><div class="field">$currency_code</div><div class="value-details"><strong>String</strong><p><a href='http://en.wikipedia.org/wiki/ISO_4217' target='_blank'>ISO-4217</a> currency code for the amount.
<em>e.g.</em>, USD, CAD, HKD. If your site uses alternative currencies, like bitcoin or points systems,
specify that here.</p></div></li><li><div class="field">$quantity</div><div class="value-details"><strong>Integer</strong><p>The count of reservations of the given type purchased by the user. This does not reflect the number of
guests (eg, a single vehicle may be booked for two guests), but would reflect the number of vehicles of the same type.</p></div></li><li><div class="field">$guests</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/guest">Array of Guests</span></strong><p>Details of the guests on the reservation. Send as much information about each guest as you capture.</p></div></li><li><div class="field">$segments</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/segment">Array of Segments</span></strong><p>Add more specific information about the reservation.</p></div></li><li><div class="field">$tags</div><div class="value-details"><strong>Array of Strings</strong><p>This field captures any descriptors of the reservation. For example, tags might be "sale", "first ride", etc.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint curl code-partial">{
  "$booking_type" : "$vehicle",
  "$title"        : "2 Day Rental, New Hampshire",
  "$start_time"   : 2038412903, // pickup time
  "$end_time"     : 2048412903, // estimated drop-off time
  "$guests"       : [
    {
      "$name"  : "John Doe",
      "$email" : "jdoe1985@domain.com"
    },
    {
      "$name"  : "Jane Doe",
      "$email" : "jdoe1983@domain.com"
    }
  ],
  "$segments" : [
    {
      "$departure_address"  : {
          "$name"       : "New London Branch",
          "$phone"      : "1-415-555-6041",
          "$address_1"  : "2100 Main Street",
          "$city"       : "New London",
          "$region"     : "New Hampshire",
          "$country"    : "US",
          "$zipcode"    : "03257"
        },
      "$arrival_address"  : {
          "$name"       : "Concord Branch",
          "$phone"      : "1-415-555-6032",
          "$address_1"  : "213 Elm Street",
          "$city"       : "Concord",
          "$region"     : "New Hampshire",
          "$country"    : "US",
          "$zipcode"    : "03301"
        },
      "$start_time"    : 2190121220, // pickup time
      "$end_time"      : 2290122129, // estimated drop-off time
      "$vessel_number" : "Toyota Camry 5ABC580",
      "$fare_class"    : "Compact"
    }
  ],
  "$price"          : 3200000,
  "$currency_code"  : "USD",
  "$quantity"       : 2
}
</pre><pre class="prettyprint python code-partial">{
  "$booking_type" : "$vehicle",
  "$title"        : "2 Day Rental, New Hampshire",
  "$start_time"   : 2038412903, # pickup time
  "$end_time"     : 2048412903, # estimated drop-off time
  "$guests"       : [
    {
      "$name"  : "John Doe",
      "$email" : "jdoe@domain.com"
    },
    {
      "$name"  : "Jane Doe",
      "$email" : "jdoe1983@domain.com"
    }
  ],
  "$segments" : [
    {
      "$departure_address"  : {
        "$name"      : "New London Branch",
        "$phone"      : "1-415-555-6041",
        "$address_1" : "2100 Main Street",
        "$city"      : "New London",
        "$region"    : "New Hampshire",
        "$country"   : "US",
        "$zipcode"   : "03257"
    },
      "$arrival_address"  : {
        "$name"       : "Concord Branch",
        "$phone"      : "1-415-555-6032",
        "$address_1" : "213 Elm Street",
        "$city"      : "Concord",
        "$region"    : "New Hampshire",
        "$country"   : "US",
        "$zipcode"   : "03301"
    },
    "$start_time"    : 2190121220, # pickup time
    "$end_time"      : 2290122129, # estimated drop-off time
    "$vessel_number" : "Toyota Camry 5ABC580",
    "$fare_class"    : "Compact"
    }
  ],
  "$price"          : 3200000,
  "$currency_code"  : "USD",
  "$quantity"       : 2
}
</pre><pre class="prettyprint ruby code-partial">{
  "$booking_type" => "$vehicle",
  "$title"        => "2 Day Rental, New Hampshire",
  "$start_time"   => 2038412903, # pickup time
  "$end_time"     => 2048412903, # estimated drop-off time
  "$guests"       => [
    {
      "$name"   => "John Doe",
      "$email"  => "jdoe1985@domain.com"
    },
    {
      "$name"   => "Jane Doe",
      "$email"  => "jdoe1983@domain.com"
    }
  ],
  "$segments" => [
    {
      "$departure_address"  => {
        "$name"      => "New London Branch",
        "$phone"     => "1-415-555-6041",
        "$address_1" => "2100 Main Street",
        "$city"      => "New London",
        "$region"    => "New Hampshire",
        "$country"   => "US",
        "$zipcode"   => "03257"
      },
      "$arrival_address"  => {
        "$name"     => "Concord Branch",
        "$phone"    => "1-415-555-6032",
        "$address_1" => "213 Elm Street",
        "$city"      => "Concord",
        "$region"    => "New Hampshire",
        "$country"   => "US",
        "$zipcode"   => "03301"
      },
      "$start_time"    => 2190121220, # pickup time
      "$end_time"      => 2290122129, # estimated drop-off time
      "$vessel_number" => "Toyota Camry 5ABC580",
      "$fare_class"    => "Compact"
    }
  ],
  "$price"          => 3200000,
  "$currency_code"  => "USD",
  "$quantity"       => 2
}
</pre><pre class="prettyprint php code-partial">array(
  '$booking_type' => '$vehicle',
  '$title'        => '2 Day Rental, New Hampshire',
  '$start_time'   => 2038412903, // pickup time
  '$end_time'     => 2048412903, // estimated drop-off time
  '$guests'       => array(
    array(
      '$name'  => 'John Doe',
      '$email' => 'jdoe1985@domain.com'
    ),
    array(
      '$name'  => 'Jane Doe',
      '$email' => 'jdoe1983@domain.com'
    )
  ),
  '$segments' => array(
    array(
      '$departure_address'  => {
        '$name'      => 'New London Branch',
        '$phone'     => '1-415-555-6041',
        '$address_1' => '2100 Main Street',
        '$city'      => 'New London',
        '$region'    => 'New Hampshire',
        '$country'   => 'US',
        '$zipcode'   => '03257'
      ),
      '$arrival_address'  => array(
        '$name'     =>  'Concord Branch',
        '$phone'     => '1-415-555-6032',
        '$address_1' => '213 Elm Street',
        '$city'      => 'Concord',
        '$region'    => 'New Hampshire',
        '$country'   => 'US',
        '$zipcode'   => '03301'
      ),
      '$start_time'    => 2190121220, // pickup time
      '$end_time'      => 2290122129, // estimated drop-off time
      '$vessel_number' => 'Toyota Camry 5ABC580',
      '$fare_class'    => 'Compact'
  ),
  '$price'          => 3200000,
  '$currency_code'  => 'USD',
  '$quantity'       => 2
)
</pre><pre class="prettyprint java code-partial">import java.util.Arrays;

import com.siftscience.model.Address;
import com.siftscience.model.Booking;
import com.siftscience.model.Segment;

Booking booking = new Booking()
        .setBookingType("$vehicle")
        .setTitle("2 Day Rental, New Hampshire")
        .setStartTime(2038412903L) // pickup time
        .setEndTime(2048412903L) // estimated drop-off time
        .setGuests(Arrays.asList(
                new Guest()
                        .setName("John Doe")
                        .setEmail("jdoe1985@domain.com"),
                new Guest()
                        .setName("Jane Doe")
                        .setEmail("jdoe1983@domain.com")
        .setSegments(Arrays.asList(
                new Segment()
                        .setDepartureAddress(new Address()
                                .setName("New London Branch")
                                .setPhone("1-415-555-6041)
                                .setAddress1("2100 Main Street")
                                .setCity("New London")
                                .setRegion("New Hampshire")
                                .setCountry("US")
                                .setZipCode("03257"))
                        .setArrivalAddress(new Address()
                                .setName("Concord Branch)
                                .setAddress1("213 Elm Street")
                                .setCity("Concord")
                                .setRegion("New Hampshire")
                                .setCountry("US")
                                .setZipCode("03301"))
                .setStartTime(2190121220L) // pickup time
                .setEndTime(2290122129L) // estimated drop-off time
                .setVesselNumber("Toyota Camry 5ABC580")
                .setFareClass("Compact")
        .setPrice(3200000L)
        .setCurrencyCode("USD")
        .setQuantity(2L);
</pre></div></div></div><div class="docs-partial events-api-complex-field-types-booking-cruise"><div><h1>$booking.cruise</h1><p>Tell Sift about the booking of a cruise ticket.</p><p>Each type of ticket should be its own booking - for example, an order reserving both premium and standard rooms
on the same cruise should get two booking objects.</p><p>A booking should also be for one trip - ie, a round trip should be split into two bookings.</p><ul class="api-fields"><li><div class="field">$booking_type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>$cruise</code></p></div></li><li><div class="field">$title</div><div class="value-details"><strong>String</strong><p>A description of the trip.</p></div></li><li><div class="field">$start_time</div><div class="value-details"><strong>Integer</strong><p>The departure time of the cruise. Send as a UNIX timestamp in milliseconds.</p></div></li><li><div class="field">$end_time</div><div class="value-details"><strong>Integer</strong><p>The arrival time of the cruise. Send as a UNIX timestamp in milliseconds.</p></div></li><li><div class="field">$price</div><div class="value-details"><strong>String</strong><p>The price per ticket of the cruise. Send this field in micros in the base unit of the <code>$currency_code</code>.
1 cent = 10,000 micros. $1.23 USD = 123 cents = 1,230,000 micros. For currencies without cents of
fractional denominations, like the Japanese Yen, use 1 JPY = 1000000 micros.</p></div></li><li><div class="field">$currency_code</div><div class="value-details"><strong>String</strong><p><a href='http://en.wikipedia.org/wiki/ISO_4217' target='_blank'>ISO-4217</a> currency code for the amount.
<em>e.g.</em>, USD, CAD, HKD. If your site uses alternative currencies, like bitcoin or points systems,
specify that here.</p></div></li><li><div class="field">$quantity</div><div class="value-details"><strong>Integer</strong><p>The count of tickets of the given type purchased by the user.</p></div></li><li><div class="field">$guests</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/guest">Array of Guests</span></strong><p>Details of the guests on the cruise. Send as much information about each guest as you capture.</p></div></li><li><div class="field">$segments</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/segment">Array of Segments</span></strong><p>For travel bookings, use this field to send information about the travel segments.
Eg. each item in this array would represent a flight segment, a rideshare ride etc</p></div></li><li><div class="field">$tags</div><div class="value-details"><strong>Array of Strings</strong><p>This field captures any descriptors of the reservation. For example, tags might be "last minute deal", "abcd cruise line", "contest winner" etc.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint curl code-partial">{
  "$booking_type" : "$cruise",
  "$title"        : "Luxury Pacific",
  "$start_time"   : 2038412903, // departure time
  "$end_time"     : 2048412903, // estimated arrival time
  "$guests"       : [
    {
      "$name"  : "John Doe",
      "$email" : "jdoe@domain.com"
    }
  ],
  "$segments" : [
    {
      "$departure_address"  : {
          "$name"       : "Luxury Cruise Pier 21",
          "$address_1"  : "Pier 21",
          "$city"       : "San Francisco",
          "$region"     : "California",
          "$country"    : "US",
          "$zipcode"    : "94401"
        },
      "$arrival_address"  : {
          "$name"       : "Luxury Cruise Pier 09",
          "$address_1"  : "213 Elm Street",
          "$city"       : "Honolulu",
          "$region"     : "Hawaii",
          "$country"    : "US",
          "$zipcode"    : "96795"
        },
      "$start_time"    : 2190121220,
      "$end_time"      : 2290122129,
      "$vessel_number" : "F312",
      "$fare_class"    : "Private Suite"
    }
  ],
  "$price"          : 300000,
  "$currency_code"  : "USD",
  "$quantity"       : 3,
  "$tags"           : ["Contest Winner"]
}
</pre><pre class="prettyprint python code-partial">{
  "$booking_type" : "$cruise",
  "$title"        : "Luxury Pacific"",
  "$start_time"   : 2038412903, # departure time
  "$end_time"     : 2048412903, # estimated arrival time
  "$guests"       : [
    {
      "$name"  : "John Doe",
      "$email" : "jdoe@domain.com"
    }
  ],
  "$segments" : [
    {
      "$departure_address"  : {
        "$name"      : "Luxury Cruise Pier 21",
        "$address_1" : "Pier 21",
        "$city"      : "San Francisco",
        "$region"    : "California",
        "$country"   : "US",
        "$zipcode"   : "94401"
    },
      "$arrival_address"  : {
        "$name"      : "Luxury Cruise Pier 09",
        "$address_1" : "213 Elm Street",
        "$city"      : "Honolulu",
        "$region"    : "Hawaii",
        "$country"   : "US",
        "$zipcode"   : "96795"
    },
    "$start_time"    : 2190121220,
    "$end_time"      : 2290122129,
    "$vessel_number" : "F312",
    "$fare_class"    : "Private Suite"
    }
  ],
  "$price"          : 300000,
  "$currency_code"  : "USD",
  "$quantity"       : 3,
  "$tags"           : ["Contest Winner"]
}
</pre><pre class="prettyprint ruby code-partial">{
  "$booking_type" => "$cruise",
  "$title"        => "Luxury Pacific",
  "$start_time"   => 2038412903, # departure time
  "$end_time"     => 2048412903, # estimated arrival time
  "$guests"       => [
    {
      "$name"   => "John Doe",
      "$email"  => "jdoe@domain.com"
    }
  ],
  "$segments" => [
    {
      "$departure_address"  => {
        "$name"      => "Luxury Cruise Pier 21",
        "$address_1" => "Pier 21",
        "$city"      => "San Francisco",
        "$region"    => "California",
        "$country"   => "US",
        "$zipcode"   => "94401"
      },
      "$arrival_address"  => {
      "$name"      => "Luxury Cruise Pier 09",
        "$address_1" => "213 Elm Street",
        "$city"      => "Honolulu",
        "$region"    => "Hawaii",
        "$country"   => "US",
        "$zipcode"   => "96795"
      },
      "$start_time"    => 2190121220,
      "$end_time"      => 2290122129,
      "$vessel_number" => "F312",
      "$fare_class"    => "Private Suite"
    }
  ],
  "$price"          => 300000,
  "$currency_code"  => "USD",
  "$quantity"       => 3,
  "$tags"           => ["Contest Winner"]
}
</pre><pre class="prettyprint php code-partial">array(
  '$booking_type' => '$cruise',
  '$title'        => 'Luxury Pacific',
  '$start_time'   => 2038412903, // departure time
  '$end_time'     => 2048412903, // estimated arrival time
  '$guests'       => array(
    array(
      '$name'  => 'John Doe',
      '$email' => 'jdoe@domain.com'
    )
  ),
  '$segments' => array(
    array(
      '$departure_address'  => {
        '$name'      => 'Luxury Cruise Pier 21',
        '$address_1' => 'Pier 21',
        '$city'      => 'San Francisco',
        '$region'    => 'California',
        '$country'   => 'US',
        '$zipcode'   => '94401'
      ),
      '$arrival_address'  => array(
        '$name'      => 'Luxury Cruise Pier 09',
        '$address_1' => '213 Elm Street',
        '$city'      => 'Honolulu',
        '$region'    => 'Hawaii',
        '$country'   => 'US',
        '$zipcode'   => '96795'
      ),
      '$start_time'    => 2190121220,
      '$end_time'      => 2290122129,
      '$vessel_number' => 'F312',
      '$fare_class'    => 'Private Suite'
  ),
  '$price'          => 3200000,
  '$currency_code'  => 'USD',
  '$quantity'       => 3,
  '$tags'           => array('Contest Winner')
)
</pre><pre class="prettyprint java code-partial">import java.util.Arrays;

import com.siftscience.model.Address;
import com.siftscience.model.Booking;
import com.siftscience.model.Segment;

Booking booking = new Booking()
        .setBookingType("$cruise")
        .setTitle("Luxury Pacific")
        .setStartTime(2038412903L) // departure time
        .setEndTime(2048412903L) // estimated arrival time
        .setGuests(Arrays.asList(
                new Guest()
                        .setName("John Doe")
                        .setEmail("jdoe@domain.com")
        .setSegments(Arrays.asList(
                new Segment()
                        .setDepartureAddress(new Address()
                                .setName("Luxury Cruise Pier 21")
                                .setAddress1("Pier 21")
                                .setCity("San Francisco")
                                .setRegion("California")
                                .setCountry("US")
                                .setZipCode("94401"))
                        .setArrivalAddress(new Address()
                                .setName("Luxury Cruise Pier 09")
                                .setAddress1("213 Elm Street")
                                .setCity("Honolulu")
                                .setRegion("Hawaii")
                                .setCountry("US")
                                .setZipCode("96795"))
                .setStartTime(2190121220L)
                .setEndTime(2290122129L)
                .setVesselNumber("F312")
                .setFareClass("Private Suite")
        .setPrice(300000L)
        .setCurrencyCode("USD")
        .setQuantity(3L)
        setTags(Arrays.asList("Contest Winner"));
</pre></div></div></div><div class="docs-partial events-api-complex-field-types-booking-other"><div><h1>$booking.other</h1><p>For any reservation use case not covered above, leverage whichever of the following fields are appropriate:</p><ul class="api-fields"><li><div class="field">$booking_type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p><code>$other</code></p></div></li><li><div class="field">$title</div><div class="value-details"><strong>String</strong><p>A description of the booking.</p></div></li><li><div class="field">$start_time</div><div class="value-details"><strong>Integer</strong><p>The start time of the reservation. Send as a UNIX timestamp in milliseconds.</p></div></li><li><div class="field">$end_time</div><div class="value-details"><strong>Integer</strong><p>The finish time of the reservation. Send as a UNIX timestamp in milliseconds.</p></div></li><li><div class="field">$price</div><div class="value-details"><strong>String</strong><p>The price per unit of the booking. Send this field in micros in the base unit of the <code>$currency_code</code>.
1 cent = 10,000 micros. $1.23 USD = 123 cents = 1,230,000 micros. For currencies without cents of
fractional denominations, like the Japanese Yen, use 1 JPY = 1000000 micros.</p></div></li><li><div class="field">$currency_code</div><div class="value-details"><strong>String</strong><p><a href='http://en.wikipedia.org/wiki/ISO_4217' target='_blank'>ISO-4217</a> currency code for the amount.
<em>e.g.</em>, USD, CAD, HKD. If your site uses alternative currencies, like bitcoin or points systems,
specify that here.</p></div></li><li><div class="field">$quantity</div><div class="value-details"><strong>Integer</strong><p>The count of reservations of the given type purchased by the user.</p></div></li><li><div class="field">$guests</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/guest">Array of Guests</span></strong><p>Details of the guests on the booking. Send as much information about each guest as you capture.</p></div></li><li><div class="field">$segments</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/segment">Array of Segments</span></strong><p>For bookings with multiple segments, use this field to send information about the travel segments. e.g.,
each item in this array would represent a flight leg.</p></div></li><li><div class="field">$room_type</div><div class="value-details"><strong>String</strong><p>For hotels or other accommodation bookings, this field represents the type of room. Eg. "Double Queen Deluxe"</p></div></li><li><div class="field">$event_id</div><div class="value-details"><strong>String</strong><p>For event ticket bookings, this field represents the internal identifier associated with the event.</p></div></li><li><div class="field">$venue_id</div><div class="value-details"><strong>String</strong><p>For event ticket bookings, this field represents the name of the venue.</p></div></li><li><div class="field">$location</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Address</span></strong><p>For event ticket and accommodation bookings, this field represents the address of venue or hotel respectively.</p></div></li><li><div class="field">$category</div><div class="value-details"><strong>String</strong><p>This field can be used to send the category of booking. For event tickets, this field captures the genre of a ticket.</p></div></li><li><div class="field">$tags</div><div class="value-details"><strong>Array of Strings</strong><p>This field captures any descriptors of the events. For event tickets, for example, tags might be team names, region, etc.</p></div></li></ul></div></div><div class="docs-partial events-api-complex-field-types-browser"><div><h1>Browser</h1><p>The <code>$browser</code> field type contains information about the browser.</p><ul class="api-fields"><li><div class="field">$user_agent</div><div class="value-details"><em>RECOMMENDED</em><strong> &middot; String</strong><p>The user agent of the browser that is interacting with your website.</p></div></li><li><div class="field">$accept_language</div><div class="value-details"><p>The language(s) that the client is requesting the site content be delivered in.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> format for country codes.
Examples: "en", "en-us, de", "fr-CH, fr;q=0.9, en;q=0.8, de;q=0.7, *;q=0.5", etc.</p></div></li><li><div class="field">$content_language</div><div class="value-details"><p>The language(s) of the user that the delivered site content is intended for.
Use <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> format for country codes.
Examples: "en", "en-us, de", "fr-CH, fr;q=0.9, en;q=0.8, de;q=0.7, *;q=0.5", etc.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint curl code-partial">{
  "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
  "$content_language" : "en-US",
  "$accept_language"  : "en-GB"
}
</pre><pre class="prettyprint python code-partial">{
  "$user_agent"       : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36",
  "$content_language" : "en-US",
  "$accept_language"  : "en-GB"
}
</pre><pre class="prettyprint ruby code-partial">{
  "$user_agent"       => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36"
  "$content_language" => "en-US",
  "$accept_language"  => "en-GB"
}
</pre><pre class="prettyprint php code-partial">// Example for the iOS Calculator app.
array(
  '$user_agent'       => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
  '$content_language' => 'en-US',
  '$accept_language'  => 'en-GB'
)
</pre><pre class="prettyprint java code-partial">import com.siftscience.model.Browser;

Browser browser = new Browser()
        .setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36")
        .setContentLanguage("en-US")
        .setAcceptLanguage("en-GB");
</pre></div></div></div><div class="docs-partial events-api-complex-field-types-credit-point"><div><h1>Credit Point</h1><p>The <strong>Credit Point</strong> field type generically models monetary and non-monetary rewards (e.g. in-game
currency, stored account value, MBs storage, frequent flyer miles, etc) associated with a promotion.
Credit points are usually used for promotions that apply at the account level. The value must be a nested
JSON object populated with the appropriate information to describe the credit_point. All values are required.</p><p>A <code>credit_point</code> is an object that gets included as part of promotion object. Learn more about
<span data-href='/events-api/complex-field-types/promotion'>promotions</span>.</p><ul class="api-fields"><li><div class="field">$amount</div><div class="value-details"><em>Required</em><strong> &middot; Integer</strong><p>The amount of credits the promotion is worth.</p></div></li><li><div class="field">$credit_point_type</div><div class="value-details"><em>Required</em><strong> &middot; String</strong><p>The type of credit point. Particularly useful if you have multiple types of credit points that
you give out. Enables us to distinguish amongst them to find patterns (e.g. days of free service,
karma, frequent flyer miles, MBs of storage, etc.).</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint curl code-partial">// Example of a credit point for an in-game currency
{
  "$amount"             : 5000,
  "$credit_point_type"  : "character xp points"
}
</pre><pre class="prettyprint python code-partial"># Example of a credit point for an in-game currency
{
  "$amount"             : 5000,
  "$credit_point_type"  : "character xp points"
}
</pre><pre class="prettyprint ruby code-partial"># Example of a credit point for an in-game currency
{
  "$amount"             => 5000,
  "$credit_point_type"  => "character xp points"
}
</pre><pre class="prettyprint php code-partial">// Example of a credit point for an in-game currency
array(
  '$amount'             => 5000,
  '$credit_point_type'  => 'character xp points'
);
</pre><pre class="prettyprint java code-partial">import com.siftscience.model.CreditPoint;

// Example of a credit point for an in-game currency
CreditPoint creditPoint = new CreditPoint()
        .setAmount(5000L)
        .setCreditPointType("character xp points");
</pre></div></div></div><div class="docs-partial events-api-complex-field-types-digital-order"><div><h1>Digital Order</h1><p>The <code>$digital_order</code> field type represents a digital asset which can be part of a cryptocurrency or
digital asset transaction. The value must be a nested object with the appropriate asset subfields.
Generally used in the <code>$create_order</code>, <code>$update_order</code>, or <code>$transaction</code> events. Please note
that <code>$digital_order</code> cannot be used with <code>$item</code> or <code>$booking</code>.</p><ul class="api-fields"><li><div class="field">$digital_asset</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The trading name of the asset.</p></div></li><li><div class="field">$pair</div><div class="value-details"><strong>String</strong><p>Trading pair symbol representing the conversion of one currency to another. For example, BTC_USD
represents moving bitcoin to US dollars.</p></div></li><li><div class="field">$asset_type</div><div class="value-details"><strong>String</strong><p>Any digital asset that has value or established ownership.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li class="inline"><code>$coin</code><code>$commodity</code><code>$crypto</code><code>$fiat</code><code>$token</code></li></ul></div></li><li><div class="field">$order_type</div><div class="value-details"><strong>String</strong><p>The type of trade or exchange being made.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li class="inline"><code>$limit</code><code>$market</code><code>$stop_limit</code><code>$stop_loss</code><code>$take_profit</code><code>$take_profit_limit</code></li></ul></div></li><li><div class="field">$volume</div><div class="value-details"><strong>String</strong><p>The amount or quantity of the digital asset. This should be a string representation of a double value.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint curl code-partial">"$digital_orders" : [
  {
    "$digital_asset" : "BTC",
    "$pair"          : "BTC_USD",
    "$asset_type"    : "$crypto",
    "$order_type"    : "$market",
    "$volume"        : "6.0"
  }
]
</pre><pre class="prettyprint python code-partial">"$digital_orders" : [
  {
    "$digital_asset" : "BTC",
    "$pair"          : "BTC_USD",
    "$asset_type"    : "$crypto",
    "$order_type"    : "$market",
    "$volume"        : "6.0"
  }
]
</pre><pre class="prettyprint ruby code-partial">"$digital_orders" => [
  {
    "$digital_asset" => "BTC",
    "$pair"          => "BTC_USD",
    "$asset_type"    => "$crypto",
    "$order_type"    => "$market",
    "$volume"        => "6.0"
  }
]
</pre><pre class="prettyprint php code-partial">$digital_orders = array(
  array(
    '$digital_asset' => 'BTC',
    '$pair'          => 'BTC_USD',
    '$asset_type'    => '$crypto',
    '$order_type'    => '$market',
    '$volume'        => '6.0'
  )
)
</pre><pre class="prettyprint java code-partial"> import com.siftscience.model.DigitalOrder;

 List&lt;DigitalOrder&gt; digitalOrders = Arrays.asList(
    new DigitalOrder()
        .setDigitalAsset("BTC")
        .setPair("BTC_USD")
        .setAssetType("$crypto")
        .setOrderType("$market")
        .setVolume("6.0")
);
</pre></div></div></div><div class="docs-partial events-api-complex-field-types-discount"><div><h1>Discount</h1><p>The <strong>Discount</strong> field type generically models monetary discounts that are associated with a
promotion (e.g. $25 off an order of $100 or more, 10% off, etc). Discounts are usually used for
promotions that apply at the order level. The value must be a nested JSON object populated with the
appropriate information to describe the discount. Not all sub-fields will likely apply to a given
discount. Populate only those that apply.</p><p>A <code>discount</code> is an object that gets included as part of promotion object. Learn more about
<span data-href='/events-api/complex-field-types/promotion'>promotions</span>.</p><ul class="api-fields"><li><div class="field">$percentage_off</div><div class="value-details"><strong>Float</strong><p>The percentage discount. If the discount is 10% off, you would send "0.1".</p></div></li><li><div class="field">$amount</div><div class="value-details"><strong>Integer</strong><p>The amount of the discount that the promotion offers in micros in the base unit of the
<code>$currency_code</code>. 1 cent = 10,000 micros. $1.23 USD = 123 cents = 1,230,000 micros.
For currencies without cents of fractional denominations, like the Japanese Yen, use 1 JPY =
1000000 micros.</p></div></li><li><div class="field">$currency_code</div><div class="value-details"><strong>String</strong><p><a href='http://en.wikipedia.org/wiki/ISO_4217' target='_blank'>ISO-4217</a> currency code for the amount.
<em>e.g.</em>, USD, CAD, HKD. If your site uses alternative currencies, like bitcoin or points systems,
specify that here.</p></div></li><li><div class="field">$minimum_purchase_amount</div><div class="value-details"><strong>Integer</strong><p>The minimum amount someone must spend in order for the promotion to be applied. The amount should be in
micros in the base unit of the  <code>$currency_code</code>. 1 cent = 10,000 micros. $1.23 USD = 123
cents = 1,230,000 micros. For currencies without cents of fractional denominations, like the Japanese
Yen, use 1 JPY = 1000000 micros.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint curl code-partial">// Example of a monetary discount off goods or services
{
  "$percentage_off"          : 0.2,  // 20% off
  "$amount"                  : 115940000,  // $115.94
  "$currency_code"           : "USD",
  "$minimum_purchase_amount" : 50000000  // $50
}
</pre><pre class="prettyprint python code-partial"># Example of a monetary discount off goods or services
{
  "$percentage_off"          : 0.2,  # 20% off
  "$amount"                  : 115940000,  # $115.94
  "$currency_code"           : "USD",
  "$minimum_purchase_amount" : 50000000  # $50
}
</pre><pre class="prettyprint ruby code-partial"># Example of a monetary discount off goods or services
{
  "$percentage_off"          => 0.2,  # 20% off
  "$amount"                  => 115940000,  # $115.94
  "$currency_code"           => "USD",
  "$minimum_purchase_amount" => 50000000  # $50
}
</pre><pre class="prettyprint php code-partial">// Example of a monetary discount off goods or services
array(
  '$percentage_off'          => 0.2,  // 20% off
  '$amount'                  => 115940000,  // $115.94
  '$currency_code'           => 'USD',
  '$minimum_purchase_amount' => 50000000  // $50
);
</pre><pre class="prettyprint java code-partial">import com.siftscience.model.Discount;

// Example of a monetary discount off goods or services
Discount discount = new Discount()
        .setPercentageOff(0.2) // 20% off
        .setAmount(115940000L) // $115.94
        .setCurrencyCode("USD")
        .setMinimumPurchaseAmount(50000000L); // $50
</pre></div></div></div><div class="docs-partial events-api-complex-field-types-guest"><div><h1>Guest</h1><p>The <strong>Guest</strong> field type represents a person using a booking. The value must be a nested object with the
appropriate subfields.</p><p><code>$guest</code> is used as an array item in the <code>$guests</code> subfield of <code>$booking</code>.</p><ul class="api-fields"><li><div class="field">$name</div><div class="value-details"><strong>String</strong><p>Name of the individual on the booking.</p></div></li><li><div class="field">$email</div><div class="value-details"><strong>String</strong><p>The email address provided for the guest.</p></div></li><li><div class="field">$phone</div><div class="value-details"><strong>String</strong><p>The phone number provided for the guest. Provide the phone number as a string starting with
the country code. Use <a href='https://en.wikipedia.org/wiki/E.164' target='_blank'>E.164</a>
format or send in the standard national format of number's origin. For example: "+14155556041" or
"1-415-555-6041" for a U.S. number.</p></div></li><li><div class="field">$loyalty_program</div><div class="value-details"><strong>String</strong><p>The name of the loyalty program used for this guest.</p></div></li><li><div class="field">$loyalty_program_id</div><div class="value-details"><strong>String</strong><p>The membership id for the loyalty program used for this guest.</p></div></li><li><div class="field">$birth_date</div><div class="value-details"><strong>String</strong><p>The date of birth of the guest. Use <a href='https://en.wikipedia.org/wiki/ISO_8601' target='_blank'>ISO 8601</a>
format, e.g. "1985-03-20" or "19850320"</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint curl code-partial">{
  "$name"                : "John Doe",
  "$birth_date"          : "1985-01-19",
  "$loyalty_program"     : "skymiles",
  "$loyalty_program_id"  : "PSOV34DF",
  "$phone"               : "1-415-555-6040",
  "$email"               : "jdeo@domain.com"
}
</pre><pre class="prettyprint python code-partial">{
  "$name"                : "John Doe",
  "$birth_date"          : "1985-01-19",
  "$loyalty_program"     : "skymiles",
  "$loyalty_program_id"  : "PSOV34DF",
  "$phone"               : "1-415-555-6040",
  "$email"               : "jdeo@domain.com"
}
</pre><pre class="prettyprint ruby code-partial">{
  "$name"                => "John Doe",
  "$birth_date"          => "1985-01-19",
  "$loyalty_program"     => "skymiles",
  "$loyalty_program_id"  => "PSOV34DF",
  "$phone"               => "1-415-555-6040",
  "$email"               => "jdeo@domain.com"
}
</pre><pre class="prettyprint php code-partial">array(
  '$name'                 => 'John Doe',
  '$birth_date'           => '1985-01-19',
  '$loyalty_program'      => 'skymiles'
  '$loyalty_program_id'   => 'PSOV34DF',
  '$phone'                => '1-415-555-6040',
  '$email'                => 'jdeo@domain.com'
);
</pre><pre class="prettyprint java code-partial">import com.siftscience.model.Guest;

Guest guest1 = new Guest()
        .setName("John Doe")
        .setBirthDate("1985-01-19")
        .setLoyaltyProgram("skymiles")
        .setLoyaltyProgramId("PSOV34DF")
        .setPhone("1-415-555-6040")
        .setEmail("jdeo@domain.com");
</pre></div></div></div><div class="docs-partial events-api-complex-field-types-image"><div><h1>Image</h1><p>The <strong>Image</strong> complex type represents an image hosted on your website or app, typically uploaded by a user.
 Used in the in one of the <code>$create_content</code> or <code>$update_content</code> events.</p><ul class="api-fields"><li><div class="field">$md5_hash</div><div class="value-details"><strong>String</strong><p>The MD5 hash of the image file. A hexadecimal hash for a single file could look like this:
 <code>0cc175b9c0f1b6a831c399e269772661</code>.</p></div></li><li><div class="field">$link</div><div class="value-details"><strong>String</strong><p>A hyperlink to the image file.</p></div></li><li><div class="field">$description</div><div class="value-details"><strong>String</strong><p>The user-supplied caption with the image.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint curl code-partial">// Example $image field value
{
  "$md5_hash"     : "0cc175b9c0f1b6a831c399e269772661",
  "$link"         : "https://www.example.com/file.png",
  "$description"  : "Example picture"
}</pre><pre class="prettyprint ruby code-partial"># Example $image field value
{
  '$md5_hash'     => '0cc175b9c0f1b6a831c399e269772661',
  '$link'         => 'https://www.example.com/file.png',
  '$description'  => 'Example picture'
}</pre><pre class="prettyprint python code-partial"># Example $image field value
{
  "$md5_hash"     : "0cc175b9c0f1b6a831c399e269772661",
  "$link"         : "https://www.example.com/file.png",
  "$description"  : "Example picture"
}</pre><pre class="prettyprint php code-partial">// Example $image field value
array(
  '$md5_hash'     => '0cc175b9c0f1b6a831c399e269772661',
  '$link'         => 'https://www.example.com/file.png',
  '$description'  => 'Example picture'
)</pre><pre class="prettyprint java code-partial">// Example $image field value
Image image = new Image()
        .setMd5Hash("0cc175b9c0f1b6a831c399e269772661")
        .setLink("https://www.example.com/file.png")
        .setDescription("Example picture");
</pre></div></div></div><div class="docs-partial events-api-complex-field-types-item"><div><h1>Item</h1><p>The <strong>Item</strong> field type represents a product or service for sale
in your business. The value must be a nested object with the appropriate
item subfields. Generally used in the <code>$add_item_to_cart</code> and
<code>$remove_item_from_cart</code> events. An <code>$item</code> is represented
as a nested JSON object.</p><p>Please note that <code>$item</code> cannot be used with <code>$booking</code>. Customers in event ticketing or travel
(such as OTAs, Rideshare, Vehicle rentals, Hotels, etc) should use <code>$booking</code> instead to leverage
Sift’s specialization in Travel and Ticketing use cases.</p><ul class="api-fields"><li><div class="field">$item_id</div><div class="value-details"><strong>String</strong><p>The item's unique identifier according to your systems.  Use the same ID that you would use to look up
items on your website's database.</p></div></li><li><div class="field">$product_title</div><div class="value-details"><strong>String</strong><p>The item's name, <em>e.g.</em>, "Men's Running Springblade Drive Shoes, US10".</p></div></li><li><div class="field">$price</div><div class="value-details"><strong>Integer</strong><p>The item unit price in micros, in the base unit of the <code>$currency_code</code>. 1 cent = 10,000 micros.
$1.23 USD = 123 cents = 1,230,000 micros.</p></div></li><li><div class="field">$currency_code</div><div class="value-details"><strong>String</strong><p><a href="http://en.wikipedia.org/wiki/ISO_4217" target="_blank">ISO-4217</a> currency code for the price.</p></div></li><li><div class="field">$quantity</div><div class="value-details"><strong>Integer</strong><p>Quantity of the item.</p></div></li><li><div class="field">$upc</div><div class="value-details"><strong>String</strong><p>If the item has a <a href="http://en.wikipedia.org/wiki/Universal_Product_Code">Universal Product Code</a>
(UPC), provide it here.</p></div></li><li><div class="field">$sku</div><div class="value-details"><strong>String</strong><p>If the item has a <a href="http://en.wikipedia.org/wiki/Stock_keeping_unit">Stock-keeping Unit</a>
 ID (SKU), provide it here.</p></div></li><li><div class="field">$isbn</div><div class="value-details"><strong>String</strong><p>If the item is a book with an<a href="http://en.wikipedia.org/wiki/International_Standard_Book_Number">International Standard Book Number</a> (ISBN), provide it here.</p></div></li><li><div class="field">$brand</div><div class="value-details"><strong>String</strong><p>The brand name of the item.</p></div></li><li><div class="field">$manufacturer</div><div class="value-details"><strong>String</strong><p>Name of the item's manufacturer.</p></div></li><li><div class="field">$category</div><div class="value-details"><strong>String</strong><p>The category this item is listed under in your business. <em>e.g.</em>, "kitchen appliance", "menswear > pants".</p></div></li><li><div class="field">$tags</div><div class="value-details"><strong>Array of Strings</strong><p>The tags used to describe this item in your business. <em>e.g.</em>, "funny", "halloween".</p></div></li><li><div class="field">$color</div><div class="value-details"><strong>String</strong><p>The color of the item.</p></div></li><li><div class="field">$size</div><div class="value-details"><strong>String</strong><p>The size of the item.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint curl code-partial">// Example 1
"$item" : {
  "$item_id"        : "B004834GQO",
  "$product_title"  : "The Slanket Blanket-Texas Tea",
  "$price"          : 39990000,  // $39.99
  "$currency_code"  : "USD",
  "$upc"            : "67862114510011",
  "$sku"            : "004834GQ",
  "$brand"          : "Slanket",
  "$manufacturer"   : "Slanket",
  "$category"       : "Blankets & Throws",
  "$tags"           : ["Awesome", "Wintertime specials"],
  "$color"          : "Texas Tea",
  "$quantity"       : 6
}

// Example 2
"$item" : {
  "$item_id"        : "10101042",
  "$product_title"  : "Delivering Happiness [eBook edition]",
  "$price"          : 6990000, // $6.99
  "$currency_code"  : "CDN",
  "$isbn"           : "0446576220",
  "$sku"            : "10101042",
  "$brand"          : "Writers of the Round Table Press",
  "$manufacturer"   : "eBook Digital Services, Inc.",
  "$category"       : "Business books",
  "$tags"           : ["reprint", "paperback", "Tony Hsieh"],
  "$quantity"       : 1
}
</pre><pre class="prettyprint python code-partial"># Example 1
item = {
  "$item_id"        : "B004834GQO",
  "$product_title"  : "The Slanket Blanket-Texas Tea",
  "$price"          : 39990000,  # $39.99
  "$currency_code"  : "USD",
  "$upc"            : "67862114510011",
  "$sku"            : "004834GQ",
  "$brand"          : "Slanket",
  "$manufacturer"   : "Slanket",
  "$category"       : "Blankets & Throws",
  "$tags"           : ["Awesome", "Wintertime specials"],
  "$color"          : "Texas Tea",
  "$quantity"       : 6
}

# Example 2
item = {
  "$item_id"        : "10101042",
  "$product_title"  : "Delivering Happiness [eBook edition]",
  "$price"          : 6990000, # $6.99
  "$currency_code"  : "CDN",
  "$isbn"           : "0446576220",
  "$sku"            : "10101042",
  "$brand"          : "Writers of the Round Table Press",
  "$manufacturer"   : "eBook Digital Services, Inc.",
  "$category"       : "Business books",
  "$tags"           : ["reprint", "paperback", "Tony Hsieh"],
  "$quantity"       : 1
}
</pre><pre class="prettyprint ruby code-partial"># Example 1
item = {
  "$item_id"        => "B004834GQO",
  "$product_title"  => "The Slanket Blanket-Texas Tea",
  "$price"          => 39990000,  # $39.99
  "$currency_code"  => "USD",
  "$upc"            => "67862114510011",
  "$sku"            => "004834GQ",
  "$brand"          => "Slanket",
  "$manufacturer"   => "Slanket",
  "$category"       => "Blankets & Throws",
  "$tags"           => ["Awesome", "Wintertime specials"],
  "$color"          => "Texas Tea",
  "$quantity"       => 6
}

# Example 2
item = {
  "$item_id"        => "10101042",
  "$product_title"  => "Delivering Happiness [eBook edition]",
  "$price"          => 6990000, # $6.99
  "$currency_code"  => "CDN",
  "$isbn"           => "0446576220",
  "$sku"            => "10101042",
  "$brand"          => "Writers of the Round Table Press",
  "$manufacturer"   => "eBook Digital Services, Inc.",
  "$category"       => "Business books",
  "$tags"           => ["reprint", "paperback", "Tony Hsieh"],
  "$quantity"       => 1
}
</pre><pre class="prettyprint php code-partial">// Example 1
$item = array(
  '$item_id'        => 'B004834GQO',
  '$product_title'  => 'The Slanket Blanket-Texas Tea',
  '$price'          => 39990000,  // $39.99
  '$currency_code'  => 'USD',
  '$upc'            => '67862114510011',
  '$sku'            => '004834GQ',
  '$brand'          => 'Slanket',
  '$manufacturer'   => 'Slanket',
  '$category'       => 'Blankets & Throws',
  '$tags'           => ['Awesome', 'Wintertime specials'],
  '$color'          => 'Texas Tea',
  '$quantity'       => 6
);

// Example 2
$item = array(
  '$item_id'        => '10101042',
  '$product_title'  => 'Delivering Happiness [eBook edition]',
  '$price'          => 6990000, // $6.99
  '$currency_code'  => 'CDN',
  '$isbn'           => '0446576220',
  '$sku'            => '10101042',
  '$brand'          => 'Writers of the Round Table Press',
  '$manufacturer'   => 'eBook Digital Services, Inc.',
  '$category'       => 'Business books',
  '$tags'           => ['reprint', 'paperback', 'Tony Hsieh'],
  '$quantity'       => 1
);
</pre><pre class="prettyprint java code-partial">import com.siftscience.model.Item;

// Example 1
Item item1 = new Item()
        .setItemId("B004834GQO")
        .setProductTitle("The Slanket Blanket-Texas Tea")
        .setPrice(39990000L) // $39.99
        .setCurrencyCode("USD")
        .setUpc("67862114510011")
        .setSku("004834GQ")
        .setBrand("Slanket")
        .setManufacturer("Slanket")
        .setCategory("Blankets & Throws")
        .setTags(Arrays.asList("Awesome", "Wintertime specials"))
        .setColor("Texas Tea")
        .setQuantity(6L);

// Example 2
Item item2 = new Item()
        .setItemId("10101042")
        .setProductTitle("Delivering Happiness [eBook edition]")
        .setPrice(6990000L) // $6.99
        .setCurrencyCode("CDN")
        .setIsbn("0446576220")
        .setSku("10101042")
        .setBrand("Writers of the Round Table Press")
        .setManufacturer("Writers of the Round Table Press")
        .setCategory("Business books")
        .setTags(Arrays.asList("reprint", "paperback", "Tony Hsieh"))
        .setQuantity(1L);
</pre></div></div></div><div class="docs-partial events-api-complex-field-types-merchant-profile"><div><h1>Merchant Profile</h1><p>The <code>$merchant_profile</code> field type contains information about the merchant or seller providing the goods or service.</p><ul class="api-fields"><li><div class="field">$merchant_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The internal identifier for the merchant or seller providing the good or service.</p></div></li><li><div class="field">$merchant_category_code</div><div class="value-details"><strong>String</strong><p>The merchant category code follows the 4-digit ISO code. Use <a href="https://en.wikipedia.org/wiki/ISO_18245">ISO-18245</a> MCC ISO Merchant Category Code.</p></div></li><li><div class="field">$merchant_name</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The name of the merchant or seller providing the good or service.</p></div></li><li><div class="field">$merchant_address</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Address</span></strong><p>The address associated with the merchant of record.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint curl code-partial">"$merchant_profile" : {
  "$merchant_id"            : "AX527123",
  "$merchant_category_code" : "1234",
  "$merchant_name"          : "Dream Company",
  "$merchant_address" : {
    "$phone"      : "1-415-555-6040",
    "$address_1"  : "2100 Main Street",
    "$address_2"  : "Apt 3B",
    "$city"       : "New London",
    "$region"     : "New Hampshire",
    "$country"    : "US",
    "$zipcode"    : "03257"
  }
}
</pre><pre class="prettyprint python code-partial">"$merchant_profile" : {
  "$merchant_id"            : "AX527123",
  "$merchant_category_code" : "1234",
  "$merchant_name"          : "Dream Company",
  "$merchant_address" : {
    "$phone"      : "1-415-555-6040",
    "$address_1"  : "2100 Main Street",
    "$address_2"  : "Apt 3B",
    "$city"       : "New London",
    "$region"     : "New Hampshire",
    "$country"    : "US",
    "$zipcode"    : "03257"
  }
}
</pre><pre class="prettyprint ruby code-partial">"$merchant_profile" => {
  "$merchant_id"            => "AX527123",
  "$merchant_category_code" => "1234",
  "$merchant_name"          => "Dream Company",
  "$merchant_address" => {
    "$phone"      => "1-415-555-6040",
    "$address_1"  => "2100 Main Street",
    "$address_2"  => "Apt 3B",
    "$city"       => "New London",
    "$region"     => "New Hampshire",
    "$country"    => "US",
    "$zipcode"    => "03257"
  }
}
</pre><pre class="prettyprint php code-partial">$merchant_profile = array(
  '$merchant_id'            => 'AX527123',
  '$merchant_category_code' => '1234',
  '$merchant_name'          => 'Dream Company',
  '$merchant_address' => array(
    '$phone'      => '1-415-555-6040',
    '$address_1'  => '2100 Main Street',
    '$address_2'  => 'Apt 3B',
    '$city'       => 'New London',
    '$region'     => 'New Hampshire',
    '$country'    => 'US',
    '$zipcode'    => '03257'
  )
)
</pre><pre class="prettyprint java code-partial">import com.siftscience.model.MerchantProfile;

MerchantProfile merchantProfile = new MerchantProfile()
        .setMerchantId("AX527123")
        .setMerchantCategoryCode("1234")
        .setMerchantName("Dream Company)
        .setMerchantAddress(new Address()
                .setPhone("1-415-555-6040")
                .setAddress1("2100 Main Street")
                .setAddress2("Apt 3B)
                .setCity("New London")
                .setRegion("New Hampshire")
                .setCountry("US")
                .setZipCode("03257"));
</pre></div></div></div><div class="docs-partial events-api-complex-field-types-ordered-from"><div><h1>Ordered From</h1><p>The <code>$ordered_from</code> field type contains information about the specific physical location providing the good or service.
This can also be used to capture pickup, delivery locations, etc.</p><p>We use the values of the latest version of the <code>$ordered_from</code> object for each <code>$order_id</code> for reporting in your console.
If you send all other fields except <code>$zipcode</code>in a <code>$create_order</code> and then send only <code>$zipcode</code> in a later, associated
<code>$transaction</code> for the same <code>$order_id</code>, we will only use <code>$zipcode</code> for this order in reporting and
forget the initial <code>$ordered_from</code> fields sent. So, we recommend that you send this object in either the
<code>$create_order</code>/<code>$update_order</code> events OR in <code>$transaction</code> events, but not in both. Choose the time where you have the most
information to send or where it is easiest to include.</p><ul class="api-fields"><li><div class="field">$store_id</div><div class="value-details"><strong>String</strong><p>The customer’s internal identifier for the specific physical location providing the good or service.</p></div></li><li><div class="field">$store_address</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Address</span></strong><p>The address of the specific physical location providing the good or service.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint curl code-partial">"$ordered_from" : {
  "$store_id"      : "123",
  "$store_address" : {
    "$name"       : "Bill Jones",
    "$phone"      : "1-415-555-6040",
    "$address_1"  : "2100 Main Street",
    "$address_2"  : "Apt 3B",
    "$city"       : "New London",
    "$region"     : "New Hampshire",
    "$country"    : "US",
    "$zipcode"    : "03257"
  }
}
</pre><pre class="prettyprint python code-partial">"$ordered_from" : {
  "$store_id"      : "123",
  "$store_address" : {
    "$name"       : "Bill Jones",
    "$phone"      : "1-415-555-6040",
    "$address_1"  : "2100 Main Street",
    "$address_2"  : "Apt 3B",
    "$city"       : "New London",
    "$region"     : "New Hampshire",
    "$country"    : "US",
    "$zipcode"    : "03257"
  }
}
</pre><pre class="prettyprint ruby code-partial">"$ordered_from" => {
  "$store_id"      => "123",
  "$store_address" => {
    "$name"       => "Bill Jones",
    "$phone"      => "1-415-555-6040",
    "$address_1"  => "2100 Main Street",
    "$address_2"  => "Apt 3B",
    "$city"       => "New London",
    "$region"     => "New Hampshire",
    "$country"    => "US",
    "$zipcode"    => "03257"
  }
}
</pre><pre class="prettyprint php code-partial">$ordered_from = array(
  '$store_id'      => '123',
  '$store_address' => array(
    '$name'       => 'Bill Jones',
    '$phone'      => '1-415-555-6040',
    '$address_1'  => '2100 Main Street',
    '$address_2'  => 'Apt 3B',
    '$city'       => 'New London',
    '$region'     => 'New Hampshire',
    '$country'    => 'US',
    '$zipcode'    => '03257'
  )
)
</pre><pre class="prettyprint java code-partial">import com.siftscience.model.OrderedFrom;

OrderedFrom orderedFrom = new OrderedFrom()
        .setStoreId("123")
        .setStoreAddress(new Address()
                .setName("New London Stop")
                .setAddress1("2100 Main Street")
                .setCity("New London")
                .setRegion("New Hampshire")
                .setCountry("US")
                .setZipCode("03257"));
</pre></div></div></div><div class="docs-partial events-api-complex-field-types-payment-method"><div><h1>Payment Method</h1><p>The <strong>payment_method</strong> field type represents information about the
payment methods provided by the user. The value must be a nested object with
the appropriate item subfields for the given payment method. Generally used
with the <code>$create_order</code> or <code>$transaction</code> events.</p><ul class="api-fields"><li><div class="field">$payment_type</div><div class="value-details"><strong>String</strong><p>The general type of payment being used.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li class="inline"><code>$cash</code><code>$check</code><code>$credit_card</code><code>$crypto_currency</code><code>$debit_card</code><code>$digital_wallet</code><code>$electronic_fund_transfer</code>
<code>$financing</code><code>$gift_card</code><code>$invoice</code><code>$in_app_purchase</code><code>$money_order</code>
<code>$points</code><code>$prepaid_card</code><code>$store_credit</code><code>$third_party_processor</code><code>$voucher</code><code>$sepa_credit</code><code>$sepa_instant_credit</code>
<code>$sepa_direct_debit</code><code>$ach_credit</code><code>$ach_debit</code><code>$wire_credit</code><code>$wire_debit</code></li></ul><p>If your payment system is not covered by one of the values above please <a href="/contact-support">contact support</a>.</p></div></li><li><div class="field">$payment_gateway</div><div class="value-details"><strong>String</strong><p>The specific gateway, company, product, etc. being used to process payment.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li class="inline"><code>$abra</code><code>$acapture</code><code>$accpet_blue</code><code>$adyen</code><code>$aeropay</code><code>$afex</code><code>$affinipay</code>
<code>$affipay</code><code>$affirm</code><code>$afrivoucher</code><code>$afterpay</code><code>$airwallex</code><code>$alipay</code><code>$alipay_hk</code>
<code>$allpago</code><code>$altapay</code><code>$amazon_payments</code><code>$ambank_fpx</code><code>$amex_checkout</code>
<code>$android_iap</code><code>$android_pay</code><code>$apg</code><code>$aplazo</code><code>$apple_iap</code><code>$apple_pay</code><code>$argus</code>
<code>$asiabill</code><code>$astropay</code><code>$atrium</code><code>$au_kantan</code><code>$authorizenet</code><code>$avangate</code>
<code>$balanced</code><code>$bancodobrasil</code><code>$bancontact</code><code>$bancoplural</code><code>$banorte</code><code>$banrisul</code>
<code>$banwire</code><code>$barclays</code><code>$bayanpay</code><code>$bbcn</code><code>$bcb</code><code>$beanstream</code>
<code>$belfius</code><code>$best_inc</code><code>$billdesk</code><code>$billpocket</code><code>$bitcash</code><code>$bitgo</code><code>$bitpay</code>
<code>$bizum</code><code>$blackhawk</code><code>$blik</code><code>$blockchain</code><code>$bluepay</code><code>$bluesnap</code>
<code>$bnpparibas</code><code>$boacompra</code><code>$bob</code><code>$boku</code><code>$bold</code><code>$boletobancario</code>
<code>$boltpay</code><code>$bpay</code><code>$bradesco</code><code>$braintree</code><code>$bread</code><code>$bridgepay</code>
<code>$brite</code><code>$buckaroo</code>
<code>$cadc</code><code>$cardconnect</code><code>$cardknox</code><code>$cashlib</code><code>$catchball</code><code>$ccbill</code>
<code>$ccavenue</code><code>$ceevo</code><code>$cepbank</code><code>$chain_commerce</code><code>$chase_paymentech</code>
<code>$checkalt</code><code>$checkoutcom</code><code>$cielo</code><code>$circle</code><code>$citrus_pay</code>
<code>$clear_junction</code><code>$clearbridge</code><code>$clearsettle</code><code>$clearcommerce</code>
<code>$cleverbridge</code><code>$close_brothers</code><code>$cloudpayments</code><code>$codi</code><code>$cofinoga</code><code>$coinbase</code>
<code>$coindirect</code><code>$coinpayments</code><code>$collector</code><code>$community_bank_transfer</code>
<code>$commweb</code><code>$compropago</code><code>$concardis</code><code>$conekta</code><code>$credit_union_atlantic</code>
<code>$credorax</code><code>$credsystem</code><code>$cross_river</code><code>$cuentadigital</code><code>$culqi</code>
<code>$cybersource</code><code>$cryptocapital</code><code>$cryptopay</code><code>$currencycloud</code>
<code>$d_barai</code><code>$dana</code><code>$daopay</code><code>$datacash</code><code>$dbs_paylah</code><code>$dcbank</code><code>$debitway</code><code>$deltec</code>
<code>$democracy_engine</code><code>$deutsche_bank</code><code>$dibs</code><code>$digital_river</code><code>$digitalpay</code>
<code>$dlocal</code><code>$docomo</code><code>$doko</code><code>$dospara</code><code>$dotpay</code><code>$dragonpay</code><code>$dwolla</code>
<code>$ebanx</code><code>$ecommpay</code><code>$ecopayz</code><code>$edenred</code><code>$edgil_payway</code><code>$efecty</code>
<code>$eft</code><code>$elavon</code><code>$empcorp</code><code>$enets</code><code>$epay</code><code>$epayeu</code><code>$epoch</code><code>$epospay</code>
<code>$eprocessing_network</code><code>$eps</code><code>$esitef</code><code>$etana</code><code>$euteller</code><code>$everypay</code>
<code>$eway</code><code>$e_xact</code>
<code>$fastnetwork</code><code>$fat_zebra</code><code>$fidor</code><code>$finix</code><code>$fiserv</code>
<code>$first_atlantic_commerce</code><code>$first_data</code><code>$flexepin</code><code>$flexiti</code><code>$fluidpay</code>
<code>$flutterwave</code><code>$fpx</code><code>$frick</code><code>$fxpaygate</code>
<code>$g2apay</code><code>$galileo</code><code>$gcash</code><code>$geoswift</code><code>$getnet</code><code>$giropay</code>
<code>$globalcollect</code><code>$global_payments</code><code>$global_payways</code><code>$gmo</code><code>$gmopg</code>
<code>$gocardless</code><code>$gocoin</code><code>$google_pay</code><code>$google_wallet</code><code>$grabpay</code>
<code>$hanmi</code><code>$happy_money</code><code>$hayhay</code><code>$hdfc_fssnet</code><code>$heidelpay</code><code>$hipay</code><code>$humm</code>
<code>$hyperpay</code>
<code>$i2c</code><code>$ibok</code><code>$ideal</code><code>$ikajo</code><code>$incomm</code><code>$incore</code><code>$ingenico</code>
<code>$inghomepay</code><code>$inovapay</code><code>$inovio</code><code>$instamojo</code><code>$interac</code>
<code>$internetsecure</code><code>$interswitch</code><code>$intuit_quickbooks_payments</code><code>$ipay</code>
<code>$isignthis</code><code>$itau</code><code>$itelebill</code><code>$iugu</code><code>$ixopay</code><code>$iyzico</code>
<code>$izettle</code>
<code>$jabong</code><code>$jatis</code><code>$jeton</code><code>$jnfx</code><code>$juspay</code>
<code>$kakaopay</code><code>$kash</code><code>$kbc</code><code>$kddi</code><code>$kevin</code><code>$klarna</code><code>$knet</code><code>$komoju</code><code>$konbini</code>
<code>$kushki</code>
<code>$latamgateway</code><code>$latampass</code><code>$laybuy</code><code>$lean</code><code>$lemonway</code><code>$lifemiles</code>
<code>$limelight</code><code>$linepay</code><code>$link4pay</code><code>$logon</code>
<code>$mada</code><code>$mangopay</code><code>$mastercard_payment_gateway</code><code>$masterpass</code>
<code>$maxipago</code><code>$maxpay</code><code>$maybank</code><code>$mcb</code><code>$meikopay</code><code>$mercadopago</code>
<code>$merchant_esolutions</code><code>$merpay</code><code>$midtrans</code><code>$minerva</code><code>$mirjeh</code><code>$mobile_money</code>
<code>$mockpay</code><code>$moip</code><code>$mollie</code><code>$momopay</code><code>$moneris_solutions</code><code>$moneygram</code>
<code>$monoova</code><code>$moyasar</code><code>$mpesa</code><code>$muchbetter</code><code>$multibanco</code>
<code>$multicaja</code><code>$multiplus</code><code>$mvb</code><code>$mybank</code><code>$myfatoorah</code>
<code>$nanaco</code><code>$nanoplazo</code><code>$naranja</code><code>$naverpay</code><code>$neosurf</code><code>$net_cash</code><code>$netbilling</code>
<code>$netregistry</code><code>$neteller</code>
<code>$network_for_good</code><code>$nhn_kcp</code><code>$nicepay</code><code>$ngenius</code><code>$nmcryptgate</code>
<code>$nmi</code><code>$noble</code><code>$noon_payments</code>
<code>$ocean</code><code>$ogone</code><code>$okpay</code><code>$omcp</code><code>$omise</code><code>$onebip</code><code>$opay</code>
<code>$openpaymx</code><code>$optile</code><code>$optimal_payments</code><code>$ovo</code><code>$oxxo</code>
<code>$paddle</code><code>$pagar_me</code><code>$pagoefectivo</code><code>$pagofacil</code><code>$pagseguro</code><code>$paidy</code>
<code>$papara</code><code>$paxum</code><code>$pay_garden</code><code>$pay_zone</code><code>$pay4fun</code><code>$paybright</code>
<code>$paycase</code><code>$paycash</code><code>$payco</code><code>$paycell</code><code>$paydo</code><code>$paydoo</code><code>$payease</code><code>$payeasy</code>
<code>$payeer</code><code>$payeezy</code><code>$payfast</code><code>$payfix</code><code>$payflow</code><code>$payfort</code>
<code>$paygarden</code><code>$paygate</code><code>$paygent</code><code>$payix</code><code>$payjp</code><code>$payjunction</code>
<code>$paykwik</code><code>$paylike</code><code>$paymaya</code><code>$paymentez</code><code>$paymentos</code><code>$paymentwall</code>
<code>$payment_express</code><code>$paymill</code><code>$paynl</code><code>$payone</code><code>$payoneer</code><code>$payop</code>
<code>$paypal</code><code>$paypal_express</code><code>$paypay</code><code>$paypost</code><code>$paysafe</code><code>$paysafecard</code><code>$paysera</code>
<code>$paysimple</code><code>$payssion</code><code>$paystack</code><code>$paystation</code><code>$paytabs</code><code>$paytm</code>
<code>$paytrace</code><code>$paytrail</code><code>$payture</code><code>$payway</code><code>$payu</code><code>$payulatam</code>
<code>$payvector</code><code>$payza</code><code>$payzen</code><code>$peach_payments</code><code>pep</code><code>$perfect_money</code>
<code>$perla_terminals</code><code>$pinpayments</code><code>$pivotal_payments</code><code>$pix</code><code>$plaid</code><code>$planet_payment</code>
<code>$plugandplay</code><code>$poli</code><code>$posconnect</code><code>$primetrust</code><code>$princeton_payment_solutions</code>
<code>$prismpay</code><code>$processing</code><code>$przelewy24</code><code>$psigate</code><code>$pulse</code><code>$pwmb</code>
<code>$qiwi</code><code>$qr_code_bt</code><code>$quadpay</code><code>$quaife</code><code>$quickpay</code><code>$quickstream</code>
<code>$raberil</code><code>$radial</code><code>$railsbank</code><code>$rakbank</code><code>$rakuten_checkout</code>
<code>$rapipago</code><code>$rappipay</code><code>$rapyd</code><code>$ratepay</code><code>$ravepay</code><code>$razorpay</code><code>$rbkmoney</code>
<code>$reach</code><code>$recurly</code><code>$red_dot_payment</code><code>$rede</code><code>$redpagos</code><code>$redsys</code>
<code>$rewardspay</code><code>$rietumu</code><code>$ripple</code><code>$rocketgate</code>
<code>$safecharge</code><code>$safetypay</code><code>$sagepay</code><code>$saltedge</code><code>$samsung_pay</code>
<code>$santander</code><code>$sbi</code><code>$secure_trading</code><code>$securepay</code><code>$securionpay</code>
<code>$sentbe</code><code>$sepa</code><code>$sermepa</code><code>$servipag</code><code>$sezzle</code><code>$shopify_payments</code><code>$sightline</code>
<code>$signature</code><code>$signet</code><code>$silvergate</code><code>$simplify_commerce</code><code>$skrill</code>
<code>$smart2pay</code><code>$smartcoin</code><code>$smartpayments</code><code>$smbc</code><code>$snapscan</code><code>$sofort</code>
<code>$softbank_matomete</code><code>$solanapay</code><code>$splash_payments</code><code>$splitit</code><code>$spotii</code><code>$sps_decidir</code>
<code>$square</code><code>$stcpay</code><code>$stitch</code><code>$stone</code><code>$stp</code><code>$stripe</code><code>$swedbank</code>
<code>$synapsepay</code>
<code>$tabapay</code><code>$tabby</code><code>$tamara</code><code>$tapcompany</code><code>$tdcanada</code><code>$telerecargas</code>
<code>$tfm</code><code>$tipalti</code><code>$tnspay</code><code>$todopago</code><code>$toss</code><code>$touchngo</code><code>$towah</code><code>$tpaga</code>
<code>$transact_pro</code><code>$transactive</code><code>$transfirst</code><code>$transpay</code><code>$truelayer</code><code>$truemoney</code>
<code>$trustcommerce</code><code>$trustly</code><code>$trustpay</code><code>$tsys_sierra</code><code>$tsys_transit</code>
<code>$tu_compra</code><code>$twoc2p</code><code>$twocheckout</code>
<code>$undostres</code><code>$unlimint</code><code>$unionpay</code><code>$upay</code><code>$usa_epay</code><code>$usafill</code>
<code>$utrust</code>
<code>$vantiv</code><code>$vapulus</code><code>$venmo</code><code>$veritrans</code><code>$versapay</code><code>$vesta</code>
<code>$viabaloto</code><code>$vindicia</code><code>$vip_preferred</code><code>$virtual_card_services</code><code>$visa</code><code>$vme</code>
<code>$vogogo</code><code>$vpos</code>
<code>$watchman</code><code>$web_money</code><code>$webbilling</code><code>$webmoney</code><code>$webpay</code><code>$webpay_oneclick</code>
<code>$wechat</code><code>$wepay</code><code>$western_union</code><code>$wirecard</code><code>$worldpay</code>
<code>$worldspan</code><code>$wp_cnpapi</code><code>$wyre</code>
<code>$xfers</code><code>$xipay</code>
<code>$yandex_money</code><code>$yapily</code><code>$yapstone</code>
<code>$zapper</code><code>$zeus</code><code>$zgold</code><code>$zip</code><code>$zipmoney</code><code>$zoop</code><code>$zooz_paymentsos</code></li></ul><p>If the payment gateway you use is not supported, <a href="/contact-support">contact support</a> and we'll add it.</p></div></li><li><div class="field">$card_bin</div><div class="value-details"><strong>String</strong><p>The first six or eight digits of the credit card number. These numbers contain information about the card issuer,
the geography and other card details.</p></div></li><li><div class="field">$card_last4</div><div class="value-details"><strong>String</strong><p>The last four digits of the credit card number.</p></div></li><li><div class="field">$avs_result_code</div><div class="value-details"><strong>String</strong><p>Response code from the AVS address verification system. Used in payments involving credit cards.</p></div></li><li><div class="field">$cvv_result_code</div><div class="value-details"><strong>String</strong><p>Response code from the credit card company indicating if the CVV number entered matches the number on
record. Used in payments involving credit cards.</p></div></li><li><div class="field">$verification_status</div><div class="value-details"><strong>String</strong><p>Use <code>$verification_status</code> to indicate the payment method has been verified.
The value can be <code>$success</code>, <code>$failure</code> or <code>$pending</code>. For instance, if you request payment
method verification from a payment processor and receive a failure set the value to <code>$failure</code>.</p></div></li><li><div class="field">$routing_number</div><div class="value-details"><strong>String</strong><p>This is the ABA routing number, BIC or SWIFT code used.</p></div></li><li><div class="field">$shortened_iban_first6</div><div class="value-details"><strong>String</strong><p>This is the first 6 characters of the IBAN structure as defined in <a href="https://en.wikipedia.org/wiki/International_Bank_Account_Number">ISO 13616-1</a>.</p></div></li><li><div class="field">$shortened_iban_last4</div><div class="value-details"><strong>String</strong><p>This is the last 4 characters of the IBAN structure as defined in <a href="https://en.wikipedia.org/wiki/International_Bank_Account_Number">ISO 13616-1</a>.</p></div></li><li><div class="field">$sepa_direct_debit_mandate</div><div class="value-details"><strong>Boolean</strong><p>Use <code>true</code> or <code>false</code> to indicate if a end-user/customer has provided authorization to collect future payments via Sepa Direct Debit.</p></div></li><li><div class="field">$decline_reason_code</div><div class="value-details"><strong>String</strong><p>In case of a declined payment, response code received from the payment processor indicating the reason for
the decline.</p></div></li><li><div class="field">$wallet_address</div><div class="value-details"><strong>String</strong><p>The value entered to identify the Wallet used for the payment.</p></div></li><li><div class="field">$wallet_type</div><div class="value-details"><strong>String</strong><p>The type of wallet used in the payment.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li class="inline"><code>$crypto</code><code>$digital</code><code>$fiat</code></li></ul></div></li><li><div class="field">$paypal_payer_id</div><div class="value-details"><strong>String</strong><p>Payer ID returned by Paypal.</p></div></li><li><div class="field">$paypal_payer_email</div><div class="value-details"><strong>String</strong><p>Payer email address returned by Paypal.</p></div></li><li><div class="field">$paypal_payer_status</div><div class="value-details"><strong>String</strong><p>Payer status returned by Paypal.</p></div></li><li><div class="field">$paypal_address_status</div><div class="value-details"><strong>String</strong><p>Payer address status returned by Paypal.</p></div></li><li><div class="field">$paypal_protection_eligibility</div><div class="value-details"><strong>String</strong><p>Seller protection eligibility returned by Paypal.</p></div></li><li><div class="field">$paypal_payment_status</div><div class="value-details"><strong>String</strong><p>Payment status returned by Paypal.</p></div></li><li><div class="field">$stripe_cvc_check</div><div class="value-details"><strong>String</strong><p>CVC verification result returned by Stripe.</p></div></li><li><div class="field">$stripe_address_line1_check</div><div class="value-details"><strong>String</strong><p>Address line 1 verification result returned by Stripe.</p></div></li><li><div class="field">$stripe_address_line2_check</div><div class="value-details"><strong>String</strong><p>Address line 2 verification result returned by Stripe.</p></div></li><li><div class="field">$stripe_address_zip_check</div><div class="value-details"><strong>String</strong><p>Address zip code verification result returned by Stripe.</p></div></li><li><div class="field">$stripe_funding</div><div class="value-details"><strong>String</strong><p>Funding source returned by Stripe.</p></div></li><li><div class="field">$stripe_brand</div><div class="value-details"><strong>String</strong><p>Card brand returned by Stripe.</p></div></li><li><div class="field">$account_holder_name</div><div class="value-details"><strong>String</strong><p>Full name of the user associated with the account.</p></div></li><li><div class="field">$account_number_last5</div><div class="value-details"><strong>String</strong><p>The last 5 digits of the account number associated with an ACH or a Wire transaction.</p></div></li><li><div class="field">$bank_name</div><div class="value-details"><strong>String</strong><p>Name of the financial institution used.</p></div></li><li><div class="field">$bank_country</div><div class="value-details"><strong>String</strong><p>Two-digit <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO-3166</a> code for the bank country of origin.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint curl code-partial">// A Credit Card Payment and a Gift Card used together,
// as $payment_methods in $create_order.
// Note: A $create_order event can have multiple payment
// methods, and thus takes an array of objects.
"$payment_methods" : [
  {
    "$payment_type"    : "$credit_card",
    "$payment_gateway" : "$stripe",
    "$card_bin"        : "542486",
    "$card_last4"      : "4242",
    "$cvv_result_code" : "M",
    "$avs_result_code" : "Y",
    "$stripe_address_line1_check" : "pass",
    "$stripe_address_line2_check" : "pass",
    "$stripe_address_zip_check"   : "pass"
  },
  {
    "$payment_type"    : "$gift_card"
  }
]

// A Electronic Fund Transfer Payment,
// as it would appear in a $create_order event.
"$payment_methods" : [
  {
    "$payment_type"  : "$electronic_fund_transfer",
    "$routing_number"  : "021001088"
  }
]

// A Paypal Payment, as it would appear
// in a $create_order event.
"$payment_methods" : [
  {
    "$payment_type"  : "$third_party_processor",
    "$payment_gateway" : "$paypal",
    "$paypal_payer_id" : "7E7MGXCWKTKK2",
    "$paypal_payer_email" : "bill@gmail.com",
  }
]

// An ACH Credit Payment, as it would appear
// in a $create_order event.
"$payment_methods"  :  [
  {
       "$payment_type"  :  "$ach_credit",
       "$routing_number"  : "4444333333",
       "$account_number_last5"  : "44144",
       "$account_holder_name"  : "John Smith",
  }
]

// A Points or Alternative Currency Payment,
// as it would appear in a $transaction event.
// Note: There is one payment method per $transaction.
"$payment_method" : {
  "$payment_type"  : "$points"
}
</pre><pre class="prettyprint python code-partial"># A Credit Card Payment and a Gift Card used together,
# as $payment_methods in $create_order.
# Note: A $create_order event can have multiple payment
# methods, and thus takes an array of objects.
payment_methods = [
  {
    "$payment_type"    : "$credit_card",
    "$payment_gateway" : "$stripe",
    "$card_bin"        : "542486",
    "$card_last4"      : "4242",
    "$cvv_result_code" : "M",
    "$avs_result_code" : "Y",
    "$stripe_address_line1_check" : "pass",
    "$stripe_address_line2_check" : "pass",
    "$stripe_address_zip_check"   : "pass"
  },
  {
    "$payment_type"    : "$gift_card"
  }
]

# A Electronic Fund Transfer Payment,
# as it would appear in a $create_order event.
payment_methods = [
  {
    "$payment_type"  : "$electronic_fund_transfer",
    "$routing_number"  : "021001088"
  }
]

# A Paypal Payment, as it would appear
# in a $create_order event.
payment_methods = [
  {
    "$payment_type"  : "$third_party_processor",
    "$payment_gateway" : "$paypal",
    "$paypal_payer_id" : "7E7MGXCWKTKK2",
    "$paypal_payer_email" : "bill@gmail.com",
  }
]

# An ACH Credit Payment, as it would appear
# in a $create_order event.
"payment_methods"  :  [
  {
    "$payment_type"  :  "$ach_credit",
    "$routing_number"  : "4444333333",
    "$account_number_last5"  : "44144",
    "$account_holder_name"  : "John Smith",
  }
]

# A Points or Alternative Currency Payment,
# as it would appear in a $transaction event.
# Note: There is one payment method per $transaction.
payment_method = {
  "$payment_type"  : "$points"
}
</pre><pre class="prettyprint ruby code-partial"># A Credit Card Payment and a Gift Card used together,
# as $payment_methods in $create_order.
# Note: A $create_order event can have multiple payment
# methods, and thus takes an array of objects.
payment_methods = [
  {
    "$payment_type"    => "$credit_card",
    "$payment_gateway" => "$stripe",
    "$card_bin"        => "542486",
    "$card_last4"      => "4242",
    "$cvv_result_code" => "M",
    "$avs_result_code" => "Y",
    "$stripe_address_line1_check" => "pass",
    "$stripe_address_line2_check" => "pass",
    "$stripe_address_zip_check"   => "pass"
  },
  {
    "$payment_type"    => "$gift_card"
  }
]

# A Electronic Fund Transfer Payment,
# as it would appear in a $create_order event.
payment_methods = [
  {
    "$payment_type"  => "$electronic_fund_transfer",
    "$routing_number"  => "021001088"
  }
]

# A Paypal Payment, as it would appear
# in a $create_order event.
payment_methods = [
  {
    "$payment_type"  => "$third_party_processor",
    "$payment_gateway" => "$paypal",
    "$paypal_payer_id" => "7E7MGXCWKTKK2",
    "$paypal_payer_email" => "bill@gmail.com",
  }
]

# An ACH Credit Payment, as it would appear
# in a $create_order event.
"payment_methods"  =>  [
  {
    "$payment_type"  =>  "$ach_credit",
    "$routing_number"  => "4444333333",
    "$account_number_last5"  => "44144",
    "$account_holder_name"  => "John Smith",
  }
]

# A Points or Alternative Currency Payment,
# as it would appear in a $transaction event.
# Note: There is one payment method per $transaction.
payment_method = {
  "$payment_type"  => "$points"
}
</pre><pre class="prettyprint php code-partial">// A Credit Card Payment and a Gift Card used together,
// as $payment_methods in $create_order.
// Note: A $create_order event can have multiple payment
// methods, and thus takes an array of objects.
$paymentMethods = array(
  array(
    '$payment_type'    => '$credit_card',
    '$payment_gateway' => '$stripe',
    '$card_bin'        => '542486',
    '$card_last4'      => '4242',
    '$cvv_result_code' => 'M',
    '$avs_result_code' => 'Y',
    '$stripe_address_line1_check' => 'pass',
    '$stripe_address_line2_check' => 'pass',
    '$stripe_address_zip_check'   => 'pass'
  ),
  array(
    '$payment_type'    => '$gift_card'
  )
);

// A Electronic Fund Transfer Payment,
// as it would appear in a $create_order event.
$paymentMethods = array(
  array(
    '$payment_type'  => '$electronic_fund_transfer',
    '$routing_number'  => '021001088'
  )
);

// A Paypal Payment, as it would appear
// in a $create_order event.
$paymentMethods = array(
  array(
    '$payment_type'  => '$third_party_processor',
    '$payment_gateway'  => '$paypal',
    '$paypal_payer_id'  => '7E7MGXCWKTKK2',
    '$paypal_payer_email'  => 'bill@gmail.com'
  )
);

// An ACH Credit Payment, as it would appear
// in a $create_order event.
$paymentMethods = array(
  array(
    '$payment_type'  => '$ach_credit',
    '$routing_number'  => '4444333333',
    '$account_number_last5'  => '44144',
    '$account_holder_name'  => 'John Smith'
  )
);

// A Points or Alternative Currency Payment,
// as it would appear in a $transaction event.
// Note: There is one payment method per $transaction.
$paymentMethod = array(
  '$payment_type'  => '$points'
);
</pre><pre class="prettyprint java code-partial">import com.siftscience.model.PaymentMethod;

// A Credit Card Payment and a Gift Card used together,
// as $payment_methods in $create_order.
// Note: A $create_order event can have multiple payment
// methods, and thus takes a list of objects.
List&lt;PaymentMethod&gt; paymentMethods = Arrays.asList(
        new PaymentMethod()
                .setPaymentType("$credit_card")
                .setPaymentGateway("$stripe")
                .setCardBin("542486")
                .setCardLast4("4242")
                .setCvvResultCode("M")
                .setAvsResultCode("Y")
                .setStripeAddressLine1Check("pass")
                .setStripeAddressLine2Check("pass")
                .setStripeAddressZipCheck("pass"),
        new PaymentMethod()
                .setPaymentType("$gift_card")

);

// A Electronic Fund Transfer Payment,
// as it would appear in a $create_order event.
paymentMethods = Arrays.asList(
        new PaymentMethod()
                .setPaymentType("$electronic_fund_transfer")
                .setRoutingNumber("021001088")
);

// A Paypal Payment, as it would appear
// in a $create_order event.
paymentMethods = Arrays.asList(
        new PaymentMethod()
                .setPaymentType("$third_party_processor")
                .setPaymentGateway("$paypal")
                .setPaypalPayerId("7E7MGXCWKTKK2")
                .setPaypalPayerEmail("bill@gmail.com")
);

// An ACH Credit Payment, as it would appear
// in a $create_order event.
paymentMethods = Arrays.asList(
    new PaymentMethod()
                .setPaymentType("$ach_credit")
                .setRoutingNumber("4444333333")
                .setAccountNumberLast5("44144")
                .setAccountHolderName("John Smith")
);

// A Points or Alternative Currency Payment,
// as it would appear in a $transaction event.
// Note: There is one payment method per $transaction.
paymentMethods = Arrays.asList(
        new PaymentMethod()
                .setPaymentType("$gift_card")
);
</pre></div></div></div><div class="docs-partial events-api-complex-field-types-promotion"><div><h1>Promotion</h1><p>The <strong>Promotion</strong> field type generically models different kinds of promotions such as referrals,
coupons, free trials, etc.  The value must be a nested JSON object which you populate with the
appropriate information to describe the promotion. Not all sub-fields will likely apply to a given promotion.
Populate only those that apply.</p><p>A promotion can be added when <span data-href='/events-api/reserved-events/create-account'>creating or updating
an account</span>, <span data-href='/events-api/reserved-events/create-order'>creating or updating an order</span>,
or on its own using the <code>$add_promotion</code> event. The promotion object supports both monetary
(e.g. $25 coupon on first order) and non-monetary (e.g. "1000 in game points to refer a friend").</p><ul class="api-fields"><li><div class="field">$promotion_id</div><div class="value-details"><strong>String</strong><p>The ID within your system that you use to represent this promotion. This ID is ideally unique to
the promotion across users (e.g. "BackToSchool2016").</p></div></li><li><div class="field">$status</div><div class="value-details"><strong>String</strong><p>The status of the addition of promotion to an account. Best used with the <code>$add_promotion</code>
event. This way you can pass to Sift both successful and failed attempts when using a
promotion. May be useful in spotting potential abuse.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li class="inline"><code>$success</code> <code>$failure</code></li></ul></div></li><li><div class="field">$failure_reason</div><div class="value-details"><strong>String</strong><p>When adding a promotion fails, use this to describe why it failed.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li class="inline"><code>$already_used</code> <code>$invalid_code</code> <code>$not_applicable</code> <code>$expired</code></li></ul></div></li><li><div class="field">$description</div><div class="value-details"><strong>String</strong><p>Freeform text to describe the promotion.</p></div></li><li><div class="field">$referrer_user_id</div><div class="value-details"><strong>String</strong><p>The unique account ID of the user who referred the user to this promotion. Note: User IDs
are <em>case sensitive</em>.</p></div></li><li><div class="field">$discount</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/discount">Discount</span></strong><p>The <code>$discount</code> field type generically models monetary discounts that are associated with a
promotion (e.g. $25 off an order of $100 or more, 10% off, etc). Most promotions likely require
a <code>discount</code> object or <code>credit_point</code> object to describe them, though both can be set
for a given promotion.</p></div></li><li><div class="field">$credit_point</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/credit-point">Credit Point</span></strong><p>The <code>credit_point</code> field type generically models monetary and non-monetary rewards
(e.g. in-game currency, stored account value, MBs storage, frequent flyer miles, etc.)
for a promotion. Most promotions likely require a <code>credit_point</code> object or <code>discount</code>
object to describe them, though both can be set for a given promotion.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint curl code-partial">// Example of a promotion for monetary discounts off goods or services
{
  "$promotion_id"      : "SPRING-1009",
  "$status"            : "$failed",
  "$failure_reason"    : "$already_used",
  "$description"       : "Spring coupon",
  "$discount"          : {
    "$percentage_off"          : 0.2,  // 20% off
    "$amount"                  : 115940000,  // $115.94
    "$currency_code"           : "USD",
    "$minimum_purchase_amount" : 50000000  // $50
  }
}

// Example of a promotion for account credits
{
  "$promotion_id"      : "NewCustomerReferral2016",
  "$status"            : "$success",
  "$description"       : "Signup bonus for new customers in 2016",
  "$referrer_user_id"  : "john_smith_0123",
  "$credit_point"      : {
    "$amount"             : 5000,
    "$credit_point_type"  : "character xp points"
  }
}
</pre><pre class="prettyprint python code-partial"># Example of a promotion for monetary discounts off goods or services
{
  "$promotion_id"      : "SPRING-1009",
  "$status"            : "$failed",
  "$failure_reason"    : "$already_used",
  "$description"       : "Spring coupon",
  "$discount"          : {
    "$percentage_off"          : 0.2,  # 20% off
    "$amount"                  : 115940000,  # $115.94
    "$currency_code"           : "USD",
    "$minimum_purchase_amount" : 50000000  # $50
  }
}

# Example of a promotion for account credits
{
  "$promotion_id"      : "NewCustomerReferral2016",
  "$status"            : "$success",
  "$description"       : "Signup bonus for new customers in 2016",
  "$referrer_user_id"  : "john_smith_0123",
  "$credit_point"      : {
    "$amount"             : 5000,
    "$credit_point_type"  : "character xp points"
  }
}
</pre><pre class="prettyprint ruby code-partial"># Example of a promotion for monetary discounts off goods or services
{
  "$promotion_id"      => "SPRING-1009",
  "$status"            => "$failed",
  "$failure_reason"    => "$already_used",
  "$description"       => "Spring coupon",
  "$discount"          => {
    "$percentage_off"          => 0.2,  # 20% off
    "$amount"                  => 115940000,  # $115.94
    "$currency_code"           => "USD",
    "$minimum_purchase_amount" => 50000000  # $50
  }
}

# Example of a promotion for account credits
{
  "$promotion_id"      => "NewCustomerReferral2016",
  "$status"            => "$success",
  "$description"       => "Signup bonus for new customers in 2016",
  "$referrer_user_id"  => "john_smith_0123",
  "$credit_point"      => {
    "$amount"             => 5000,
    "$credit_point_type"  => "character xp points"
  }
}
</pre><pre class="prettyprint php code-partial">// Example of a promotion for monetary discounts off goods or services
array(
  '$promotion_id'      => 'SPRING-1009',
  '$status'            => '$failed',
  '$failure_reason'    => '$already_used',
  '$description'       => 'Spring coupon',
  '$discount'          => array(
    '$percentage_off'          => 0.2,  // 20% off
    '$amount'                  => 115940000,  // $115.94
    '$currency_code'           => 'USD',
    '$minimum_purchase_amount' => 50000000  // $50
  )
);

// Example of a promotion for account credits
array(
  '$promotion_id'      => 'NewCustomerReferral2016',
  '$status'            => '$success',
  '$description'       => 'Signup bonus for new customers in 2016',
  '$referrer_user_id'  => 'john_smith_0123',
  '$credit_point'      => array(
    '$amount'             => 5000,
    '$credit_point_type'  => 'character xp points'
  )
);
</pre><pre class="prettyprint java code-partial">import com.siftscience.model.Promotion;
import com.siftscience.model.Discount;
import com.siftscience.model.CreditPoint;

// Example of a promotion for monetary discounts off goods or services
Promotion promotion = new Promotion()
        .setPromotionId("SPRING-1009")
        .setStatus("$failed")
        .setFailureReason("$already_used")
        .setDescription("Spring coupon")
        .setDiscount(new Discount()
                .setPercentageOff(0.2) // 20% off
                .setAmount(115940000L) // $115.94
                .setCurrencyCode("USD")
                .setMinimumPurchaseAmount(50000000L) // $50
        );

// Example of a promotion for account credits
promotion = new Promotion()
        .setPromotionId("NewCustomerReferral2016")
        .setStatus("$success")
        .setDescription("Signup bonus for new customers in 2016")
        .setReferrerUserId("john_smith_0123")
        .setCreditPoint(new CreditPoint()
                .setAmount(5000L)
                .setCreditPointType("character xp points"));
</pre></div></div></div><div class="docs-partial events-api-complex-field-types-segment"><div><h1>Segment</h1><p>The <strong>Segment</strong> field type supports more detailed information about the components of a travel<code>$booking</code>.
The value must be a nested object with the appropriate subfields.</p><p>We recommend sending at least one segment for the following booking_types:</p><ol><li><span data-href="/events-api/complex-field-types/booking/flight">$flight</span></li><li><span data-href="/events-api/complex-field-types/booking/bus">$bus</span></li><li><span data-href="/events-api/complex-field-types/booking/rideshare">$rideshare</span></li><li><span data-href="/events-api/complex-field-types/booking/vehicle">$vehicle</span></li><li><span data-href="/events-api/complex-field-types/booking/cruise">$cruise</span></li></ol><p>Even if there’s only a single segment associated with the booking, use segment to send valuable information about the trip.</p><ul class="api-fields"><li><div class="field">$departure_address</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Address</span></strong><p>The address of the start of the journey. This could be the pickup address for rideshare
or the train station address for a rail journey. For flights, you can use the
<code>$departure_airport_code</code> in lieu of this field.</p></div></li><li><div class="field">$arrival_address</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/address">Address</span></strong><p>The address of the end of the journey. This could be the drop-off address for rideshare
or the train station address for a rail journey. For flights, you can use the
<code>$arrival_airport_code</code> in lieu of this field.</p></div></li><li><div class="field">$start_time</div><div class="value-details"><strong>Integer</strong><p>The start time of this segment of the journey. This may be departure time for a flight, the expected
pickup time for a rideshare, etc. Send as a UNIX timestamp in milliseconds.</p></div></li><li><div class="field">$end_time</div><div class="value-details"><strong>Integer</strong><p>The finish time of this segment of the journey. This may be departure time for a flight, the expected
pickup time for a rideshare, etc. Send as a UNIX timestamp in milliseconds.</p></div></li><li><div class="field">$vessel_number</div><div class="value-details"><strong>String</strong><p>An identifier for the journey: this could be the flight number ("UA 454"), the car
license plate number ("6XYZ123"), etc.</p></div></li><li><div class="field">$departure_airport_code</div><div class="value-details"><strong>String</strong><p>The <a href='https://en.wikipedia.org/wiki/IATA_airport_code' target='_blank'>IATA code</a> for the
departure airport. For example: "SFO"</p></div></li><li><div class="field">$arrival_airport_code</div><div class="value-details"><strong>String</strong><p>The <a href='https://en.wikipedia.org/wiki/IATA_airport_code' target='_blank'>IATA code</a> for the
arrival airport. For example: "SEA"</p></div></li><li><div class="field">$fare_class</div><div class="value-details"><strong>String</strong><p>A description of the class of travel. Eg. "Premium Economy", "Pool", "E3".</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint curl code-partial">{
  "$departure_address" : {
    "$name"       : "Bill Jones",
    "$phone"      : "1-415-555-6040",
    "$address_1"  : "2100 Main Street",
    "$address_2"  : "Apt 3B",
    "$city"       : "New London",
    "$region"     : "New Hampshire",
    "$country"    : "US",
    "$zipcode"    : "03257"
  },
  "$arrival_address" : {
    "$name"       : "Bill Jones",
    "$phone"      : "1-415-555-6040",
    "$address_1"  : "2100 Main Street",
    "$address_2"  : "Apt 3B",
    "$city"       : "New London",
    "$region"     : "New Hampshire",
    "$country"    : "US",
    "$zipcode"    : "03257"
  },
  "$start_time"             : 2190121220,
  "$end_time"               : 2290122129,
  "$vessel_number"          : "LH454",
  "$fare_class"             : "Premium Economy",
  "$departure_airport_code" : "SFO",
  "$arrival_airport_code"   : "LAS"
}
</pre><pre class="prettyprint python code-partial">{
  "$departure_address" : {
    "$name"       : "Bill Jones",
    "$phone"      : "1-415-555-6040",
    "$address_1"  : "2100 Main Street",
    "$address_2"  : "Apt 3B",
    "$city"       : "New London",
    "$region"     : "New Hampshire",
    "$country"    : "US",
    "$zipcode"    : "03257"
  },
  "$arrival_address" : {
    "$name"       : "Bill Jones",
    "$phone"      : "1-415-555-6040",
    "$address_1"  : "2100 Main Street",
    "$address_2"  : "Apt 3B",
    "$city"       : "New London",
    "$region"     : "New Hampshire",
    "$country"    : "US",
    "$zipcode"    : "03257"
  },
  "$start_time"             : 2190121220,
  "$end_time"               : 2290122129,
  "$vessel_number"          : "LH454",
  "$fare_class"             : "Premium Economy",
  "$departure_airport_code" : "SFO",
  "$arrival_airport_code"   : "LAS"
}
</pre><pre class="prettyprint ruby code-partial">{
  "$departure_address" => {
    "$name"       => "Bill Jones",
    "$phone"      => "1-415-555-6040",
    "$address_1"  => "2100 Main Street",
    "$address_2"  => "Apt 3B",
    "$city"       => "New London",
    "$region"     => "New Hampshire",
    "$country"    => "US",
    "$zipcode"    => "03257"
  },
  "$arrival_address" => {
    "$name"       => "Bill Jones",
    "$phone"      => "1-415-555-6040",
    "$address_1"  => "2100 Main Street",
    "$address_2"  => "Apt 3B",
    "$city"       => "New London",
    "$region"     => "New Hampshire",
    "$country"    => "US",
    "$zipcode"    => "03257"
  },
  "$start_time"             => 2190121220,
  "$end_time"               => 2290122129,
  "$vessel_number"          => "LH454",
  "$fare_class"             => "Premium Economy",
  "$departure_airport_code" => "SFO",
  "$arrival_airport_code"   => "LAS"
}
</pre><pre class="prettyprint php code-partial">array(
  '$departure_address' => array(
    '$name'       => 'Bill Jones',
    '$phone'      => '1-415-555-6040',
    '$address_1'  => '2100 Main Street',
    '$address_2'  => 'Apt 3B',
    '$city'       => 'New London',
    '$region'     => 'New Hampshire',
    '$country'    => 'US',
    '$zipcode'    => '03257'
  ),
  '$arrival_address' => array(
    '$name'       => 'Bill Jones',
    '$phone'      => '1-415-555-6040',
    '$address_1'  => '2100 Main Street',
    '$address_2'  => 'Apt 3B',
    '$city'       => 'New London',
    '$region'     => 'New Hampshire',
    '$country'    => 'US',
    '$zipcode'    => '03257'
  ),
  '$start_time'             => 2190121220,
  '$end_time'               => 2290122129,
  '$vessel_number'          => 'LH454',
  '$fare_class'             => 'Premium Economy',
  '$departure_airport_code' => 'SFO',
  '$arrival_airport_code'   => 'LAS'
);
</pre><pre class="prettyprint java code-partial">import com.siftscience.model.Address;
import com.siftscience.model.Segment;

Segment segment1 = new Segment()
        .setDepartureAddress(new Address()
                .setName("Bill Jones")
                .setPhone("1-415-555-6040")
                .setAddress1("2100 Main Street")
                .setAddress2("Apt 3B")
                .setCity("New London")
                .setRegion("New Hampshire")
                .setCountry("US")
                .setZipCode("03257"))
        .setArrivalAddress(new Address()
                .setName("Bill Jones")
                .setPhone("1-415-555-6040")
                .setAddress1("2100 Main Street")
                .setAddress2("Apt 3B")
                .setCity("New London")
                .setRegion("New Hampshire")
                .setCountry("US")
                .setZipCode("03257"))
        .setStartTime(2190121220L)
        .setEndTime(2290122129L)
        .setVesselNumber("LH454")
        .setFareClass("Premium Economy")
        .setDepartureAirportCode("SFO")
        .setArrivalAirportCode("LAS");</pre></div></div></div><div class="docs-partial events-api-custom-events"><h1>Custom Events and Fields</h1><p>Custom events and fields capture user behavior and differences not covered by our reserved
 events and fields. For example, a voice over IP (VOIP) business can create a custom event
 called <code>make_call</code> with custom fields that are relevant:</p><div class="code-container-container"><div class="code-container"><pre class="prettyprint curl code-partial">// Sample make_call event
{
  "$type"              : "make_call",
  "$api_key"           : "YOUR_API_KEY",
  "$user_id"           : "billy_jones_301",
  "recipient_user_id"  : "marylee819",
  "call_duration"      : 4428
}
</pre><pre class="prettyprint python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

# Sample make_call event
properties = {
  "$user_id"           : "billy_jones_301",
  "recipient_user_id"  : "marylee819",
  "call_duration"      : 4428
}

response = client.track("make_call", properties)
</pre><pre class="prettyprint ruby code-partial">require "sift"

client = Sift::Client.new(:api_key => "YOUR_API_KEY")

# Sample make_call event
properties = {
  "$user_id"           => "billy_jones_301",
  "recipient_user_id"  => "marylee819",
  "call_duration"      => 4428
}

response = client.track("make_call", properties)
</pre><pre class="prettyprint php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

// Sample make_call event
$properties = array(
  '$user_id'           => 'billy_jones_301',
  'recipient_user_id'  => 'marylee819',
  'call_duration'      => 4428
);

$response = $client->track('make_call', $properties);
</pre><pre class="prettyprint java code-partial">import com.siftscience.SiftClient;
import com.siftscience.EventRequest;
import com.siftscience.model.CustomEventFieldSet;

SiftClient client = new SiftClient("YOUR_API_KEY");
EventRequest request = client.buildRequest(new CustomEventFieldSet()
        .setUserId("billy_jones_301")
        .setEventType("make_call")
        .setCustomField("recipient_user_id", "marylee819")
        .setCustomField("call_duration", 4428)
);

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}

response.isOk(); // true


</pre></div></div><p>For every custom event, three fields are required:</p><ul><li>the <code>$type</code> field where you specify the name of the custom event you're creating. Note that the leading 
<code>$</code> denotes reserved events, and may not be used in custom events. Custom event names may only include 
<code>alphanumeric characters</code> and <code>_</code>.</li><li>the <code>$api_key</code> field where you provide your REST API key.</li><li>the <code>$user_id</code> or, if not available, the <code>$session_id</code> which identifies the user taking this action.</li></ul><p>For guidance on how to create custom events, see our 
<a href="/resources/tutorials/custom-events-and-fields">Custom Events and Fields</a> guide.</p><h1>Custom Field Suffixes</h1><p> The following the suffixes should be used for custom fields when relevant:<ul class="api-fields"><li><a class="page-anchor" name="field-type-email"></a><div class="field">Email</div><div class="value-details"><code>_email</code> <strong>&middot; String</strong><p>Sift performs a number of fraud detection algorithms on emails, including matching against throwaway email
domains, and looking for similarity to known fraudsters in the past.</p><br><p>Send any other emails associated with the user in field names like <code>secondary_email</code>.</p></div></li><li><a class="page-anchor" name="field-type-phone"></a><div class="field">Phone</div><div class="value-details"><code>_phone</code> <strong>&middot; String</strong><p>Sift can perform lookups to identify country and region of phone numbers if the data is well formed. 
Provide the phone number as a string starting with the country code. Use
<a href="https://en.wikipedia.org/wiki/E.164">E.164</a> format or send in the standard national format of
number's origin. For example: "+14155556041" or "1-415-555-6041" for a U.S. number.</p><br><p>Send phone numbers in field names like <code>secondary_phone</code> and <code>mobile_phone</code>.</p></div></li><li><a class="page-anchor" name="field-type-lat"></a><div class="field">Latitude</div><div class="value-details"><code>_lat</code> <strong>&middot; Float</strong><p>Sent as a <strong>floating point number</strong> with at least two significant figures. Sift uses this data to 
calculate location and movement, which are particularly useful for businesses where location is an 
important part of the transaction and for mobile transactions. Typically used along with longitude.</p><br><p>Send latitudes in field names like <code>dropoff_location_lat</code>.</p></div></li><li><a class="page-anchor" name="field-type-lng"></a><div class="field">Longitude</div><div class="value-details"><code>_lng</code> <strong>&middot; Float</strong><p>Sent as a <strong>floating point number</strong> with at least two significant figures. Sift uses this data to 
calculate location and movement, which are particularly useful for businesses where location is an 
important part of the transaction and for mobile transactions. Typically used along with latitude.</p><br><p>Send longitudes in field names like <code>dropoff_location_lng</code>.</p></div></li><li><a class="page-anchor" name="field-type-user-id"></a><div class="field">ID</div><div class="value-details"><code>_id</code> <strong>&middot; String</strong><p>ID of a user or other entity. Valid characters in IDs are alphanumeric characters (without space) and:
<code>=</code>, <code>.</code>, <code>-</code>, <code>_</code>, <code>+</code>, <code>@</code>, <code>:</code>, <code>&amp;</code>, <code>^</code>, 
<code>%</code>, <code>!</code>, <code>$</code>. </p><br><p>Send IDs in field names like <code>buyer_user_id</code> or <code>store_id</code>.</p></div></li><li><a class="page-anchor" name="field-type-status"></a><div class="field">Status</div><div class="value-details"><code>_status</code> <strong>&middot; String</strong><p>Status of an event.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field">$success</span></li><li><span class="sub-field">$failure</span></li><li><span class="sub-field">$pending</span></li></ul><p>Many events (<em>e.g.</em>, payment authorization, email verification) result in some 
permission or verification state. End field names with <code>_status</code> to capture these permission states.</p></div></li><li><a class="page-anchor" name="field-type-user-entered-text"></a><div class="field">User-entered text</div><div class="value-details"><code>_title</code>, <code>_desc</code>, <code>_message</code>, <code>_name</code>, <strong>&middot; String</strong><p>When users enter text in a form, send with one of the supported suffixes to take advantage of additional 
machine learning features. </p><br><p>Send user-entered text in field names like <code>post_title</code>, <code>job_desc</code>, 
<code>profile_message</code>, or <code>user_name</code>.</p></div></li></ul></p></div><div class="docs-partial events-api-error-codes"><h1>Error Codes</h1><p>A successful API request will respond with an <code>HTTP 200</code>. 
An invalid API request will respond with an <code>HTTP 400</code>. 
The response body will be a JSON object describing why the request failed.</p><p>Any non-zero <code>status</code> indicates an error.</p><div class="code-container-container"><div class="code-container"><pre class="prettyprint curl code-partial">{
    "status" : 51,         // Non-zero status indicates an error!
    "error_message" : "Invalid API Key. Please check your credentials and try again.",
    "time" : 1327604222,   // When we received the original request (as seconds since the epoch)
    "request" : "{ "$api_key": "XXXXXXXXXXX", "$type": "$capture_payment"... }"
}
</pre><pre class="prettyprint python code-partial"># To check if the call was successful:
response.is_ok() # returns true on successful calls, false on failed score requests.

response.api_status         # returns Sift Error Code<link to error code page>, 51 in this case.

response.api_error_message  # returns the error message associated with the api_status, "Invalid API Key. Please check your credentials and try again." in this case.
</pre><pre class="prettyprint ruby code-partial"># To check if the call was successful:
response.ok? # returns true on successful calls, false on failed score requests.

response.api_status         # returns Sift Error Code<link to error code page>, 51 in this case.

response.api_error_message  # returns the error message associated with the api_status, "Invalid API Key. Please check your credentials and try again." in this case.
</pre><pre class="prettyprint php code-partial">// To check if the call was successful:
response->isOk() // returns true on successful calls, false on failed score requests.

response->apiStatus         // returns Sift Error Code<link to error code page>, 51 in this case.

response->apiErrorMessage  // returns the error message associated with the api_status, "Invalid API Key. Please check your credentials and try again." in this case.
</pre><pre class="prettyprint java code-partial">// To check if the call was successful:
response.isOk(); // returns true on successful calls, false on failed score requests.

response.getApiStatus(); // returns Sift Error Code<link to error code page>, 51 in this case.
response.getApiErrorMessage();  // returns the error message associated with the api_status, "Invalid API Key. Please check your credentials and try again." in this case.
</pre></div></div><h3>Possible status codes</h3><ul class="api-fields codes"><li><div class="field"><code>-4</code></div><div class="value-details"><p>Service currently unavailable. Please try again later.</p></div></li><li><div class="field"><code>-3</code></div><div class="value-details"><p>Server-side timeout processing request. Please try again later.</p></div></li><li><div class="field"><code>-2</code></div><div class="value-details"><p>Unexpected server-side error</p></div></li><li><div class="field"><code>-1</code></div><div class="value-details"><p>Unexpected server-side error</p></div></li><li><div class="field"><code>0</code></div><div class="value-details"><p>Success</p></div></li><li><div class="field"><code>51</code></div><div class="value-details"><p>Invalid API key</p></div></li><li><div class="field"><code>52</code></div><div class="value-details"><p>Invalid characters in field name</p></div></li><li><div class="field"><code>53</code></div><div class="value-details"><p>Invalid characters in field value</p></div></li><li><div class="field"><code>55</code></div><div class="value-details"><p>Missing required field</p></div></li><li><div class="field"><code>56</code></div><div class="value-details"><p>Invalid JSON in request</p></div></li><li><div class="field"><code>57</code></div><div class="value-details"><p>Invalid HTTP body</p></div></li><li><div class="field"><code>60</code></div><div class="value-details"><p>Rate limited</p></div></li><li><div class="field"><code>104</code></div><div class="value-details"><p>Invalid API version</p></div></li><li><div class="field"><code>105</code></div><div class="value-details"><p>Not a valid reserved field</p></div></li><li><div class="field"><code>114</code></div><div class="value-details"><p>Invalid event type</p></div></li><li><div class="field"><code>116</code></div><div class="value-details"><p>Event cannot be processed due to legal restrictions</p></div></li><li><div class="field"><code>117</code></div><div class="value-details"><p>List exceeds maximum size</p></div></li></ul><br><p>If our servers are dealing with unexpected problems, you'll likely see an <code>HTTP 500</code> response.</p></div><div class="docs-partial decisions-api-overview"><h1>Decisions Overview</h1><p>Decisions represent business actions taken on a user, order, content or session (eg "Block Order", 
"Approve User", etc). You use Decisions to record of what has happened. Sift uses 
this information to continuously improve the accuracy of your risk scores.
</p><p>When integrating with Sift, you need to create Decisions that represent the different business
actions your team takes. These will vary based on your business but some examples could include:
"Accept Order”, “Approve Post”, “Put User on Watchlist”, “Block Order”, “Ban User”, etc.
Decisions are entirely customizable by you to meet the needs of your business. Decisions are
created and updated using the
<a href="/console/decisions">Decisions page</a> of the Console.
</p><h2>Using Decisions</h2><p>Decisions can be applied from within the Sift console, sent by your application to the
Sift API, or from a Sift Workflow. Whenever a Decision is applied, it should be
accompanied by  some business action you are taking on your side. For example:
</p><ul><li><em>From the Sift console</em> - When an analyst manually reviews a user and decides an
order should be blocked, the analyst would click a Decision button in the console to cancel
the order. Once it’s clicked, Sift sends a webhook to your system so that you can
cancel the order within your system.</li><li><em>From your application</em> - When your application logic decides to block an order, you’d
first block the order within your system and then send that Decision to the Sift API
to record what took place.</li><li><em>From a Workflow</em> - When your Sift Workflow logic determines to block the creation of a post (eg
Content Abuse Score > 95), Sift generates the Decision on that content, and sends a
Webhook to your system so you can block the post within your system.

</li></ul><h2>Decision Properties</h2><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash">{
  "id": "credit_card_fraud_payment_abuse",
  "name": "Credit Card Fraud",
  "description": "cancel and refund all of the user's pending order.",
  "entity_type": "user",
  "abuse_type": "payment_abuse",
  "category": "block",
  "webhook_url": "http://webhook.example.com",
  "created_at": 1468005577348,
  "created_by": "admin@example.com",
  "updated_at": 1469229177756,
  "updated_by": "billy@exmaple.com"
}</pre></div></div><p>A Decision object includes the following:
</p><ul><li><code>id</code> a unique ID within Sift that is set when the Decision is created.</li><li><code>name</code> The name of the Decision that is shown to analysts within the Sift
console.</li><li><code>description</code> a human friendly description of the Decision. This is displayed along with
the decision name in the Console to help your users better understand what action they are
taking.</li><li><code>entity_type</code> describes whether the decision is related to an order, user, session or content.</li><li><code>abuse_type</code> The type of abuse the Decision is related to. Sift can learn the different
patterns of abuse you face. The possible values are:
<code>payment_abuse</code>, <code>account_abuse</code> <code>content_abuse</code> <code>promotion_abuse</code> <code>account_takeover</code></li><li><code>category</code> describes the type of action being taken. The 3 possible categories are:</li><ul><li><code>BLOCK</code>: You are taking a negative action. (eg "Stop Order", "Blacklist User",
"Ban Listing", etc)</li><li><code>WATCH</code>: Your team is not ready to fully block or accept this entity. (eg "Require
Verification", "Limit Order Amount", "Freeze Listing", etc)</li><li><code>ACCEPT</code>: You are taking a positive action. (eg "Ship Order", "Approve User",
"Publish Listing", etc)</li></ul><li><code>webhook_url</code> URl Sift will send a webhook to when a Decision is made within the Sift
Console or from a Sift Workflow
</li></ul><p>When you apply a Decision, it represents a business action taken at a specific point in time. As
a result, once a Decision is made, it can't be deleted or modified. However, you can represent
updates by applying a subsequent Decision to that entity. This way, you'll have a full
and complete record of what occurred. You can always retrieve the most recent Decision by using the
<span data-href="/decisions-api/decision-status">Decision Status API</span>.
</p><h2>Decisions API Overview</h2><p>The Decisions APIs allow you to:
</p><ul><li><span data-href="/decisions-api/apply-decisions">Apply Decisions</span>
from your application when you take business actions on an entity.</li><li><span data-href="/decisions-api/decision-status">Get the latest Decisions Status</span>
for an entity.</li><li><span data-href="/decisions-api/apply-decisions/get-decisions">Get the list of Decisions</span>
you've created within Sift.</li><li><span data-href="/decisions-api/decision-webhooks">Receive webhooks about Decisions</span>
made by your Sift Workflows.</li></ul></div><div class="docs-partial decisions-api-apply-decisions"><h1>Apply Decisions</h1><p>The Apply Decisions API allows you to apply Decisions to users, orders, content or sessions. This is 
important so that Sift can track the actions you've taken within your system and learn from them. 
You can only apply Decisions that are active and already configured for your account in the
<a href="/console/decisions">Decisions section</a> in the Console.
</p><p>When you send a Decision via the API, we will not send a webhook back to you as you'll already
have a record within your system of what occurred. However, if you were to apply that same
Decision in the Sift Console, we would send a webhook to your application so that you can update
your system.
</p></div><div class="docs-partial two-column"><div><h3>Request</h3><h5>Arguments</h5><ul class="api-fields"><li><div class="field">decision_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The unique identifier of the Decision to be applied to an entity.  <code>decision_id</code> and 
descriptions can be retrieved using the 
<span data-href="/decisions-api/apply-decisions/get-decisions">GET decisions API</span> <br>
<strong>Note</strong>: A Decision configured with <code>entity_type=user</code> can 
only be applied to a user. Similarly, a Decision configured with
<code>entity_type=order</code> can only be applied to an order.</p></div></li><li><div class="field">source</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The source of this Decision.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>MANUAL_REVIEW</span></div><div class="sub-details"><span>This Decision was applied by an analyst during review of a user/order.</span></div></li><li><div class="sub-field"><span>AUTOMATED_RULE</span></div><div class="sub-details"><span>This Decision was applied to a user/order by an automated rules engine or internal
system. There was no human analysis before this Decision was made.</span></div></li><li><div class="sub-field"><span>CHARGEBACK</span></div><div class="sub-details"><span>This Decision was applied to a user/order in response to a chargeback received.
Source of CHARGEBACK should only be used for Decisions your system automatically
takes in response to a Chargeback. <strong>Note</strong>: Whether or not you take automated
action in response to Chargebacks, you should send Sift the
<span data-href="/events-api/reserved-events/chargeback">Chargeback</span>
events.</span></div></li></ul></div></li><li><div class="field">analyst</div><div class="value-details"><strong>String</strong><p>Analyst who applied the Decision, <strong>only</strong> required when source is set to 
<code>manual_review</code>. Does not need to be an email, can be any analyst identifier.</p></div></li><li><div class="field">time</div><div class="value-details"><em>optional</em> <strong>&middot; Long</strong><p>The time the Decision was applied, as a UNIX timestamp in milliseconds. This is only necessary to send for
historical backfill.
</p></div></li><li><div class="field">description</div><div class="value-details"><em>optional</em> <strong>&middot; String</strong><p>A description of the Decision that will be applied.
</p></div></li></ul></div><div class="code-container-container"><h5>Apply User Decision</h5><div class="code-container"><pre class="prettyprint lang curl lang-bash code-partial">$ curl -XPOST https://api.sift.com/v3/accounts/{accountId}/users/{userId}/decisions
-H 'Content-Type: application/json' \n-u {YOUR_API_KEY}:
-d \n        '{
          "decision_id"   : "block_user_payment_abuse",
          "source"        : "MANUAL_REVIEW",
          "analyst"       : "analyst@example.com",
          "description"   : "User linked to three other payment abusers and ordering high value items"
        }'
</pre><pre class="prettyprint lang python code-partial">import sift  

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

applyDecisionRequest = {
    'decision_id'     : 'block_user_payment_abuse',
    'source'          : 'MANUAL_REVIEW',
    'analyst'         : 'analyst@example.com',
    'description'     : 'User linked to three other payment abusers and ordering high value items'
}

response = self.client.apply_user_decision(user_id, applyDecisionRequest)
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.DecisionStatusResponse;
import com.siftscience.DecisionStatusRequest;
import com.siftscience.model.DecisionStatusFieldSet;

SiftClient client = new SiftClient("{YOUR_API_KEY}");
ApplyDecisionRequest request;
ApplyDecisionRequest request = client.buildRequest(
        new ApplyDecisionFieldSet()
            .setAccountId("accountId")
            .setUserId("userId")
            .setDecisionId("block_user_payment_abuse")
            .setAnalyst("analyst@example.com")
            .setSource(DecisionSource.MANUAL_REVIEW))
            .setDescription("User linked to three other payment abusers and ordering high value items");

ApplyDecisionResponse response;

try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
}

DecisionLog decisionLog = response.getDecisionLog();
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(api_key: "{YOUR_API_KEY}", account_id: "{accountId}")

response = client.apply_decision({
  decision_id: "block_user_payment_abuse",
  description: "User linked to three other payment abusers and ordering high value items",
  source: "manual_review",
  analyst: "analyst@example.com",
  user_id: "userId"
})

if (!response.ok?)
  puts "Unable to apply decision: " + response.api_error_message
end
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

$options = array(
    'analyst' => 'analyst@example.com',
    'description' => 'User linked to three other payment abusers and ordering high value items'
);

$response = $client->applyDecisionToUser('userId',
    'block_user_payment_abuse',
    'MANUAL_REVIEW',
    $options);
</pre></div><h5>Order Decision</h5><div class="code-container"><pre class="prettyprint lang curl lang-bash code-partial">$ curl -XPOST https://api.sift.com/v3/accounts/{accountId}/users/{userId}/orders/{orderId}/decisions
-H 'Content-Type: application/json' \n-u {YOUR_API_KEY}:
-d \n        '{
          "decision_id"   : "block_order_payment_abuse",
          "source"        : "AUTOMATED_RULE",
          "description"   : "Auto block pending order as score exceeded risk threshold of 90"
        }'
</pre><pre class="prettyprint lang python code-partial">import sift  

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

applyDecisionRequest = {
    'decision_id': 'block_order_payment_abuse',
    'source': 'AUTOMATED_RULE',
    'description': 'Auto block pending order as score exceeded risk threshold of 90'
}

response = self.client.apply_order_decision(user_id, order_id, applyDecisionRequest)
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.DecisionStatusResponse;
import com.siftscience.DecisionStatusRequest;
import com.siftscience.model.DecisionStatusFieldSet;

SiftClient client = new SiftClient("{YOUR_API_KEY}");
ApplyDecisionRequest request;
ApplyDecisionRequest request = client.buildRequest(
        new ApplyDecisionFieldSet()
            .setAccountId("accountId")
            .setUserId("userId")
            .setOrderId("orderId")
            .setDecisionId("block_order_payment_abuse")
            .setSource(DecisionSource.AUTOMATED_RULE));

ApplyDecisionResponse response;

try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
}

DecisionLog decisionLog = response.getDecisionLog();
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(api_key: "{YOUR_API_KEY}", account_id: "accountId")

response = client.apply_decision({
  decision_id: "block_order_payment_abuse",
  description: "applied via the high priority queue, queued user because their risk score exceeded 85",
  source: "AUTOMATED_RULE",
  user_id: "userId",
  order_id: "orderId"
})

if (!response.ok?)
  puts "Unable to apply decision: " + response.api_error_message
end
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

$options = array(
    'analyst' => 'analyst@example.com',
    'description' => 'applied via the high priority queue, queued user because their risk score exceeded 85'
);

$response = $client->applyDecisionToOrder('userId',
    'order_id',
    'user_looks_ok_payment_decision',
    'MANUAL_REVIEW',
    $options);
</pre></div><h5>Session Decision</h5><div class="code-container"><pre class="prettyprint lang curl lang-bash code-partial">$ curl -XPOST https://api.sift.com/v3/accounts/{accountId}/users/{userId}/sessions/{sessionId}/decisions
-H 'Content-Type: application/json' \n-u {YOUR_API_KEY}:
-d \n        '{
          "decision_id"   : "session_looks_fraud_account_takeover",
          "source"        : "MANUAL_REVIEW",
          "analyst"       : "analyst@example.com",
          "description"   : "compromised account reported to customer service"
        }'
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY', 'account_id' => 'my_account_id'));

$options = array(
    'analyst' => 'analyst@example.com',
    'description' => 'compromised account reported to customer service
');

$response = $client->applyDecisionToSession('userId','sessionId','session_looks_fraud_account_takeover','MANUAL_REVIEW',$options);</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.DecisionStatusResponse;
import com.siftscience.DecisionStatusRequest;
import com.siftscience.model.DecisionStatusFieldSet;

SiftClient client = new SiftClient("{YOUR_API_KEY}");
ApplyDecisionRequest request;
ApplyDecisionRequest request = client.buildRequest(
        new ApplyDecisionFieldSet()
            .setAccountId("accountId")
            .setUserId("userId")
            .setOrderId("sessionId")
            .setDecisionId("session_looks_fraud_account_takover")
            .setSource(DecisionSource.MANUAL_REVIEW)
           .setAnalyst("analyst@example.com")
            .setDescription("compromised account reported to customer service")
);

ApplyDecisionResponse response;

try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
}

DecisionLog decisionLog = response.getDecisionLog();</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(api_key: "{YOUR_API_KEY}", account_id: "accountId")

response = client.apply_decision({
  decision_id: "session_looks_fraud_account_takover",
  description: "compromised account reported to customer service",
  source: "MANUAL_REVIEW",
  analyst: "analyst@example.com",
  user_id: "userId",
  session_id: "sessionId"
})

if (!response.ok?)
  puts "Unable to apply decision: " + response.api_error_message
end</pre><pre class="prettyprint lang python code-partial">import sift  

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

applyDecisionRequest = {
    'decision_id': "session_looks_fraud_account_takover",
    'source': "MANUAL_REVIEW",
    'analyst': 'analyst@example.com'
    'description': 'compromised account reported to customer service'
}

response = self.client.apply_order_decision(user_id, session_id, apply_session)
</pre></div><h5>Content Decision</h5><div class="code-container"><pre class="prettyprint lang curl code-partial">$ curl -XPOST https://api.sift.com/v3/accounts/{accountId}/users/{userId}/content/{contentId}/decisions
-H 'Content-Type: application/json' \n-u {YOUR_API_KEY}:
-d \n        '{
          "decision_id"   : "content_looks_fraud_content_abuse",
          "source"        : "MANUAL_REVIEW",
          "analyst"       : "analyst@example.com",
          "description"   : "fraudulent listing"
        }'</pre><pre class="prettyprint lang ruby code-partial">require "sift"
client = Sift::Client.new({api_key: "{YOUR_API_KEY}", account_id: "{accountId}"})

response = client.apply_decision({
  decision_id: "content_looks_fraud_content_abuse",
  description: "fraudulent listing",
  source: "AUTOMATED_RULE",
  analyst: "analyst@example.com",
  user_id: "userId",
  content_id: "contentId"
})

if (!response.ok?)
  puts "Unable to apply decision: " + response.api_error_message
end</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

applyDecisionRequest = {
    'decision_id'    : 'content_looks_fraud_content_abuse',
    'source'         : 'MANUAL_REVIEW',
    'analyst'.       : 'analyst@example.com',
    'description'    : 'fraudulent listing'

}

response = self.client.apply_content_decision(user_id, content_id, applyDecisionRequest)</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

$options = array(
    'analyst' => 'analyst@example.com',
    'description' => 'frauulent listing'
);

$response = $client->applyDecisionToContent('userId',
    'contentId',
    'content_looks_fraud_content_abuse',
    'MANUAL_REVIEW',
    $options);</pre><pre class="prettyprint lang java code-partial">import com.siftscience.ApplyDecisionRequest;
import com.siftscience.ApplyDecisionResponse;
import com.siftscience.SiftClient;
import com.siftscience.model.ApplyDecisionFieldSet;

SiftClient client = new SiftScience("{YOUR_API_KEY}");
ApplyDecisionRequest request;
ApplyDecisionRequest request = client.buildRequest(
        new ApplyDecisionFieldSet()
            .setAccountId("accountId")
            .setUserId("userId")
            .setContentId("contentId")
            .setDecisionId("content_looks_fraud_content_abuse")
            .setAnalyst("analyst@example.com")
            .setDescription("fraudulent listing")
            .setSource(ApplyDecisionFieldSet.DecisionSource.MANUAL_REVIEW));

ApplyDecisionResponse response;

try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
}

DecisionLog decisionLog = response.getDecisionLog();


</pre></div></div></div><div class="docs-partial two-column"><div><h3>Response </h3><p>For successful requests, the response will have an
<a href="http://en.wikipedia.org/wiki/List_of_HTTP_status_codes">HTTP status code</a> of
<code>200</code>.</p><h5>Attributes</h5><ul class="api-fields"><li><div class="field">entity</div><div class="value-details"><strong>Object</strong><p>The entity object containing information on the entity on which the Decision was
applied.</p></div></li><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><strong>String</strong><p>The id of the entity on which the Decision was applied.</p></div></li><li><div class="field">type</div><div class="value-details"><strong>String</strong><p>Type of entity, (user or order), to which Decision was applied.</p></div></li></ul><li><div class="field">decision</div><div class="value-details"><strong>String</strong><p>The Decision object containing information on the Decision that was applied.</p></div></li><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><strong>String</strong><p>The id of the Decision that was applied.</p></div></li></ul><li><div class="field">time</div><div class="value-details"><strong>Long</strong><p>The time the Decision was applied, as a UNIX timestamp in milliseconds.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash">{
    "entity": {
        "id" : {entity_id}
        "type" : "{entity_type}"
    },
    "decision": {
        "id": "{decision_id}"
    },
    "time": "1461963439151"
    }
}</pre></div></div></div><div class="docs-partial decisions-api-decision-status"><h1>Decision Status</h1><p>The Decision Status API allows you to query the latest Decision for an entity. Sift
returns the latest Decision status for each abuse type so that you have a full view of the entity.
</p><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash code-partial">curl -XGET https://api.sift.com/v3/accounts/{accountId}/users/{userId}/decisions
# or
curl -XGET https://api.sift.com/v3/accounts/{accountId}/orders/{orderId}/decisions
# or
curl -XGET https://api.sift.com/v3/accounts/{accountId}/users/{userId}/sessions/{sessionId}/decisions
# or
curl -XGET https://api.sift.com/v3/accounts/{accountId}/users/{userId}/content/{contentId}/decisions
-H 'Content-Type: application/json' \n-u {YOUR_API_KEY}:
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

response = client.get_user_decisions('the_user_id')
# or
response = client.get_order_decisions('the_order_id')
# or
response = client.get_content_decisions('the_user_id', 'the_content_id')
# or
response = client.get_session_decisions('the_user_id', 'the_session_id')
</pre><pre class="prettyprint lang ruby code-partial">require 'sift'

client = Sift::Client.new(:api_key = > '{YOUR_API_KEY}', :account_id => '{accountId}')

response = client.get_user_decisions('the_user_id')
# or
response = client.get_order_decisions('the_order_id')
# or
response = client.get_content_decisions('the_user_id', 'the_content_id')
# or 
response = client.get_session_decisions('the_user_id', 'the_session_id')

</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => '{YOUR_API_KEY}', 'account_id' => '{accountId}'));

$response = $client->getUserDecisions('the_user_id');
// or
$response = $client->getOrderDecisions('the_order_id');
// or
$response = $client->getContentDecisions('the_user_id', 'the_content_id');
// or
$response = $client->getSessionDecisions('the_user_id', 'the_session_id');

</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.DecisionStatusResponse;
import com.siftscience.DecisionStatusRequest;
import com.siftscience.model.DecisionStatusFieldSet;

SiftClient client = new SiftClient("YOUR_API_KEY");
DecisionStatusRequest request;
request = client.buildRequest(new DecisionStatusFieldSet()
        .setAccountId("4e1a50e172beb95cf1e4ae54")
        .setEntity(DecisionStatusFieldSet.ENTITY_ORDERS)
        .setEntityId("the_order_id"));
// or
request = client.buildRequest(new DecisionStatusFieldSet()
        .setAccountId("4e1a50e172beb95cf1e4ae54")
        .setEntity(DecisionStatusFieldSet.ENTITY_USERS)
        .setEntityId("the_user_id"));
// or
request = client.buildRequest(new DecisionStatusFieldSet()
.setAccountId("4e1a50e172beb95cf1e4ae54")
.setEntity(DecisionStatusFieldSet.ENTITY_CONTENT)
.setUserId("the_user_id")
.setEntityId("the_content_id"));

// or
request = client.buildRequest(new DecisionStatusFieldSet()
.setAccountId("4e1a50e172beb95cf1e4ae54")
.setEntity(DecisionStatusFieldSet.ENTITY_SESSION)
.setUserId("the_user_id")
.setEntityId("the_session_id"));

DecisionStatusResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
}
Map<String, LatestDecision> decisionStatuses = response.getDecisionStatuses();
</pre></div></div><p>Be sure to replace <code>{accountId}</code> with your Sift account ID, found on the
<a href="/console/account/profile">Profile Tab</a> on the Console. Also, make sure to pick an
entity (<code>users</code>, <code>orders</code>, <code>sessions</code>, or <code>content</code>) to fill in the id of the entity. Lastly, replace
<code>{YOUR_API_KEY}</code> with your REST API key, found in the
<a href="https://sift.com/console/developer/api-keys">API Keys tab</a> of the Developer
page in the Console. You will receive a response in the following format:
</p><h3>Response</h3><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash">{
  "decisions": {
    "payment_abuse": {
      "decision": {
        "id": "block_user_payment_abuse"
      },
      "time": 1461963439151,
      "webhook_succeeded": true
    },
    "promo_abuse": {
      "decision": {
        "id": "reject_promo_promo_abuse"
      },
      "time": 1461963431151,
      "webhook_succeeded": true
    },
    "content_abuse": {
      "decision": {
        "id": "block_post_content_abuse"
      },
      "time": 1461963429151,
      "webhook_succeeded": true
    },
    "account_abuse": {
      "decision": {
        "id": "ban_account_account_abuse"
      },
      "time": 1461963839151,
      "webhook_succeeded": true
    },
    "legacy": {
      "decision": {
        "id": "block_user_legacy"
      },
      "time": 1461966439151,
      "webhook_succeeded": false
    },
    "account_takeover": {
      "decision": {
        "id": "block_session_account_takeover"
      },
      "time": 1461966441151,
      "webhook_succeeded": true
    },
    "bot_management": {
      "decision": {
        "id": "suspicious_bot_user"
      },
      "time": 1677040435564,
      "webhook_succeeded": true
    }
  }
}</pre></div></div><h3>Response Fields</h3><ul class="api-fields"><li><div class="field">decisions</div><div class="value-details"><strong>Object</strong><p>A map of abuse types to the associated latest Decisions for the entity.</p><h6>Possible Key Values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>payment_abuse</span></div><div class="sub-details"><span>The associated JSON object is the latest Decision for the Payment Abuse abuse type.</span></div></li><li><div class="sub-field"><span>promo_abuse</span></div><div class="sub-details"><span>The associated JSON object is the latest Decision for the Promo Abuse abuse type.</span></div></li><li><div class="sub-field"><span>content_abuse</span></div><div class="sub-details"><span>The associated JSON object is the latest Decision for the Content Abuse abuse type.</span></div></li><li><div class="sub-field"><span>account_abuse</span></div><div class="sub-details"><span>The associated JSON object is the latest Decision for the Account Abuse abuse type.</span></div></li><li><div class="sub-field"><span>legacy</span></div><div class="sub-details"><span>The associated JSON object is the latest Decision for the Legacy abuse type.</span></div></li><li><div class="sub-field"><span>account_takeover</span></div><div class="sub-details"><span>The associated JSON object is the latest Decision for the Account Takeover abuse type.</span></div></li></ul><P><strong>Note: </strong>If a latest Decision does not exist for a particular abuse type, that key and associated JSON object
will not exist in this response.</P></div></li><ul class="api-fields"><li><div class="field">latest decision object</div><div class="value-details"><strong>Object</strong><p>The information associated with the latest Decision for a specific abuse type key (read above).</p></div></li><ul class="api-fields"><li><div class="field">decision</div><div class="value-details"><strong>Object</strong><p>The Decision object containing information on the Decision taken.</p></div></li><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><strong>String</strong><p>The unique identifier of the Decision that was taken.  This is generated by taking the first display
name provided for the Decision, replacing spaces with hyphens, and concatenating it with the fraud
type for which this Decision is configured.</p><br><p><strong>Note:</strong> You cannot have two Decisions with the same initial
display name for any given fraud type.</p></div></li></ul><li><div class="field">time</div><div class="value-details"><strong>Long</strong><p>The time the Decision was applied, as a UNIX timestamp in milliseconds.</p></div></li><li><div class="field">webhook_succeeded</div><div class="value-details"><strong>Boolean</strong><p><code>true</code> if the webhook was successfully sent, <code>false</code> if the webhook failed
to send, <code>null</code> if no webhook is configured.</p></div></li></ul></ul></ul></div><div class="docs-partial decisions-api-decisions-list"><h1>Get Decisions</h1><p>Get Decisions API allows you to retrieve the list of all Decisions you've configured for your
account. Currently, Decisions can only be created in the
<a href="/console/decisions">Decisions section</a> in the Console.
</p><h3>Getting available decisions</h3><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash code-partial">$ curl -XGET https://api.sift.com/v3/accounts/{account_id}/decisions?abuse_types=payment_abuse,legacy,account_takeover&entity_type=user&from=5&limit=10
-u {YOUR_API_KEY}:
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

response = client.get_decisions(entity_type='user', limit=10, start_from=5, abuse_types='legacy,payment_abuse')
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.DecisionStatusResponse;
import com.siftscience.DecisionStatusRequest;
import com.siftscience.model.DecisionStatusFieldSet;

SiftClient client = new SiftClient("{YOUR_API_KEY}");
GetDecisions request = client.buildRequest(new GetDecisionsFieldSet()
        .setAccountId("account_id"))
        .setEntityType(EntityType.USER)
        .setAbuseTypes(ImmutableList.of(AbuseType.PAYMENT_ABUSE, AbuseType.LEGACY)
        .setFrom(5)
        .setLimit(10));

GetDecisionsResponse response;

try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
}

List&lt;Decision&gt; decisions = response.getDecisions();
</pre><pre class="prettyprint ruby code-partial">require "sift"

client = Sift::Client.new(api_key: "{YOUR_API_KEY}", account_id: "{account_id}")

response = client.decisions({
  abuse_types: ["payment_abuse", "legacy"],
  entity_type: "user",
  from: 5,
  limit: 10
})

if (response.ok?) {
  decision = response.body["data"].find do |decision_hash|
    decision_hash["id"] == "block_bad_user"
  end
}
</pre><pre class="prettyprint php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

$options = array(
    'abuse_types' => array('payment_abuse', 'legacy'),
    'entity_type' => 'user',
    'from' => 5,
    'limit' => 10
);

$response = $client.getDecisions($options);
</pre></div></div><h3>Query Parameters</h3><ul class="api-fields"><li><div class="field">entity_type</div><div class="value-details"><em>optional</em><strong> &middot; String</strong><p>Return only decisions applicable to the specified <code>entity_type</code>.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>USER</span></div><div class="sub-details"><span>This Decision should be applied to users.</span></div></li><li><div class="sub-field"><span>ORDER</span></div><div class="sub-details"><span>This Decision should be applied to orders.</span></div></li><li><div class="sub-field"><span>SESSION</span></div><div class="sub-details"><span>This Decision should be applied to sessions.</span></div></li><li><div class="sub-field"><span>CONTENT</span></div><div class="sub-details"><span>This Decision should be applied to content.</span></div></li></ul></div></li><li><div class="field">abuse_types</div><div class="value-details"><em>optional</em><strong> &middot; Comma-separated strings</strong><p>Return only decisions applicable to specified abuse_types.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>LEGACY</span></div><div class="sub-details"><span>Return Decisions associated with the Legacy product.</span></div></li><li><div class="sub-field"><span>PAYMENT_ABUSE</span></div><div class="sub-details"><span>Return Decisions associated with the Payment Abuse product.</span></div></li><li><div class="sub-field"><span>ACCOUNT_ABUSE</span></div><div class="sub-details"><span>Return Decisions associated with the Account Abuse product.</span></div></li><li><div class="sub-field"><span>CONTENT_ABUSE</span></div><div class="sub-details"><span>Return Decisions associated with the Content Abuse product.</span></div></li><li><div class="sub-field"><span>PROMO_ABUSE</span></div><div class="sub-details"><span>Return Decisions associated with the Promotion Abuse product.</span></div></li><li><div class="sub-field"><span>ACCOUNT_TAKEOVER</span></div><div class="sub-details"><span>Return Decisions associated with the Account Takeover product.</span></div></li></ul></div></li><li><div class="field">limit</div><div class="value-details"><em>optional</em><strong> &middot; integer</strong><p>Used in conjunction with the <code>from</code> parameter to paginate results. <code>limit</code> sets
the maximum number of results to return from each request. The default value for limit is
100.</p></div></li><li><div class="field">from</div><div class="value-details"><em>optional</em><strong> &middot; integer</strong><p>Used in conjunction with <code>limit</code> parameter to page through the result set. By default,
result set is sorted by id. The field
<code>from</code> specifies the index of the first entry in a collection to return. The default
value for <code>from</code> is 0. For example if <code>from</code> is set to 10 you will receive the
11th decision + <code>limit</code>.

</p></div></li></ul><h3>Response</h3><p>For successful requests, the response should have an
<a href="http://en.wikipedia.org/wiki/List_of_HTTP_status_codes">HTTP status code</a> of
<code>200</code>. You will receive a response in the following format:
</p><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash">{
  "data": [
    {
      "id": "block_user_payment_abuse",
      "name": "Block user",
      "description": "cancel and refund all of the user's pending order.",
      "entity_type": "user",
      "abuse_type": "payment_abuse",
      "category": "block",
      "webhook_url": "http://webhook.example.com",
      "created_at": 1468005577348,
      "created_by": "admin@example.com",
      "updated_at": 1469229177756,
      "updated_by": "billy@exmaple.com"
    },
    {
      "id": "user_looks_ok_legacy",
      "name": "User looks ok",
      "description": "legacy decision for users that looks ok",
      "entity_type": "user",
      "abuse_type": "legacy",
      "category": "accept",
      "webhook_url": "http://webhook.example.com",
      "created_at": 1468005577348,
      "created_by": "admin@example.com",
      "updated_at": 1469229177756,
      "updated_by": "billy@exmaple.com"
    },
    {
      "id": "session_looks_fraud_account_takeover",
      "name": "Session looks fraud",
      "description": "Manually reviewed, looks fraud (suspected ATO)",
      "category": "block",
      "entity_type": "session",
      "abuse_type": "account_takeover",
      "created_at": 1511204532332,
      "created_by": "billy@example.com",
      "updated_at": 1511204539924,
      "updated_by": "billy@example.com"
    }
  ],
  "has_more": "true",
  "next_ref": "https://api.sift.com/v3/accounts/{account_id}/decisions?entity_type=user&abuse_types=payment_abuse,legacy&from=15&limit=10"
}
</pre></div></div><h3>Response Fields</h3><ul class="api-fields"><li><div class="field">data</div><div class="value-details"><strong>Array</strong><p>An array of decisions.</p></div></li><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><strong>String</strong><p>The id of the decision. This is auto generated when the Decision is created based on the
initial display name of the Decision.</p></div></li><li><div class="field">name</div><div class="value-details"><strong>String</strong><p>Display name of the decision.</p></div></li><li><div class="field">description</div><div class="value-details"><strong>String</strong><p>A description of the Decision. This field is intended as a way to describe the business
action(s) associated with the Decision.</p></div></li><li><div class="field">entity_type</div><div class="value-details"><strong>String</strong><p>Entity type to which this Decision is applicable.</p><h6>Possible Values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>USER</span></div><div class="sub-details"><span>This Decision should be applied to users.</span></div></li><li><div class="sub-field"><span>ORDER</span></div><div class="sub-details"><span>This Decision should be applied to orders.</span></div></li><li><div class="sub-field"><span>SESSION</span></div><div class="sub-details"><span>The Decision should be applied to sessions.</span></div></li><li><div class="sub-field"><span>CONTENT</span></div><div class="sub-details"><span>The Decision should be applied to content.</span></div></li></ul></div></li><li><div class="field">abuse_type</div><div class="value-details"><strong>String</strong><p>Abuse type which this Decision describes.</p><h6>Possible Values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>LEGACY</span></div><div class="sub-details"><span>Return Decisions associated with the Legacy product.</span></div></li><li><div class="sub-field"><span>PAYMENT_ABUSE</span></div><div class="sub-details"><span>Return Decisions associated with the Payment Abuse product.</span></div></li><li><div class="sub-field"><span>ACCOUNT_ABUSE</span></div><div class="sub-details"><span>Return Decisions associated with the Account Abuse product.</span></div></li><li><div class="sub-field"><span>CONTENT_ABUSE</span></div><div class="sub-details"><span>Return Decisions associated with the Content Abuse product.</span></div></li><li><div class="sub-field"><span>PROMO_ABUSE</span></div><div class="sub-details"><span>Return Decisions associated with the Promotion Abuse product.</span></div></li></ul></div></li><li><div class="field">category</div><div class="value-details"><strong>String</strong><p>Roughly categorizes the type of business action that this Decision represents. For
example, if the Decision was named "Cancel Order" and every time this Decision was
applied your application was configured to cancel the user’s order, this should be
categorized as a <code>BLOCK</code> Decision.</p><h6>Possible Values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>ACCEPT</span></div><div class="sub-details"><span>Accept entity</span></div></li><li><div class="sub-field"><span>WATCH</span></div><div class="sub-details"><span>Watch entity</span></div></li><li><div class="sub-field"><span>BLOCK</span></div><div class="sub-details"><span>Block entity</span></div></li></ul></div></li><li><div class="field">webhook_url</div><div class="value-details"><strong>String</strong><p>URL configured as webhook for this Decision. This is an optional field, only necessary
if you are receiving Webhooks. When a Decision with a webhook is applied via API, no
webhook notification will be sent.</p></div></li><li><div class="field">created_at</div><div class="value-details"><strong>integer</strong><p>Time at which the Decision was created, as a UNIX timestamp in milliseconds.</p></div></li><li><div class="field">created_by</div><div class="value-details"><strong>String</strong><p>User who created decision.</p></div></li><li><div class="field">updated_at</div><div class="value-details"><strong>integer</strong><p>Time at which the Decision was last updated, as a UNIX timestamp in milliseconds.</p></div></li><li><div class="field">updated_by</div><div class="value-details"><strong>String</strong><p>User who last updated the Decision.</p></div></li></ul><li><div class="field">has_more</div><div class="value-details"><strong>boolean</strong><p>For result sets that span multiple requests, the <code>has_more</code> field indicates whether
more results may be retrieved. Used in conjunction with <code>next_ref</code> to paginate
result sets.</p></div></li><li><div class="field">next_ref</div><div class="value-details"><strong>boolean</strong><p>For paginated results, <code>next_ref</code> contains a URL where the next set of results can
be retrieved</p></div></li></ul></div><div class="docs-partial decisions-api-decision-webhooks-message-body"><h1>Decision Webhooks</h1><p>Decision Webhooks can be set up when you create or edit a Decision in the Sift Console.
If you haven't yet configured webhooks on your Decisions, read our
<a href="/resources/tutorials/decisions">Connecting Decisions to Business Actions</a> tutorial to
learn how. Once you've configured webhooks for a Decision, we'll start sending webhooks to the
URL you've specified whenever a Decision is applied by a user or automatically by a Workflow.
Webhooks will be sent with the following body:
</p><h2>Decision Webhook Versions</h2><p>Sift maintains the right to update the latest version of webhook as long as it does not introduce a breaking change. If there are breaking changes implemented we will create another version of the decision webhook.
</p></div><div class="docs-partial decisions-api-decision-webhooks-message-body-version-1-0-response"><h3>Version 1.0 Response</h3><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl ruby php python java lang-bash code-partial">{
  "entity": {
    "type": "user",
    "id": "USER123",
    "external_entity_id":"externalEntityId"
  },
  "decision": {
    "id": "block_user_payment_abuse"
  },
  "time": 1461963439151
}
</pre></div></div><h3>Version 1.0 Response Fields</h3><ul class="api-fields"><li><div class="field">entity</div><div class="value-details"><strong>Object</strong><p>The entity object containing information on the entity on which the Decision was taken.</p></div></li><ul class="api-fields"><li><div class="field">type</div><div class="value-details"><strong>String</strong><p>The type of entity on which the Decision was taken.</p><h6>Possible Values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>user</span></div><div class="sub-details"><span>This entity is a user and so the following <code>id</code> field will be a
<code>$user_id</code>.</span></div></li><li><div class="sub-field"><span>order</span></div><div class="sub-details"><span>This entity is an order and so the following <code>id</code> field will be an
<code>$order_id</code>.</span></div></li><li><div class="sub-field"><span>session</span></div><div class="sub-details"><span>This entity is a session and so the following <code>id</code> field will be an 
<code>$session_id</code>.</span></div></li><li><div class="sub-field"><span>content</span></div><div class="sub-details"><span>This entity is a content and so the following <code>id</code> field will be a
<code>$content_id</code>.</span></div></li></ul></div></li><li><div class="field">id</div><div class="value-details"><strong>String</strong><p>The unique identifier of the entity on which the Decision was taken.</p></div></li><li><div class="field">external_entity_id</div><div class="value-details"><strong>String</strong><p>The external entity id is used for cases where we have a different entity id internally. </p></div></li></ul><li><div class="field">decision</div><div class="value-details"><strong>Object</strong><p>The Decision object containing information on the Decision taken.</p></div></li><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><strong>String</strong><p>The unique identifier of the Decision that was taken. This is generated by taking the first display
name provided for the Decision, replacing spaces with underscores, and concatenating it with the fraud
type for which this Decision is configured.</p><br><p><strong>Note</strong>: You cannot have two Decisions with the same initial
display name for any given fraud type.</p></div></li></ul><li><div class="field">time</div><div class="value-details"><strong>Long</strong><p>The time the Decision was applied, as a UNIX timestamp in milliseconds.</p></div></li></ul></div><div class="docs-partial decisions-api-decision-webhooks-message-body-version-1-1-response"><h3>Version 1.1 Response</h3><p>Please contact your account manager or support@sift.com to upgrade to this version.
</p><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl ruby php python java lang-bash code-partial">{
  "entity": {
    "type": "user",
    "id": "USER123",
    "user_id": "External-USER123",
    "external_entity_id":"externalEntityId"
  },
  "decision": {
    "id": "block_user_payment_abuse"
  },
  "time": 1461963439151
}
</pre></div></div><h3>Version 1.1 Response Fields</h3><ul class="api-fields"><li><div class="field">entity</div><div class="value-details"><strong>Object</strong><p>The entity object containing information on the entity on which the Decision was taken.</p></div></li><ul class="api-fields"><li><div class="field">type</div><div class="value-details"><strong>String</strong><p>The type of entity on which the Decision was taken.</p><h6>Possible Values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>user</span></div><div class="sub-details"><span>This entity is a user and so the following <code>id</code> field will be a
<code>$user_id</code>.</span></div></li><li><div class="sub-field"><span>order</span></div><div class="sub-details"><span>This entity is an order and so the following <code>id</code> field will be an
<code>$order_id</code>.</span></div></li><li><div class="sub-field"><span>session</span></div><div class="sub-details"><span>This entity is a session and so the following <code>id</code> field will be an 
<code>$session_id</code>.</span></div></li><li><div class="sub-field"><span>content</span></div><div class="sub-details"><span>This entity is a content and so the following <code>id</code> field will be a
<code>$content_id</code>.</span></div></li></ul></div></li><li><div class="field">id</div><div class="value-details"><strong>String</strong><p>The unique identifier of the entity on which the Decision was taken.</p></div></li><li><div class="field">user_id</div><div class="value-details"><strong>String</strong><p>The user's account ID according to your systems. Note: User IDs are case sensitive.</p></div></li><li><div class="field">external_entity_id</div><div class="value-details"><strong>String</strong><p>The external entity id is used for cases where we have a different entity id internally. </p></div></li></ul><li><div class="field">decision</div><div class="value-details"><strong>Object</strong><p>The Decision object containing information on the Decision taken.</p></div></li><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><strong>String</strong><p>The unique identifier of the Decision that was taken. This is generated by taking the first display
name provided for the Decision, replacing spaces with underscores, and concatenating it with the fraud
type for which this Decision is configured.</p><br><p><strong>Note</strong>: You cannot have two Decisions with the same initial
display name for any given fraud type.</p></div></li></ul><li><div class="field">time</div><div class="value-details"><strong>Long</strong><p>The time the Decision was applied, as a UNIX timestamp in milliseconds.</p></div></li></ul></div><div class="docs-partial decisions-api-decision-webhooks-message-body-version-1-2-response"><h3>Version 1.2 Response</h3><p>Please contact your account manager or support@sift.com to upgrade to this version.
</p><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl ruby php python java lang-bash code-partial">{
  "entity":{
    "id":"entityId",
    "user_id":"userId",
    "external_entity_id":"externalEntityId",
    "type":"order"
  },
  "decision":{
    "id":"approved_decision_id",
    "title":"approved",
    "category":"accept"
  },
  "source":{
    "applied_from_type":"review queue"
  },
  "workflow":{
    "run_id":"workflowRunId1",
    "config":{
      "id":"workflowId1",
      "name":"testWorkflowName",
      "version":345613513
    },
    "route":{
      "id":"edgeId1",
      "name":"route 1"
    },
    "manual_review_queue":{
      "name":"queueName"
    }
  },
  "event":{
    "session_id":"session-id-1234",
    "order_id":"order-id-1234",
    "transaction_id":"transaction-id-1"
  },
  "analyst_email":"analyst@domain.com",
  "time":1665435261
}
</pre></div></div><h3>Version 1.2 Response Fields</h3><ul class="api-fields"><li><div class="field">entity</div><div class="value-details"><strong>Object</strong><p>The entity object containing information on the entity on which the Decision was taken.</p></div></li><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><strong>String</strong><p>The unique identifier of the entity on which the Decision was taken.</p></div></li><li><div class="field">user_id</div><div class="value-details"><strong>String</strong><p>The user's account ID according to your systems. Note: User IDs are case sensitive.</p></div></li><li><div class="field">external_entity_id</div><div class="value-details"><strong>String</strong><p>The external entity id is used for cases where we have a different entity id internally. </p></div></li><li><div class="field">type</div><div class="value-details"><strong>String</strong><p>The type of entity on which the Decision was taken.</p><h6>Possible Values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>user</span></div><div class="sub-details"><span>This entity is a user and so the following <code>id</code> field will be a
<code>$user_id</code>.</span></div></li><li><div class="sub-field"><span>order</span></div><div class="sub-details"><span>This entity is an order and so the following <code>id</code> field will be an
<code>$order_id</code>.</span></div></li><li><div class="sub-field"><span>session</span></div><div class="sub-details"><span>This entity is a session and so the following <code>id</code> field will be an 
<code>$session_id</code>.</span></div></li><li><div class="sub-field"><span>content</span></div><div class="sub-details"><span>This entity is a content and so the following <code>id</code> field will be a
<code>$content_id</code>.</span></div></li></ul></div></li></ul><li><div class="field">decision</div><div class="value-details"><strong>Object</strong><p>The Decision object containing information on the Decision taken.</p></div></li><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><strong>String</strong><p>The unique identifier of the Decision that was taken. This is generated by taking the first display
name provided for the Decision, replacing spaces with underscores, and concatenating it with the fraud
type for which this Decision is configured.</p><br><p><strong>Note</strong>: You cannot have two Decisions with the same initial
display name for any given fraud type.</p></div></li><li><div class="field">title</div><div class="value-details"><strong>String</strong><p>The title of the decision which can be seen in the Sift Console.</p></div></li><li><div class="field">category</div><div class="value-details"><strong>String</strong><p>The category of decision.</p><h6>Possible Values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>accept</span></div></li><li><div class="sub-field"><span>watch</span></div></li><li><div class="sub-field"><span>block</span></div></li></ul></div></li></ul><li><div class="field">workflow</div><div class="value-details"><strong>Object</strong><p>The Workflow object containing the workflow information.</p></div></li><ul class="api-fields"><li><div class="field">run_id</div><div class="value-details"><strong>String</strong><p>The workflow run unique identifier.</p></div></li><li><div class="field">config</div><div class="value-details"><strong>Object</strong><p>The Workflow Config object containing the workflow configuration.</p></div></li><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><strong>String</strong><p>The workflow configuration identifier.</p></div></li><li><div class="field">name</div><div class="value-details"><strong>String</strong><p>The workflow configuration name.</p></div></li><li><div class="field">version</div><div class="value-details"><strong>String</strong><p>The workflow configuration version.</p></div></li></ul><li><div class="field">route</div><div class="value-details"><strong>Object</strong><p>The Workflow Route containing the first route triggered by the workflow.</p></div></li><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><strong>String</strong><p>The workflow route identifier.</p></div></li><li><div class="field">name</div><div class="value-details"><strong>String</strong><p>The workflow route name.</p></div></li></ul><li><div class="field">manual_review_queue</div><div class="value-details"><strong>Object</strong><p>The Manual Review Queue object containing manual review queue information.</p></div></li><ul class="api-fields"><li><div class="field">name</div><div class="value-details"><strong>String</strong><p>The manual review queue name.</p></div></li></ul></ul><li><div class="field">source</div><div class="value-details"><strong>Object</strong><p>The Source object containing information on how the decision was made.</p></div></li><ul class="api-fields"><li><div class="field">applied_from_type</div><div class="value-details"><strong>String</strong><p>The location where this decision was applied.</p><h6>Possible Values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>console</span></div><div class="sub-details"><span>The decision was applied from the Console.</span></div></li><li><div class="sub-field"><span>api</span></div><div class="sub-details"><span>The decision was applied from the API.</span></div></li><li><div class="sub-field"><span>workflow</span></div><div class="sub-details"><span>The decision was applied from a Workflow.</span></div></li><li><div class="sub-field"><span>review queue</span></div><div class="sub-details"><span>The decision was applied from a Review Queue.</span></div></li></ul></div></li></ul><li><div class="field">event</div><div class="value-details"><strong>Object</strong><p>Event data associated to the decision. These fields will be provided when they are available. </p></div></li><ul class="api-fields"><li><div class="field">order_id</div><div class="value-details"><strong>String</strong><p>The ID for the order.</p></div></li><li><div class="field">transaction_id</div><div class="value-details"><strong>String</strong><p>The ID for the transaction.</p></div></li><li><div class="field">session_id</div><div class="value-details"><strong>String</strong><p>The ID for the session.</p></div></li><li><div class="field">content_id</div><div class="value-details"><strong>String</strong><p>The ID for the content.</p></div></li></ul><li><div class="field">analyst_email</div><div class="value-details"><strong>String</strong><p>The email of the analyst that applied the decision.</p></div></li><li><div class="field">time</div><div class="value-details"><strong>Long</strong><p>The time the Decision was applied, as a UNIX timestamp in milliseconds.</p></div></li></ul><p>Now that you know what to expect from your Decision Webhooks, you need to authenticate that they are indeed
coming from Sift and meant for you.  We'll cover this in the next section.</p></div><div class="docs-partial decisions-api-decision-webhooks-authentication"><h1>Authentication</h1><p>Take advantage of webhook authentication to ensure that the request you receive is coming from Sift.</p><p><strong>Notes</strong>:</p><ul><li>There can only be one active webhook key per account.</li><li>Generate your key on the Production API Keys page of your <a href="/console/developer/api-keys">console</a>.</li><li>The Production key is used for your Sandbox account.</li><li>The Signature will appear in the http header of the webhook request as 'X-Sift-Science-Signature'.</li></ul><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash code-partial">Switch to one of the programming language tabs for the specific language implementation of webhook signature verification.
</pre><pre class="prettyprint lang python code-partial">import json
from hashlib import sha1
import hmac

from flask import request

SIFT_WEBHOOK_SECRET_KEY = "#####"

@app.route("/webhook")
def webhook():
  # Let's check whether this webhook actually came from Sift!
  # First let's grab the signature from the postback's headers
  postback_signature = request.get("X-Sift-Science-Signature")

  # Next, let's try to assemble the signature on our side to verify
  postback_body = json.dumps(request.json)

  h = hmac.new(SIFT_WEBHOOK_SECRET_KEY, postback_body, sha1)
  verification_signature = "sha1={}".format(h.hexdigest())

  if verification_signature == postback_signature:
    process_webhook()
  else:
    raise SomeException()
</pre><pre class="prettyprint lang ruby code-partial">require 'json'
require 'openssl'
require 'sinatra'

SIFT_WEBHOOK_SECRET_KEY = "#####"

post '/webhook' do
  # Let's check whether this webhook actually came from Sift!
  # First let's grab the signature from the postback's headers
  postback_signature = request.env['X-Sift-Science-Signature']

  # Next, let's try to assemble the signature on our side to verify
  digest  = OpenSSL::Digest.new('sha1')
  calculated_hmac = OpenSSL::HMAC.hexdigest(digest, SIFT_WEBHOOK_SECRET_KEY, request.body)
  verification_signature = "sha1=&#35{calculated_hmac}"

  if verification_signature == postback_signature
    puts "success"
  else
    raise Exception
  end
end
</pre><pre class="prettyprint lang php code-partial">SIFT_WEBHOOK_SECRET_KEY = "#####";
BLOCK_ACTION = 'block'; #name of the Action you set up in the console

# Let's check whether this webhook actually came from Sift!
# First let's grab the signature from the postback's headers
$webhookSignature = $headers['X-Sift-Science-Signature'];

# Next, let's try to assemble the signature on our side to verify
$verificationSignature  = "sha1=" . hash_hmac('sha1', $requestBody, $SIFT_WEBHOOK_SECRET_KEY);

if ($webhookSignature == $verificationSignature) {
  $siftRequest = json_decode($requestBody);
  if ($siftRequest->action->id == BLOCK_ACTION) {
    ...
  }
}
</pre><pre class="prettyprint lang java code-partial">import org.apache.commons.codec.digest.HmacUtils;

String SIFT_WEBHOOK_SECRET_KEY = "#####";
// Get the "X-Sift-Science-Signature" request header.
String webhookSignature = requestHeaders.get("X-Sift-Science-Signature");
String verificationSignature = "sha1=" + HmacUtils.hmacSha1Hex(
    SIFT_WEBHOOK_SECRET_KEY.getBytes(),
    requestBody);

if (!webhookSignature.equals(verificationSignature)) {
    // Handle unauthenticated webhook
}</pre></div></div></div><div class="docs-partial workflows-api-overview"><h1>Workflows API Overview</h1><p> The final, and most important step to integrating with Sift is to write 
business logic that makes Decisions based on the Sift Risk Score. Workflows allow
you to write and evaluate this logic in Sift. For example, you can setup a 
Workflow that evaluates whenever a user creates an account. You can specify 
criteria (e.g. country = "Canada" and Sift Score > 80) that when met, Sift will 
auto-block, auto-accept, or send the user to a Sift Review Queue for manual review. 
The configuration is all up to you, and logic can be updated in the console. </p><p>Please read our <a href="/resources/tutorials/workflows">Creating a Workflow</a> 
tutorial, which will walk you through the process of creating Workflows and attaching Decisions/Review Queues 
to them.  </p><p> <strong>Workflows Integration</strong></p><p>To successfully integrate with Workflows, you need to send the trigger event to Sift 
, and ingest the Workflow Decision. There are two ways to consume Workflow 
Decisions:</p><ul><li> <strong>Synchronously</strong> when you send Sift any REST API event using the 
<code>return_workflow_status=true</code> 
URL parameter. This is best for when you need to know the output of the Workflow immediately after the 
triggering event occurs to make a time sensitive decision.</li><li><strong>Asynchronously</strong> if you send the trigger event to Sift without any 
parameters, the Workflow will run asynchronously. This is best for when you don't need to take action 
immediately after the triggering event occurs. In this scenario you will need to set up your 
Workflow Decisions with webhooks to successfully consume the output of the Workflow. Additionally note that if 
you have set up your Workflow to only run with API request, you must send the Workflow trigger event 
with the <code>force_workflow_run=true</code> parameter to ensure that the workflow executes asynchronously. </li></ul><h5>Note</h5><p>If your workflow includes Review Queues, you will need to configure Webhooks on the queue 
Decisions. Also note that you can both run a Workflow synchronously, and receive Webhooks. This is a common 
case for Workflows that both auto block some users and queue medium risk users in the review queue. </p></div><div class="docs-partial workflows-api-running-workflows-synchronous two-column"><div> <h1>Synchronous Workflows</h1><h3>Request</h3><p>If you want to receive the Workflow Decision synchronously, you simply need to add 
<code>return_workflow_status=true</code> 
to the URL parameters when you are sending Sift a Reserved or Custom event. </p><h5>Query Parameters</h5><ul class="api-fields"><li><div class="field">return_workflow_status</div><div class="value-details"><strong>Boolean</strong><p> Set to <code>true</code> to get the Workflow Decision Synchronously. If a Workflow is not running on the event 
you send this with, it will just return a score synchronously with an empty <code>workflow_statuses</code> 
block.</p></div></li><li><div class="field">return_route_info</div><div class="value-details"><em>optional</em><strong> &middot; Boolean</strong><p>Set to <code>true</code> to get the route information from the Workflow Decision. This parameter must be used with the <code>return_workflow_status</code> query parameter.</p></div></li><li> <div class="field">abuse_types</div><div class="value-details"><em>optional</em><strong> &middot; String</strong><p>the abuse type of the scores that you want to return. If you are a customer that has not upgraded to abuse specific scores, and are just using "Sift Score", you must set to <code>legacy</code> to get a score.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash code-partial">curl -X POST "https://api.sift.com/v205/events?return_workflow_status=true&return_route_info&abuse_types=legacy"
-H "Accept: application/json"
-d '{
  "$api_key": "YOUR_API_KEY",
  "$type": "$create_order",
  "$user_id": "test_user"
}'</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

properties = {
  '$user_id'    : 'test_user',
  '$user_email' : 'sample_user@gmail.com'
} 
response = client.track('$create_order', properties, return_workflow_status=True,
                         return_route_info=True,
                         abuse_types=['promo_abuse', 'content_abuse', 'payment_abuse'])
</pre><pre class="prettyprint lang ruby code-partial">require 'sift'

client = Sift::Client.new(:api_key => 'YOUR_API_KEY')

properties = {
  '$user_id'    => 'sample_user',
  '$user_email' => 'sample_user@gmail.com'
}
response = client.track('$create_order', properties, :return_workflow_status => true,
                        :return_route_info => True,
                        :abuse_types => ['promo_abuse', 'payment_abuse'])
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

$properties = array(
  '$user_id' => 'sample_user51', 
  '$user_email' => 'sample_user@gmail.com'
);
$opts = array(
          'return_workflow_status' => True,
          'return_route_info' => True,
          'abuse_types' =>  array(
                              'promo_abuse', 
                              'payment_abuse'
                            )
        ));
$response = $client->track('$create_order', $properties, $opts);
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.exception.SiftException;
import com.siftscience.model.CreateOrderFieldSet;

SiftClient client = new SiftClient("YOUR_API_KEY");
EventRequest request = client.buildRequest(
        new CreateOrderFieldSet()
                .setUserId("sample_user51")
                .setUserEmail("sample_user@gmail.com"))
        .withWorkflowStatus()
        .withRouteInfo()
        .withScores("promo_abuse", "payment_abuse");

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}

</pre></div></div></div><div class="docs-partial two-column"><div><h3>Response</h3><h5>Attributes</h5><ul class="api-fields"><li><div class="field">status</div><div class="value-details"><strong>Integer</strong><p> <span data-href="/events-api/error-codes">Success or Error Code</span> of the event ingestion. </p></div></li><li><div class="field">error_message</div><div class="value-details"><strong>String</strong></div></li><li><div class="field">request</div><div class="value-details"><strong>String</strong><p>The event you sent</p></div></li><li><div class="field">time</div><div class="value-details"><strong>Integer</strong><p>Time event was processed</p></div></li><li><div class="field">score_response</div><div class="value-details"><strong>Object</strong></div></li><ul class="api-fields"><li><div class="field">status</div><div class="value-details"><strong>Integer</strong><p> <span data-href="/events-api/error-codes">Success or Error Code</span> of the re-score. </p></div></li><li><div class="field">error_message</div><div class="value-details"><strong>String</strong></div></li><li><div class="field">user_id</div><div class="value-details"><strong>String</strong></div></li><li><div class="field">scores</div><div class="value-details"><strong><span data-href="/score-api/synchronous-scores">Scores Map</span></strong></div></li><li><div class="field">latest_labels</div><div class="value-details"><strong><span data-href="/score-api/synchronous-scores">Latest Labels Map</span></strong></div></li><li><div class="field">workflow_statuses</div><div class="value-details"><strong>Object</strong><p> A list of objects containing the responses of any 
Workflows that were triggered by this event. There will be one list item per Workflow triggered. 
If the Workflow has a fatal error, or there is no running Workflow configured for this event, 
the object will be empty. </p></div></li><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><strong>String</strong><p> The run ID of this specific Workflow run. Pass to the <span data-href="/workflows-api/workflow-status">Workflow Status API </span>to view the latest Workflow Status for this ID. </p></div></li><li><div class="field">state</div><div class="value-details"><strong>String</strong><p> The state of this Workflow run. When you request a status synchronously, the workflow will either be 
<code>running</code> or <code>failed</code>. If it is <em>running</em>, but the <code>history</code> includes a 
Decision, there will be no further updates. </p></div></li><li><div class="field">config</div><div class="value-details"><strong>Object</strong><p> Details about the Workflow ID and version. </p></div></li><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><strong>String</strong><p> The static, unique identifier ID of the Workflow</p></div></li><li><div class="field">version</div><div class="value-details"><strong>String</strong><p> The version of this Workflow. This updates each time the Workflow logic is updated</p></div></li></ul><li><div class="field">config_display_name</div><div class="value-details"><strong>String</strong><p> The Workflow's current display name</p></div></li><li><div class="field">abuse_types</div><div class="value-details"><strong>String</strong><p> A list of abuse types of the Decisions this Workflow can apply. Possible Values are <code>payment_abuse</code>,
<code>promotion_abuse</code>,  <code>content_abuse</code>, <code>account_abuse</code>, <code>account_takeover</code>, 
and <code>legacy</code>.     </p></div></li><li><div class="field">entity</div><div class="value-details"><strong>Object</strong><p>Information about the entity that this Workflow is Deciding on. </p></div></li><ul class="api-fields"><li><div class="field">type</div><div class="value-details"><strong>String</strong><p>The type of entity on which the Decision was taken. Possible Values are <code>user</code>, 
<code>order</code>, <code>content</code>, or <code>session</code></p></div></li><li><div class="field">id</div><div class="value-details"><strong>String</strong><p>The unique identifier of the entity on which the Decision was taken.</p></div></li></ul><li><div class="field">history</div><div class="value-details"><strong>Object</strong><p>A list of apps/stages that have occurred in the Workflow run. </p></div></li><ul class="api-fields"><li><div class="field">app</div><div class="value-details"><strong>String</strong><p>The type of app which was run. Values include <code>decision</code>, <code>review queue</code>, 
<code>order</code>, <code>user</code>, <code>content</code>, <code>session</code>, and <code>event</code>. <br></p><p> Decision is the final stage in a Workflow so a Workflow is complete when the Decision app is 
reached. review_queue means the item is queued in the Sift Console waiting
for an analyst decision. <br> The other options are internal apps, indicating the event was processed,
and the apps indicate the entity was scored by our Machine Learning system. </p></div></li><li><div class="field">name</div><div class="value-details"><strong>String</strong><p>The display name of the app which was run.</p></div></li><li><div class="field">state</div><div class="value-details"><strong>String</strong><p>The state of this app. Options are either <code>running</code>, <code>finished</code>, or <code>failed</code>. </p></div></li><li><div class="field">config</div><div class="value-details"><strong>Object</strong><p>The configuration information of the app.</p></div></li><ul class="api-fields"><li><div class="field">decision_id</div><div class="value-details"><strong>String</strong><p> The unique identifier of the Decision taken in this app.
This will only be returned if the app is a decision app. </p></div></li><li><div class="field">buttons</div><div class="value-details"><strong>Object</strong><p>A list of Decision buttons currently configured in the Review Queue. </p></div></li><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><strong>String</strong><p>The unique Decision ID for this button.</p></div></li><li><div class="field">name</div><div class="value-details"><strong>String</strong><p>The display name for this button.</p></div></li></ul></ul></ul><li><div class="field">route</div><div class="value-details"><strong>Object</strong><p>The route information of the app.</p></div></li><ul class="api-fields"><li><div class="field">name</div><div class="value-details"><strong>String</strong><p>The display name of the route.</p></div></li></ul></ul></ul></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash">{
  "http_status_code": 200
  "body": {
    "status": 0,
    "error_message": "OK",
    "request": "body_of_the_request_you_sent",
    "time": 1454517138,
    "score_response": {
      "status": 0, 
      "error_message": "OK", 
      "user_id": "billy_jones_301",
      "scores": {
        "payment_abuse": {
          "score": 0.898391231245,
          "reasons": [
            {
              "name": "UsersPerDevice",
              "value": 4,
              "details": {
                "users": "a, b, c, d"
              }
            }
          ]
        },
        "promotion_abuse": {
          "score": 0.472838192111,
          "reasons": []
        },
      },
      "latest_labels": {
        "payment_abuse": {
          "is_fraud": true,
          "time": 1352201880,
          "description": "received a chargeback"
        },
        "promotion_abuse": {
          "is_fraud": false,
          "time": 1362205000
        }
      },
      "workflow_statuses": [
        {
          "id": "6dbq76qbaaaaa",
          "state": "running",
          "config": {
            "id": "pv3u5hyaaa",
            "version": "1468013109122"
          },
          "config_display_name": "my create order flow",
          "abuse_types": ["payment_abuse", "legacy"],
          "entity": {
            "type": "user",
            "id": "test"
          },
          "history": [
            {
              "app": "decision",
              "name": "ban user",
              "state": "running",
              "config": {
               "decision_id": "ban-user-payment-abuse"
            }
            },
            {
              "app": "review_queue",
              "name": "risky user queue",
              "state": "finished"
              "config": {
                "buttons": [
                  { "id": "ban-user-payment-abuse", "name": "Ban User" },
                  { "id": "suspend-user-payment-abuse", "name": "Ban User" },
                  { "id": "accept-user-payment-abuse", "name": "Ban User" }
                ]
              }
            },
            {
              "app": "user_scorer",
              "name": "Entity",
              "state": "finished"
            },
            {
              "app": "event_processor",
              "name": "Event",
              "state": "finished"
            }
          ],
          "route": {
            "name": "route 1"
          }
        }
      ]
    }
  }
}
</pre></div></div></div><div class="docs-partial workflows-api-running-workflows-asynchronous"><h1>Asynchronous Workflows</h1><p> If you have a running Workflow configured in the Sift Console, 
and you send the Workflow trigger event without setting 
<code>return_workflow_status=true</code>, the Workflow will run asynchronously. 
See <span data-href="/events-api">Events API</span> to see how to send events to Sift. 
Workflows that are ran asynchronously, and Workflows that use Review Queues require
Webhooks to receive the final Decision. </p><p> To receive Decision Webhooks, just add a Webhook URL to the Decisions used in your Workflow, 
and see <span data-href="/decisions-api/decision-webhooks">Decision Webhooks</span> documentation.</p><p>If your Workflow is configured to only <a href="/resources/tutorials/workflows">run on API Request</a>, you will 
need to include <code>force_workflow_run=true</code> to run the Workflow asynchronously. </p></div><div class="docs-partial two-column"><div> <h3>Force Asynchronous Run Request</h3><h5>Query Parameters</h5><ul class="api-fields"><li><div class="field">force_workflow_run</div><div class="value-details"><strong>Boolean</strong><p> Set to <code>true</code> to run the Workflow Asynchronously if your Workflow is set to only run on API 
Request. If a Workflow is not running on the event you send this with, there will be no error or 
score response, and no workflow will run. </p></div></li><li> <div class="field">abuse_types</div><div class="value-details"><em>optional</em><strong> &middot; String</strong><p>the abuse type of the scores that you want to return. If you are a customer that has not upgraded to abuse specific scores, and are just using "Sift Score", you must set to <code>legacy</code> to get a score.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash code-partial">curl -X POST "https://api.sift.com/v205/events?return_workflow_status=true&abuse_types=legacy"
-H "Accept: application/json"
-d '{
  "$api_key": "YOUR_API_KEY",
  "$type": "$create_order",
  "$user_id": "test_user"
}'</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

properties = {
  '$user_id'    : 'test_user',
  '$user_email' : 'sample_user@gmail.com'
} 
response = client.track('$create_order', properties, force_workflow_run=True, 
                         abuse_types=['promo_abuse', 'content_abuse', 'payment_abuse'])
</pre><pre class="prettyprint lang ruby code-partial">require 'sift'

client = Sift::Client.new(:api_key => 'YOUR_API_KEY')

properties = {
  '$user_id'    => 'sample_user',
  '$user_email' => 'sample_user@gmail.com'
}
response = client.track('$create_order', properties, :force_workflow_run => true,
                        :abuse_types => ['promo_abuse', 'payment_abuse'])
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

$properties = array(
  '$user_id' => 'sample_user51', 
  '$user_email' => 'sample_user@gmail.com'
);
$opts = array(
          'force_workflow_run' => True,
          'abuse_types' =>  array(
                              'promo_abuse', 
                              'payment_abuse'
                            )
        ));
$response = $client->track('$create_order', $properties, $opts);
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.exception.SiftException;
import com.siftscience.model.CreateOrderFieldSet;

SiftClient client = new SiftClient("YOUR_API_KEY");
EventRequest request = client.buildRequest(
        new CreateOrderFieldSet()
                .setUserId("sample_user51")
                .setUserEmail("sample_user@gmail.com"))
        .withForceWorkflowRun()
        .withScores("promo_abuse", "payment_abuse");

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}</pre></div></div></div><div class="docs-partial workflows-api-workflow-status two-column"><div> <h1>Workflow Status API</h1><p> The Workflow Status API allows you to query the status of a specific instance of a Workflow.  In order to 
use this API you need the Run ID.  You can get this by using the 
<span data-href="/workflows-api/workflow-decisions/automatic">Synchronous Workflow Status API </span>
when you send the initial Workflow event. This API is useful for gathering information on 
previously executed Workflows.</p><h3>Request</h3><h5>Arguments</h5><ul class="api-fields"><li><div class="field">api_key</div><div class="value-details"><strong>string</strong><p> Your rest api key, located in the 
<a href="https://sift.com/console/developer/api-keys">API Keys</a> section in the Console. </p></div></li><li><div class="field">account_id</div><div class="value-details"><strong>string</strong><p> Your Account ID, found in the <a href="/console/account/profile">Profile</a> section of the Account 
Settings Page in the Console. </p></div></li><li><div class="field">workflow_run_id</div><div class="value-details"><strong>string</strong><p> Obtained in the response of synchronous workflow request. </p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash code-partial">curl -XGET  https://api.sift.com/v3/accounts/{accountId}/workflows/runs/{workflow_run_id}
-H "Accept: application/json" \n-u {YOUR_API_KEY}:
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

workflow_run_id = '123' 
response = client.get_workflow_status(workflow_run_id)
</pre><pre class="prettyprint lang ruby code-partial">require 'sift'

client = Sift::Client.new(:api_key = > '{YOUR_API_KEY}', :account_id => '{accountId}')

workflow_run_id = '123'
response = client.get_workflow_status(workflow_run_id) 
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => '{YOUR_API_KEY}', 'account_id' => '{accountId}'));

$workflow_run_id = '123' 
$response = $client->getWorkflowStatus($workflow_run_id);
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.WorkflowStatusResponse;
import com.siftscience.WorkflowStatusRequest;
import com.siftscience.model.WorkflowStatusFieldSet;

SiftClient client = new SiftClient("YOUR_API_KEY");
WorkflowStatusRequest request = client.buildRequest(new WorkflowStatusFieldSet()
        .setWorkflowRunId("123")
        .setAccountId("4e1a50e172beb95cf1e4ae54"));

WorkflowStatusResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.getBody().getState(); // "running", "finished", or "failed"

</pre></div></div></div><div class="docs-partial two-column"><div><h3>Response</h3><h5>Attributes</h5><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><strong>String</strong><p> The run ID of this Workflow, identifying this specific instance of the Workflow.</p></div></li><li><div class="field">state</div><div class="value-details"><strong>String</strong><p>The state of this Workflow instance. </p><h6>Possible Values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>running</span></div><div class="sub-details"><span>This Workflow instance is still running, either because it is still sending the webhook or the 
user/order was put into a manual review queue</span></div></li><li><div class="sub-field"><span>finished</span></div><div class="sub-details"><span>This Workflow instance is finished running and there is a Decision associated with it in the 
history section discussed below</span></div></li><li><div class="sub-field"><span>failed</span></div><div class="sub-details"><span>This Workflow instance has failed to run.</span></div></li></ul></div></li><li><div class="field">config</div><div class="value-details"><strong>Object</strong><p> An object containing the configuration information for this Workflow.</p></div></li><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><strong>String</strong><p> The configuration ID of the Workflow.  This is the unique identifier of this Workflow, but not 
this Workflow instance.</p></div></li><li><div class="field">version</div><div class="value-details"><strong>String</strong><p> The version of this Workflow.</p></div></li></ul><li><div class="field">config_display_name</div><div class="value-details"><strong>String</strong><p> The display name given to this Workflow in the Workflow editor.</p></div></li><li><div class="field">abuse_types</div><div class="value-details"><strong>String</strong><p> A list of abuse types of the Decisions this Workflow can apply. Possible Values are <code>payment_abuse</code>,
<code>promotion_abuse</code>,  <code>content_abuse</code>, <code>account_abuse</code>, <code>account_takeover</code>, 
and <code>legacy</code>.</p></div></li><li><div class="field">entity</div><div class="value-details"><strong>Object</strong><p>Information about the entity that this Workflow is Deciding on. </p></div></li><ul class="api-fields"><li><div class="field">type</div><div class="value-details"><strong>String</strong><p>The type of entity on which the Decision was taken. Possible Values are <code>user</code>, 
<code>order</code>, <code>content</code>, or <code>session</code></p></div></li><li><div class="field">id</div><div class="value-details"><strong>String</strong><p>The unique identifier of the entity on which the Decision was taken.</p></div></li></ul><li><div class="field">history</div><div class="value-details"><strong>Object</strong><p>A list of apps objects that have occurred in the Workflow run.  You can think of these as Workflow stages. </p></div></li><ul class="api-fields"><li><div class="field">app</div><div class="value-details"><strong>String</strong><p>The type of app which was run.                   
The type of app which was run. Values include <code>decision</code>, <code>review queue</code>, 
<code>order</code>, <code>user</code>, <code>content</code>, <code>session</code>, and <code>event</code>. </p><br><p> Decision is the final stage in a Workflow so a Workflow is complete when the Decision app is 
reached. review queue means the item is queued in the Sift Console waiting
for an analyst decision. <br> The other options are internal apps, indicating the event was processed,
and the apps indicate the entity was scored by our Machine Learning system. </p></div></li><li><div class="field">name</div><div class="value-details"><strong>String</strong><p>The app display name. </p></div></li><li><div class="field">state</div><div class="value-details"><strong>String</strong><p>The state of this app. The possible values are <code>running</code>, <code>finished</code>, or <code>failed</code></p></div></li><li><div class="field">config</div><div class="value-details"><strong>Object</strong><p>The configuration information of the app.</p></div></li><ul class="api-fields"><li><div class="field">decision_id</div><div class="value-details"><strong>String</strong><p>The unique identifier of the Decision taken in this app.
This field only exists if the app type is <code>decision</code>. </p></div></li><li><div class="field">buttons</div><div class="value-details"><strong>Object</strong><p>A list of button objects associated with the <code>review queue</code>. </p></div></li><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><strong>String</strong><p>The unique Decision ID for this button.</p></div></li><li><div class="field">name</div><div class="value-details"><strong>String</strong><p>The display name for this button.</p></div></li></ul></ul></ul></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash">{
  "id": "6dbq76qbaaaaa",
  "state": "running",
  "config": {
    "id": "pv3u5hyaaa",
    "version": "1468013109122"
  },
  "config_display_name": "my create order flow",
  "abuse_types": ["payment_abuse", "legacy"],
  "entity": {
    "type": "user",
    "id": ""dracula@vampires.com""
  },
  "history": [
    {
      "app": "decision",
      "name": "ban user",
      "state": "running",
      "config": {
         "decision_id": "ban-user-payment-abuse"
      }
    },
    {
      "app": "review queue",
      "name": "risky user queue",
      "state": "finished",
      "config": {
        "buttons": [
          { "id": "ban-user-payment-abuse", "name": "Ban User" },
          { "id": "suspend-user-payment-abuse", "name": "Ban User" },
          { "id": "accept-user-payment-abuse", "name": "Ban User" }
        ]
      }
    },
    {
      "app": "user_scorer", // name TBD
      "name": "Entity",
      "state": "finished",
    },
    {
      "app": "event_processor", // name TBD
      "name": "Event",
      "state": "finished",
    }
  ]
}</pre></div></div></div><div class="docs-partial score-api-overview"><h1>Score API Overview</h1><p>The Sift APIs give you multiple ways to get a risk score for any of your users. 
A risk score is a measure of how likely a user is to commit abuse using your service. 
Scores are computed in real time from the data sent via the Events API and the Sift Javascript snippet.</p><p>Sift calculates risk scores for six types of abuse:</p><ul><li><strong>Payment Abuse</strong> - A user fraudulently using a credit card or other payment method.</li><li><strong>Content Abuse</strong> - A user creating content (e.g. spammy/scammy posts) or sending messages 
on your site in an abusive manner.</li><li><strong>Promotion Abuse</strong> - A user gaming the terms of a promotion in an excessive or abusive way.</li><li><strong>Account Abuse</strong> - A user using your service in a manner you deem abusive (e.g. fake accounts).</li><li> <strong>Account Takeover</strong> - the risk that an account is accessed through stolen credentials</li><li><strong>Legacy</strong> - this is a legacy version of the Sift Score that scored users for custom fraud types, 
similar to the Account Abuse score. </li></ul><p>You can get one or more of these abuse scores at a time. We will calculate scores for any of the abuse 
detection products you’ve enabled. <a href="/pricing">Here</a> is the pricing for our abuse prevention products.</p><p>There are four different ways to get scores from Sift:</p><ol><li><span data-href="/score-api/synchronous-scores">Get a score synchronously when you send an event</span></li><li><span data-href="/workflows-api">Get a score and workflows status synchronously when you send an event</span></li><li><span data-href="/score-api/get-score">Get the latest score without sending an event</span></li><li><span data-href="/score-api/rescore">Get a score by forcing the re-scoring of a user</span></li></ol></div><div class="docs-partial score-api-synchronous-scores-overview"><h1>Getting risk scores synchronously when sending events</h1><p>Whenever you send an event, you can receive a Sift Score back synchronously in the response back from the API. 
This is particularly useful for when you are sending an event that maps to a key decision point for your 
business. Typically, customers find it most useful to get scores back after creating an account, order, 
content, or adding a promotion, but you can get scores back after passing any of the events we support. </p><p>For events that you don't plan on using the score, it’s best that you don’t ask for the score as it will add 
some latency to the request.</p></div><div class="docs-partial two-column"><div><h3>Request</h3><p>To get scores back when sending an event, just append the query parameter <code>return_score=true</code> to your API request. 
You can also request scores for specific abuse types using the <code>abuse_types</code> query parameter. </p><p>If you are an existing customer who has not yet upgraded to our abuse-specific scores, you will need to 
set <code>abuse_types</code> to <code>legacy</code> to get a score.</p></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash code-partial">curl -X POST "https://api.sift.com/v205/events?return_score=true&abuse_types=payment_abuse,promotion_abuse"
  -H "Accept: application/json"
  -d '{
    "$type"             : "$create_order",
    "$api_key"          : "YOUR_API_KEY",
    "$user_id"          : "billy_jones_301",
    "$session_id"       : "gigtleqddo84l8cm15qe4il",
    "$order_id"         : "ORDER-28168441",
    "$user_email"       : "bill@gmail.com",
    "$amount"           : 115940000, // $115.94
    "$currency_code"    : "USD"
  }'
</pre><pre class="prettyprint lang python code-partial">import sift
client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

# define event_properties here
response = client.track("$create_order", event_properties, return_score=True, abuse_types=['payment_abuse', 'promotion_abuse'])
</pre><pre class="prettyprint lang ruby code-partial">require "sift"
client = Sift::Client.new(:api_key => "YOUR_API_KEY")

# define event_properties here
response = client.track("$create_order", event_properties, :return_score => true, :abuse_types => ["payment_abuse", "promotion_abuse"])
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

// define event_properties here
$response = $client->track('$create_order', $properties, array('return_score' => true, 'abuse_types' => array('payment_abuse', 'promotion_abuse')));
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.EventRequest;
import com.siftscience.EventResponse;
import com.siftscience.exception.SiftException;

SiftClient client = new SiftClient("YOUR_API_KEY");
EventRequest request = client.buildRequest(fieldSet).withScores();
// or with specific abuse types
request = client.buildRequest(fieldSet)
    .withScores("payment_abuse", "promotion_abuse");

EventResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
</pre></div></div></div><div class="docs-partial two-column"><div><h3>Response</h3><h5>Fields</h5><ul class="api-fields"><li><div class="field">status</div><div class="value-details"><strong>Integer</strong><p>The success or error code (see relevant error codes below).</p></div></li><li><div class="field">error_message</div><div class="value-details"><strong>String</strong><p>Description of status code.</p></div></li><li><div class="field">request</div><div class="value-details"><strong>String</strong><p>The content of the event you sent.</p></div></li><li><div class="field">time</div><div class="value-details"><strong>Integer</strong><p>The time the request was processed, in seconds since epoch.</p></div></li><li><div class="field">score_response</div><div class="value-details"><strong>Object</strong><p>The requested scoring information for the given user.</p></div></li><ul class="api-fields"><li><div class="field">status</div><div class="value-details"><strong>Integer</strong><p>The success or error code (see relevant error codes below).</p></div></li><li><div class="field">error_message</div><div class="value-details"><strong>String</strong><p>Description of error if applicable.</p></div></li><li><div class="field">scores</div><div class="value-details"><strong>Map</strong><p>The <code>scores</code> map contains all computed scores for all applicable abuse types for a given user. 
The map is keyed by abuse type, which could be one of: <code>payment_abuse</code>, <code>account_abuse</code>, 
<code>content_abuse</code>, <code>promotion_abuse</code>, <code>account_takeover</code>. The values in this map 
are objects which contain the following fields:</p></div></li><ul class="api-fields"><li><div class="field">score</div><div class="value-details"><strong>Float</strong><p>Score for the user between 0.0 and 1.0.  A score of 0.5 translates to a score a 50 in the console.</p></div></li><li><div class="field">reasons</div><div class="value-details"><strong>Array</strong><p>A list of the most significant reasons for the score and the values associated with the user. 
The included values will vary based on the user. Includes related users in the <code>details</code> 
object when applicable.</p></div></li><ul class="api-fields"><li><div class="field">name</div><div class="value-details"><strong>String</strong><p>Name of the risk signal.</p></div></li><li><div class="field">value</div><div class="value-details"><strong>String</strong><p>Value of the risk signal.</p></div></li><li><div class="field">details</div><div class="value-details"><strong>Object</strong><p>Additional details. Provided only when relevant. E.g., may contain a <code>details</code> field 
which contains the IDs of related users.</p></div></li></ul></ul><li><div class="field">user_id</div><div class="value-details"><strong>String</strong><p>The id of the user, matching what was passed in the Score API call.</p></div></li><li><div class="field">latest_labels</div><div class="value-details"><strong>Map</strong><p><strong>NOTE:</strong> Latest Labels section is only intended for customers using the Labels API.</p><br><p>The <code>latest_labels</code> map contains entries for all abuse types for which the given event has been labeled. 
Note that the content of this map is not subject to the abuse types specified in the request; we always 
include all labels that have been applied to the given user ID. The map is keyed by abuse type, which could 
be one of: <code>payment_abuse</code>, <code>account_abuse</code>, <code>content_abuse</code>, <code>promotion_abuse</code>. 
The values in this map are objects which contain the following fields:</p></div></li><ul class="api-fields"><li><div class="field">is_fraud</div><div class="value-details"><strong>Boolean</strong><p></p><code>true</code> if the user is labeled Fraud, <code>false</code> if the user is labeled Not Fraud.</div></li><li><div class="field">time</div><div class="value-details"><strong>Long</strong><p></p>The time this label was applied to the user. It is a UNIX timestamp in seconds.</div></li><li><div class="field">description</div><div class="value-details"><strong>String</strong><p></p>Freeform text description of the user and/or incident triggering the label.</div></li></ul></ul></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash code-partial">HTTP/1.1 200 OK
Content-Type: text/json;charset=UTF-8
Connection: keep-alive

{
  "body": {
    "status": 0, 
    "error_message": "OK", 
    "request": "body_of_the_request_you_sent", 
    "time": 1454517138,
    "score_response": {
      "status": 0, 
      "error_message": "OK", 
      "user_id": "billy_jones_301",
      "scores": {
        "payment_abuse": {
          "score": 0.898391231245,
          "reasons": [
            {
              "name": "UsersPerDevice",
              "value": 4,
              "details": {
                "users": "a, b, c, d"
              }
            }
          ]
        },
        "promotion_abuse": {
          "score": 0.472838192111,
          "reasons": []
        },
      },
      "latest_labels": {
        "payment_abuse": {
          "is_fraud": true,
          "time": 1352201880,
          "description": "received a chargeback"
        },
        "promotion_abuse": {
          "is_fraud": false,
          "time": 1362205000
        }
      }
    }
  }
  "http_status_code": 200
}
</pre><pre class="prettyprint lang python code-partial">response.is_ok()            # false on failed score requests.
response.http_status_code   # 200 on successful score requests.
response.api_status         # see error codes and messages below
response.api_error_message  

# check for a label for a specific abuse type
bad_user = response.body['latest_labels']['payment_abuse']['is_fraud'] if 'latest_labels' in response.body else None

# get Sift Score for a specific abuse type
payment_abuse_score = round((response.body['scores']['payment_abuse']['score'] * 100), 1)
</pre><pre class="prettyprint lang ruby code-partial">response.ok?()              # false on failed score requests.
response.http_status_code   # 200 on successful score requests.
response.api_status         # see error codes and messages below
response.api_error_message  

# check for a label for a specific abuse type
bad_user = response.body.has_key?('latest_labels') ? response.body['latest_labels']['payment_abuse']['is_fraud'] : nil

# get Sift Score for a specific abuse type
payment_abuse_score = (response.body['scores']['payment_abuse']['score'] * 100).round(1)
</pre><pre class="prettyprint lang php code-partial">response->isOk()           # false on failed score requests.
response->httpStatusCode   # 200 on successful score requests.
response->apiStatus        # see error codes and messages below
response->apiErrorMessage  

# To grab the payment_abuse score:
$siftScore = round(($response->body['scores']['payment_abuse']['score'] * 100, 1);
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.model.Reason;

response.isOk();               // false on failed score requests.
response.getHttpStatusCode();  // 200 on successful score requests.
response.getApiStatus();       // see error codes and messages below
response.getApiErrorMessage();

// check for a label for a specific abuse type
response.getBody().getScoreResponse().getLatestLabels().get("payment_abuse");

// get Sift Score for a specific abuse type
Long paymentAbuseScore = Math.round(response.getScore("payment_abuse") * 100);

// get reasons for a Sift Score
List&lt;Reason&gt; reasons = response.getReasons("payment_abuse");


</pre></div></div></div><div class="docs-partial score-api-synchronous-scores-error-codes"><h1>Error Codes</h1><h3>Possible status codes</h3><ul class="api-fields codes"><li><div class="field"><code>-4</code></div><div class="value-details"><p>Service currently unavailable. Please try again later.</p></div></li><li><div class="field"><code>-3</code></div><div class="value-details"><p>Server-side timeout processing request. Please try again later.</p></div></li><li><div class="field"><code>-2</code></div><div class="value-details"><p>Unexpected server-side error</p></div></li><li><div class="field"><code>-1</code></div><div class="value-details"><p>Unexpected server-side error</p></div></li><li><div class="field"><code>0</code></div><div class="value-details"><p>OK</p></div></li><li><div class="field"><code>51</code></div><div class="value-details"><p>Invalid API key</p></div></li><li><div class="field"><code>54</code></div><div class="value-details"><p><a href="https://support.sift.com/hc/en-us/articles/209632177">Specified user_id has no scoreable events</a></p></div></li><li><div class="field"><code>60</code></div><div class="value-details"><p>Rate limited; too many events have been received in a short period of time</p></div></li></ul></div><div class="docs-partial score-api-score-api"><div class="warning-box"><p>Note: This API is deprecated. To get scores without sending an event, we recommend using the 
<a href="get-score">Get&nbsp;Scores&nbsp;API.</a></p></div><h1>Score API Reference</h1><p>The Score API is meant to get an up to date risk score when you don’t have new event 
data to pass. This is useful for when there is a time gap between when you send data 
for a user and are performing some action where you want to check risk and there is 
not a natural event to send at this point. Some examples of when you may want to check 
the score are before:</p><ul><li>Shipping out a package</li><li>Finalizing a money transfer</li><li>Giving access to a prearranged vacation rental</li></ul><p>We do not recommend sending event data for a user and then very quickly attempting to 
get the score back with the Score API. If you need a score back quickly after an event, 
we can provide <span data-href="/score-api/synchronous-scores">scores synchronously</span> 
when events are sent. You can also 
<span data-href="/workflows-api/workflow-decisions">synchronously get the status of a workflow</span> 
and the score when you send an event.</p><br><h5>Notes:</h5><ul><li>You can only pull the score for <code>$user_id</code> values we've received Events 
API events or JavaScript activity for.</li><li>Use your Sandbox REST API key for accessing Sandbox users when testing. Switch to your Production API key for
your live integration.</li><li>Documentation for the previous version of the Score API can be found 
<a href="/developers/docs/v204/curl/automation-apis/score-api">here</a>.</li></ul><p>Request all scores for a user:</p><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash code-partial">curl -i "https://api.sift.com/v205/score/<strong>USER_ID_HERE</strong>/?api_key=YOUR_API_KEY"
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

response = client.score("USER_ID_HERE")
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(:api_key => "YOUR_API_KEY")

response = client.score("USER_ID_HERE")
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

$response = $client->score('USER_ID_HERE');
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.ScoreRequest;
import com.siftscience.ScoreResponse;
import com.siftscience.ScoreFieldSet;
import com.siftscience.exception.SiftException;

SiftClient client = new SiftClient("YOUR_API_KEY");
ScoreRequest request = client.buildRequest(new ScoreFieldSet()
        .setUserId("user_id_here"));

ScoreResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
</pre></div></div><p>Request scores for specific abuse types using the <code>abuse_types</code> query parameter:</p><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash code-partial">curl -i "https://api.sift.com/v205/score/<strong>USER_ID_HERE</strong>/?api_key=YOUR_API_KEY&abuse_types=payment_abuse,promotion_abuse"
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

response = client.score("USER_ID_HERE", abuse_types=["payment_abuse", "promotion_abuse"])
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(:api_key => "YOUR_API_KEY")

response = client.score("USER_ID_HERE", :abuse_types => ["payment_abuse", "promotion_abuse"])
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

$response = $client->score('USER_ID_HERE', array('abuse_types' => array('payment_abuse', 'promotion_abuse')));
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.ScoreRequest;
import com.siftscience.ScoreResponse;
import com.siftscience.ScoreFieldSet;

SiftClient client = new SiftClient("YOUR_API_KEY");
ScoreRequest request = client.buildRequest(new ScoreFieldSet()
        .setUserId("user_id_here")
        .setAbuseTypes(Arrays.asList("payment_abuse", "account_abuse")));

ScoreResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}

</pre></div></div><h3>Response</h3><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash code-partial">HTTP/1.1 200 OK
Content-Type: text/json;charset=UTF-8
Connection: keep-alive

{
  "status": 0, 
  "error_message": "OK", 
  "user_id": "billy_jones_301",
  "scores": {
    "payment_abuse": {
      "score": 0.898391231245,
      "reasons": [
        {
          "name": "UsersPerDevice",
          "value": 4,
          "details": {
            "users": "a, b, c, d"
          }
        }
      ]
    },
    "promotion_abuse": {
      "score": 0.472838192111,
      "reasons": []
    },
  },
  "latest_labels": {
    "payment_abuse": {
      "is_fraud": true,
      "time": 1352201880,
      "description": "received a chargeback"
    },
    "promotion_abuse": {
      "is_fraud": false,
      "time": 1362205000
    }
  }
}
</pre><pre class="prettyprint lang python code-partial">response.is_ok()            # false on failed score requests.
response.http_status_code   # 200 on successful score requests.
response.api_status         # see error codes and messages below
response.api_error_message  

# check for a label for a specific abuse type
bad_user = response.body['latest_labels']['payment_abuse']['is_fraud'] if 'latest_labels' in response.body else None

# get Sift Score for a specific abuse type
payment_abuse_score = round((response.body['scores']['payment_abuse']['score'] * 100), 1)
</pre><pre class="prettyprint lang ruby code-partial">response.ok?()              # false on failed score requests.
response.http_status_code   # 200 on successful score requests.
response.api_status         # see error codes and messages below
response.api_error_message  

# check for a label for a specific abuse type
bad_user = response.body.has_key?('latest_labels') ? response.body['latest_labels']['payment_abuse']['is_fraud'] : nil

# get Sift Score for a specific abuse type
payment_abuse_score = (response.body['scores']['payment_abuse']['score'] * 100).round(1)
</pre><pre class="prettyprint lang php code-partial">response->isOk()           # false on failed score requests.
response->httpStatusCode   # 200 on successful score requests.
response->apiStatus        # see error codes and messages below
response->apiErrorMessage  

# To grab the payment_abuse score:
$siftScore = round(($response->body['scores']['payment_abuse']['score'] * 100, 1);
</pre><pre class="prettyprint lang java code-partial">response.isOk();               // false on failed score requests.
response.getHttpStatusCode();  // 200 on successful score requests.
response.getApiStatus();       // see error codes and messages below
response.getApiErrorMessage();

// check for a label for a specific abuse type
response.getBody().getLatestLabels().get("payment_abuse");

// get Sift Score for a specific abuse type
Math.round(response.getScore("payment_abuse") * 100);
</pre></div></div><h3>Response Fields</h3><ul class="api-fields"><li><div class="field">status</div><div class="value-details"><strong>Integer</strong><p>The success or error code (see relevant error codes below).</p></div></li><li><div class="field">error_message</div><div class="value-details"><strong>String</strong><p>Description of error if applicable.</p></div></li><li><div class="field">scores</div><div class="value-details"><strong>Map</strong><p>The <code>scores</code> map contains all computed scores for all applicable abuse types for a given user. 
The map is keyed by abuse type, which could be one of: <code>payment_abuse</code>, <code>account_abuse</code>, 
<code>content_abuse</code>, <code>promotion_abuse</code>. The values in this map are objects which contain 
the following fields:</p></div></li><ul class="api-fields"><li><div class="field">score</div><div class="value-details"><strong>Float</strong><p>Score for the user between 0.0 and 1.0.  A score of 0.5 translates to a score a 50 in the console.</p></div></li><li><div class="field">reasons</div><div class="value-details"><strong>Array</strong><p>A list of the most significant reasons for the score and the values associated with the user. 
The included values will vary based on the user. Includes related users in the <code>details</code> 
object when applicable.</p></div></li><ul class="api-fields"><li><div class="field">name</div><div class="value-details"><strong>String</strong><p>Name of the risk signal.</p></div></li><li><div class="field">value</div><div class="value-details"><strong>String</strong><p>Value of the risk signal.</p></div></li><li><div class="field">details</div><div class="value-details"><strong>Object</strong><p>Additional details. Provided only when relevant. E.g., may contain a <code>details</code> field 
which contains the IDs of related users.</p></div></li></ul></ul><li><div class="field">user_id</div><div class="value-details"><strong>String</strong><p>The id of the user, matching what was passed in the Score API call.</p></div></li><li><div class="field">latest_labels</div><div class="value-details"><strong>Map</strong><p><strong>NOTE:</strong> Latest Labels section is only intended for customers using the Labels API.</p><br><p>The <code>latest_labels</code> map contains entries for all abuse types for which the given event has been labeled. 
Note that the content of this map is not subject to the abuse types specified in the request; we always 
include all labels that have been applied to the given user ID. The map is keyed by abuse type, which could 
be one of: <code>payment_abuse</code>, <code>account_abuse</code>, <code>content_abuse</code>, <code>promotion_abuse</code>. 
The values in this map are objects which contain the following fields:</p></div></li><ul class="api-fields"><li><div class="field">is_fraud</div><div class="value-details"><strong>Boolean</strong><p><code>true</code> if the user is labeled Fraud, <code>false</code> if the user is labeled Not Fraud.</p></div></li><li><div class="field">time</div><div class="value-details"><strong>Long</strong><p>The time this label was applied to the user. It is a UNIX timestamp in seconds.</p></div></li><li><div class="field">description</div><div class="value-details"><strong>String</strong><p>Freeform text description of the user and/or incident triggering the label.</p></div></li></ul></ul><h3>Error Codes</h3><ul class="api-fields codes"><li><div class="field"><code>-4</code></div><div class="value-details"><p>Service currently unavailable. Please try again later.</p></div></li><li><div class="field"><code>-3</code></div><div class="value-details"><p>Server-side timeout processing request. Please try again later.</p></div></li><li><div class="field"><code>-2</code></div><div class="value-details"><p>Unexpected server-side error</p></div></li><li><div class="field"><code>-1</code></div><div class="value-details"><p>Unexpected server-side error</p></div></li><li><div class="field"><code>0</code></div><div class="value-details"><p>OK</p></div></li><li><div class="field"><code>51</code></div><div class="value-details"><p>Invalid API key</p></div></li><li><div class="field"><code>54</code></div><div class="value-details"><p><a href="https://support.sift.com/hc/en-us/articles/209632177">Specified user_id has no scoreable events</a></p></div></li><li><div class="field"><code>60</code></div><div class="value-details"><p>Rate limited; too many events have been received in a short period of time</p></div></li></ul></div><div class="docs-partial score-api-get-score-overview"><h1>Get Scores API Reference</h1><p>The Get Scores API is meant to retrieve the latest risk score Sift has computed. This is useful for when there 
is not a natural user event to send, but you would like to see the risk score before making a decision. Some 
examples of when you may want to check the score are before:</p><ul><li>Shipping out a package</li><li>Finalizing a money transfer</li><li>Giving access to a prearranged vacation rental</li><li>Approving an order in your review tool</li></ul><p>If you need a score back quickly after a user event, we can provide 
<a href="/developers/docs/curl/score-api/synchronous-scores">scores synchronously</a> when events are sent. You 
can also 
<a href="/developers/docs/curl/workflows-api/workflow-decisions">synchronously get the status of a workflow</a> 
and the score when you send an event.</p><br><h5>Notes:</h5><ul><li>You can only pull the score for a user we've received Events API events or JavaScript activity for.</li><li>Use your Sandbox REST API key for accessing Sandbox users when testing. Switch to your Production API key for 
your live integration.</li></ul></div><div class="docs-partial two-column"><div><h3>Request</h3><p>Request scores for a user and abuse types using the (optional) <code>abuse_types</code> query parameter.</p></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash code-partial">curl -XGET https://api.sift.com/v205/users/{UserId}/score?api_key={apiKey}&abuse_types=payment_abuse,promotion_abuse
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

response = client.get_user_score(user_id = "USER_ID_HERE", abuse_types=["payment_abuse", "promotion_abuse"])
</pre><pre class="prettyprint lang ruby code-partial">import "sift"

client = Sift::Client.new(:api_key => "REST_API_KEY_HERE")

response = client.get_user_score("USER_ID_HERE", :abuse_types => ["payment_abuse", "promotion_abuse"])

</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';
 
$client = new SiftClient(array('api_key' => 'REST_API_KEY_HERE'));
 
$response = $client->get_user_score('USER_ID_HERE', array('abuse_types' => array('payment_abuse', 'promotion_abuse')));
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.UserScoreRequest;
import com.siftscience.EntityScoreResponse;
import com.siftscience.UserScoreFieldSet;
 
SiftClient client = new SiftClient("your_api_key_here");
UserScoreRequest request = client.buildRequest(new UserScoreFieldSet()
        .setUserId("user_id_here")
        .setAbuseTypes(Arrays.asList("payment_abuse", "account_abuse")));
 
EntityScoreResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
</pre></div></div></div><div class="docs-partial two-column"><div><h3>Response</h3><h5>Fields</h5><ul class="api-fields"><li><div class="field">status</div><div class="value-details"><strong>Integer</strong><p>The success or error code (see relevant error codes below).</p></div></li><li><div class="field">error_message</div><div class="value-details"><strong>String</strong><p>Description of error if applicable.</p></div></li><li><div class="field">scores</div><div class="value-details"><strong>Map</strong><p>The <code>scores</code> map contains the computed scores for all applicable abuse types. The map is keyed by 
abuse type, which could be one of: <code>payment_abuse</code>, <code>account_abuse</code>, <code>content_abuse</code>, 
<code>promotion_abuse</code>. The values in this map are objects which contain the following fields:</p></div></li><ul class="api-fields"><li><div class="field">score</div><div class="value-details"><strong>Float</strong><p>Score for the user between 0.0 and 1.0.  A score of 0.5 translates to a score a 50 in the console.</p></div></li><li><div class="field">time</div><div class="value-details"><strong>Long</strong><p>The time at which the score was generated, as a UNIX timestamp.</p></div></li><li><div class="field">reasons</div><div class="value-details"><strong>Array</strong><p>A list of the most significant reasons for the score and the values associated with the user. 
The included values will vary based on the user. Includes related users in the <code>details</code> 
object when applicable.</p></div></li><ul class="api-fields"><li><div class="field">name</div><div class="value-details"><strong>String</strong><p>Name of the risk signal.</p></div></li><li><div class="field">value</div><div class="value-details"><strong>String</strong><p>Value of the risk signal.</p></div></li><li><div class="field">details</div><div class="value-details"><strong>Object</strong><p>Additional details. Provided only when relevant. E.g., may contain a <code>details</code> field 
which contains the IDs of related users.</p></div></li></ul></ul><li><div class="field">entity_type</div><div class="value-details"><strong>String</strong><p>What type of entity is the score in reference to. This defaults to <code>user</code>.</p></div></li><li><div class="field">entity_id</div><div class="value-details"><strong>String</strong><p>The <code>id</code> for which the score was requested.</p></div></li><li><div class="field">latest_decisions</div><div class="value-details"><strong>Map</strong><p>The <code>latest_decisions</code> map contains entries for all abuse types for which Decisions have been 
applied on the given entity. Note that the content of this map is not subject to the abuse types specified 
in the request; we always include all Decisions that have been applied to the given entity. The map is 
keyed by abuse type, which could be one of: <code>payment_abuse</code>, <code>account_abuse</code>,  
<code>content_abuse</code>, <code>promotion_abuse</code>, <code>account_takeover</code>. The values in this map are 
objects which contain the following fields:</p></div></li><ul class="api-fields"><li> <div class="field">id</div><div class="value-details"><strong>String</strong><p>The <code>id</code> of the Decision that was applied.</p></div></li><li><div class="field">type</div><div class="value-details"><strong>String</strong><p>One of the following: <code>BLOCK</code>, <code>WATCH</code>, <code>ACCEPT</code></p></div></li><li><div class="field">source</div><div class="value-details"><strong>String</strong><p>The source of this Decision. One of the following: <code>AUTOMATED_RULE</code>, <code>MANUAL_REVIEW</code>, 
<code>CHARGEBACK</code></p></div></li><li><div class="field">time</div><div class="value-details"><strong>Long</strong><p>The time the Decision was applied, as a UNIX timestamp.</p></div></li><li><div class="field">description</div><div class="value-details"><strong>String</strong><p>The description of the Decision, if available.</p></div></li></ul><li><div class="field">latest_labels</div><div class="value-details"><strong>Map</strong><p><strong>NOTE:</strong> Latest Labels section is only intended for customers using the Labels API.</p><br><p>The <code>latest_labels</code> map contains entries for all abuse types for which the given event has been labeled. 
Note that the content of this map is not subject to the abuse types specified in the request; we always 
include all labels that have been applied to the given user ID. The map is keyed by abuse type, which could 
be one of: <code>payment_abuse</code>, <code>account_abuse</code>, <code>content_abuse</code>, <code>promotion_abuse</code>. 
The values in this map are objects which contain the following fields:</p></div></li><ul class="api-fields"><li><div class="field">is_fraud</div><div class="value-details"><strong>Boolean</strong><p></p><code>true</code> if the user is labeled Fraud, <code>false</code> if the user is labeled Not Fraud.</div></li><li><div class="field">time</div><div class="value-details"><strong>Long</strong><p></p>The time this label was applied to the user. It is a UNIX timestamp in seconds.</div></li><li><div class="field">description</div><div class="value-details"><strong>String</strong><p></p>Freeform text description of the user and/or incident triggering the label.</div></li></ul></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash code-partial">{
  "status": 0, 
  "error_message": "OK",
  "user_id": "billy_jones_301",
  "scores": {
    "payment_abuse": {
      "status": 0, 
      "error_message": "OK",      
      "score": 0.898391231245,
      "time": 84710383103092309,
      "reasons": [
        {
          "name": "UsersPerDevice",
          "value": 4,
          "details": {
            "users": "a, b, c, d"
          }
        }
      ]
    },
    "promotion_abuse": {
      "status": 0, 
      "error_message": "OK",
      "score": 0.472838192111,
      "reasons": []
    },
    "account_takeover": {
      "status": -1, 
      "error_message": "Unexpected server-side error",
    },
  },
  "latest_decisions": {
    "payment_abuse": {
      "id": "user_looks_bad_payment_abuse",
      "type": "block",
      "source": "AUTOMATED_RULE",
      "time": 1352201880,
      "description": "Bad Fraudster",
    }            
  },
  "latest_labels": {
    "payment_abuse": {
      "is_fraud": true,
      "time": 1352201880,
      "description": "received a chargeback"
    },
    "promotion_abuse": {
      "is_fraud": false,
      "time": 1362205000
    }
  }
}
</pre><pre class="prettyprint lang python code-partial">response.is_ok()            # false on failed score requests.
response.http_status_code   # 200 on successful score requests.
response.api_status         # see error codes and messages below
response.api_error_message  

# check for a decision for a specific abuse type
decision = response.body['latest_decisions']['payment_abuse']['id'] if 'latest_decisions' in response.body else None

# get Sift Score for a specific abuse type
payment_abuse_score = round((response.body['scores']['payment_abuse']['score'] * 100), 1)
</pre><pre class="prettyprint lang ruby code-partial">response.ok?()              # false on failed score requests.
response.http_status_code   # 200 on successful score requests.
response.api_status         # see error codes and messages below
response.api_error_message  

# check for a decision for a specific abuse type
decision = response.body.has_key?('latest_decisions') ? response.body['latest_decisions']['payment_abuse']['id'] : nil

# get Sift Score for a specific abuse type
payment_abuse_score = (response.body['scores']['payment_abuse']['score'] * 100).round(1)
</pre><pre class="prettyprint lang php code-partial">response->isOk()           # false on failed score requests.
response->httpStatusCode   # 200 on successful score requests.
response->apiStatus        # see error codes and messages below
response->apiErrorMessage  

# To grab the payment_abuse score:
$siftScore = round(($response->body['scores']['payment_abuse']['score'] * 100, 1);
</pre><pre class="prettyprint lang java code-partial">response.isOk();               // false on failed score requests.
response.getHttpStatusCode();  // 200 on successful score requests.
response.getApiStatus();       // see error codes and messages below
response.getApiErrorMessage();

// check for a decision for a specific abuse type
response.getBody().getLatestDecisions().get("payment_abuse");

// get Sift Score for a specific abuse type
Math.round(response.getScore("payment_abuse") * 100);
</pre></div></div></div><div class="docs-partial score-api-get-score-error-codes"><h1>Error Codes</h1><h3>Possible status codes</h3><ul class="api-fields codes"><li><div class="field"><code>-4</code></div><div class="value-details"><p>Service currently unavailable. Please try again later.</p></div></li><li><div class="field"><code>-3</code></div><div class="value-details"><p>Server-side timeout processing request. Please try again later.</p></div></li><li><div class="field"><code>-2</code></div><div class="value-details"><p>Unexpected server-side error</p></div></li><li><div class="field"><code>-1</code></div><div class="value-details"><p>Unexpected server-side error</p></div></li><li><div class="field"><code>0</code></div><div class="value-details"><p>OK</p></div></li><li><div class="field"><code>51</code></div><div class="value-details"><p>Invalid API key</p></div></li><li><div class="field"><code>54</code></div><div class="value-details"><p><a href="https://support.sift.com/hc/en-us/articles/209632177">Specified user_id has no scoreable events</a></p></div></li><li><div class="field"><code>60</code></div><div class="value-details"><p>Rate limited; too many events have been received in a short period of time</p></div></li><li><div class="field"><code>64</code></div><div class="value-details"><p>Specified user does not have a previously computed score.</p></div></li></ul></div><div class="docs-partial score-api-rescore-overview"><h1>Re-score API Reference</h1><p>The Re-score API is meant to force the computation of a new Sift score. This is useful for when there is not a 
natural user event to send, but you would like to update and retrieve the risk score based on user activity that 
you know to have occurred since the last time the score was computed. If you do not believe that the user has had
any activity since the last score computation, we recommend using the 
<a href="developers/docs/curl/score-api/get-score">Get Scores API</a>.</p><p>We do not recommend sending event data for a user and then very quickly attempting to get the score back with the 
Re-score API. If you need a score back quickly after an event, we can provide 
<a href="/developers/docs/curl/score-api/synchronous-scores">scores synchronously</a> when events are sent. You 
can also 
<a href="/developers/docs/curl/workflows-api/workflow-decisions">synchronously get the status of a workflow</a> 
 and the score when you send an event.</p><h5>Notes:</h5><ul><li>You can only pull the score for a user we've received Events API events or JavaScript activity for.</li><li>Use your Sandbox REST API key for accessing Sandbox users when testing. Switch to your Production API key for 
your live integration.</li></ul></div><div class="docs-partial two-column"><div><h3>Request</h3><p>Request scores for a user and abuse types using the (optional) <code>abuse_types</code> query parameter</p></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash code-partial">curl -X POST https://api.sift.com/v205/users/{UserId}/score?api_key={apiKey}&abuse_types=payment_abuse,promotion_abuse
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

response = client.rescore_user(user_id = "USER_ID_HERE", abuse_types=["payment_abuse", "promotion_abuse"])

</pre><pre class="prettyprint lang ruby code-partial">import "sift"

client = Sift::Client.new(:api_key => "REST_API_KEY_HERE")

response = client.rescore_user("USER_ID_HERE", :abuse_types => ["payment_abuse", "promotion_abuse"])

</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';
 
$client = new SiftClient(array('api_key' => 'REST_API_KEY_HERE'));
 
$response = $client->rescore_user('USER_ID_HERE', array('abuse_types' => array('payment_abuse', 'promotion_abuse')));
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.UserScoreRequest;
import com.siftscience.EntityScoreResponse;
import com.siftscience.UserScoreFieldSet;
 
SiftClient client = new SiftClient("your_api_key_here");
UserScoreRequest request = client.buildRequest(new UserScoreFieldSet()
        .setUserId("user_id_here")
        .setRescoreUser(true)
        .setAbuseTypes(Arrays.asList("payment_abuse", "account_abuse")));
 
EntityScoreResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
</pre></div></div></div><div class="docs-partial two-column"><div><h3>Response</h3><h5>Fields</h5><ul class="api-fields"><li><div class="field">status</div><div class="value-details"><strong>Integer</strong><p>The success or error code (see relevant error codes below).</p></div></li><li><div class="field">error_message</div><div class="value-details"><strong>String</strong><p>Description of error if applicable.</p></div></li><li><div class="field">scores</div><div class="value-details"><strong>Map</strong><p>The <code>scores</code> map contains the computed scores for all applicable abuse types. The map is keyed by 
abuse type, which could be one of: <code>payment_abuse</code>, <code>account_abuse</code>, <code>content_abuse</code>, 
<code>promotion_abuse</code>. The values in this map are objects which contain the following fields:</p></div></li><ul class="api-fields"><li><div class="field">score</div><div class="value-details"><strong>Float</strong><p>Score for the user between 0.0 and 1.0.  A score of 0.5 translates to a score a 50 in the console.</p></div></li><li><div class="field">time</div><div class="value-details"><strong>Long</strong><p>The time at which the score was generated, as a UNIX timestamp.</p></div></li><li><div class="field">reasons</div><div class="value-details"><strong>Array</strong><p>A list of the most significant reasons for the score and the values associated with the user. 
The included values will vary based on the user. Includes related users in the <code>details</code> 
object when applicable.</p></div></li><ul class="api-fields"><li><div class="field">name</div><div class="value-details"><strong>String</strong><p>Name of the risk signal.</p></div></li><li><div class="field">value</div><div class="value-details"><strong>String</strong><p>Value of the risk signal.</p></div></li><li><div class="field">details</div><div class="value-details"><strong>Object</strong><p>Additional details. Provided only when relevant. E.g., may contain a <code>details</code> field 
which contains the IDs of related users.</p></div></li></ul></ul><li><div class="field">entity_type</div><div class="value-details"><strong>String</strong><p>What type of entity is the score in reference to. This defaults to <code>user</code>.</p></div></li><li><div class="field">entity_id</div><div class="value-details"><strong>String</strong><p>The <code>id</code> for which the score was requested.</p></div></li><li><div class="field">latest_decisions</div><div class="value-details"><strong>Map</strong><p>The <code>latest_decisions</code> map contains entries for all abuse types for which Decisions have been 
applied on the given entity. Note that the content of this map is not subject to the abuse types specified 
in the request; we always include all Decisions that have been applied to the given entity. The map is 
keyed by abuse type, which could be one of: <code>payment_abuse</code>, <code>account_abuse</code>,  
<code>content_abuse</code>, <code>promotion_abuse</code>, <code>account_takeover</code>. The values in this map are 
objects which contain the following fields:</p></div></li><ul class="api-fields"><li> <div class="field">id</div><div class="value-details"><strong>String</strong><p>The <code>id</code> of the Decision that was applied.</p></div></li><li><div class="field">type</div><div class="value-details"><strong>String</strong><p>One of the following: <code>BLOCK</code>, <code>WATCH</code>, <code>ACCEPT</code></p></div></li><li><div class="field">source</div><div class="value-details"><strong>String</strong><p>The source of this Decision. One of the following: <code>AUTOMATED_RULE</code>, <code>MANUAL_REVIEW</code>, 
<code>CHARGEBACK</code></p></div></li><li><div class="field">time</div><div class="value-details"><strong>Long</strong><p>The time the Decision was applied, as a UNIX timestamp.</p></div></li><li><div class="field">description</div><div class="value-details"><strong>String</strong><p>The description of the Decision, if available.</p></div></li></ul><li><div class="field">latest_labels</div><div class="value-details"><strong>Map</strong><p><strong>NOTE:</strong> Latest Labels section is only intended for customers using the Labels API.</p><br><p>The <code>latest_labels</code> map contains entries for all abuse types for which the given event has been labeled. 
Note that the content of this map is not subject to the abuse types specified in the request; we always 
include all labels that have been applied to the given user ID. The map is keyed by abuse type, which could 
be one of: <code>payment_abuse</code>, <code>account_abuse</code>, <code>content_abuse</code>, <code>promotion_abuse</code>. 
The values in this map are objects which contain the following fields:</p></div></li><ul class="api-fields"><li><div class="field">is_fraud</div><div class="value-details"><strong>Boolean</strong><p></p><code>true</code> if the user is labeled Fraud, <code>false</code> if the user is labeled Not Fraud.</div></li><li><div class="field">time</div><div class="value-details"><strong>Long</strong><p></p>The time this label was applied to the user. It is a UNIX timestamp in seconds.</div></li><li><div class="field">description</div><div class="value-details"><strong>String</strong><p></p>Freeform text description of the user and/or incident triggering the label.</div></li></ul></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash code-partial">{
  "status": 0, 
  "error_message": "OK",
  "user_id": "billy_jones_301",
  "scores": {
    "payment_abuse": {
      "status": 0, 
      "error_message": "OK",      
      "score": 0.898391231245,
      "time": 84710383103092309,
      "reasons": [
        {
          "name": "UsersPerDevice",
          "value": 4,
          "details": {
            "users": "a, b, c, d"
          }
        }
      ]
    },
    "promotion_abuse": {
      "status": 0, 
      "error_message": "OK",
      "score": 0.472838192111,
      "reasons": []
    },
    "account_takeover": {
      "status": -1, 
      "error_message": "Unexpected server-side error",
    },
  },
  "latest_decisions": {
    "payment_abuse": {
      "id": "user_looks_bad_payment_abuse",
      "type": "block",
      "source": "AUTOMATED_RULE",
      "time": 1352201880,
      "description": "Bad Fraudster",
    }
  },
  "latest_labels": {
    "payment_abuse": {
      "is_fraud": true,
      "time": 1352201880,
      "description": "received a chargeback"
    },
    "promotion_abuse": {
      "is_fraud": false,
      "time": 1362205000
    }
  }
}
</pre><pre class="prettyprint lang python code-partial">response.is_ok()            # false on failed score requests.
response.http_status_code   # 200 on successful score requests.
response.api_status         # see error codes and messages below
response.api_error_message  

# check for a decision for a specific abuse type
decision = response.body['latest_decisions']['payment_abuse']['id'] if 'latest_decisions' in response.body else None

# get Sift Score for a specific abuse type
payment_abuse_score = round((response.body['scores']['payment_abuse']['score'] * 100), 1)
</pre><pre class="prettyprint lang ruby code-partial">response.ok?()              # false on failed score requests.
response.http_status_code   # 200 on successful score requests.
response.api_status         # see error codes and messages below
response.api_error_message  

# check for a decision for a specific abuse type
decision = response.body.has_key?('latest_decisions') ? response.body['latest_decisions']['payment_abuse']['id'] : nil

# get Sift Score for a specific abuse type
payment_abuse_score = (response.body['scores']['payment_abuse']['score'] * 100).round(1)
</pre><pre class="prettyprint lang php code-partial">response->isOk()           # false on failed score requests.
response->httpStatusCode   # 200 on successful score requests.
response->apiStatus        # see error codes and messages below
response->apiErrorMessage  

# To grab the payment_abuse score:
$siftScore = round(($response->body['scores']['payment_abuse']['score'] * 100, 1);
</pre><pre class="prettyprint lang java code-partial">response.isOk();               // false on failed score requests.
response.getHttpStatusCode();  // 200 on successful score requests.
response.getApiStatus();       // see error codes and messages below
response.getApiErrorMessage();

// check for a label for a specific abuse type
response.getBody().getLatestDecisions().get("payment_abuse");

// get Sift Score for a specific abuse type
Math.round(response.getScore("payment_abuse") * 100);
</pre></div></div></div><div class="docs-partial score-api-rescore-error-codes"><h1>Error Codes</h1><h3>Possible status codes</h3><ul class="api-fields codes"><li><div class="field"><code>-4</code></div><div class="value-details"><p>Service currently unavailable. Please try again later.</p></div></li><li><div class="field"><code>-3</code></div><div class="value-details"><p>Server-side timeout processing request. Please try again later.</p></div></li><li><div class="field"><code>-2</code></div><div class="value-details"><p>Unexpected server-side error</p></div></li><li><div class="field"><code>-1</code></div><div class="value-details"><p>Unexpected server-side error</p></div></li><li><div class="field"><code>0</code></div><div class="value-details"><p>OK</p></div></li><li><div class="field"><code>51</code></div><div class="value-details"><p>Invalid API key</p></div></li><li><div class="field"><code>54</code></div><div class="value-details"><p><a href="https://support.sift.com/hc/en-us/articles/209632177">Specified user_id has no scoreable events</a></p></div></li><li><div class="field"><code>60</code></div><div class="value-details"><p>Rate limited; too many events have been received in a short period of time</p></div></li><li><div class="field"><code>64</code></div><div class="value-details"><p>Specified user does not have a previously computed score.</p></div></li><li><div class="field"><code>100</code></div><div class="value-details">Required fields missing</div></li><li><div class="field"><code>111</code></div><div class="value-details">Feature disabled</div></li><li><div class="field"><code>112</code></div><div class="value-details">Abuse product disabled</div></li></ul></div><div class="docs-partial verification-api-overview"><h1>Verification API Guide</h1><p>Sift's two-factor authentication solution enables triggering one-time
passcodes for risky login attempts based
on our ATO risk score. Configuration includes integrating with
our Verification API as well as an in-console setup. The in-console setup
involves creating 2FA sms/email templates and generating CNAMEs to update your DNS
records so we can send emails on your behalf.</p><p>This service is intended to be used to send OTPs to email addresses
and/or phone numbers that have already been validated as real and able
to be accessed by the account owners. This service is not designed to validate the ability
to deliver messages to a phone number or email address.</p></div><div class="docs-partial verification-api-check"><h1>Check</h1><p>The <code>/check</code> call is used for sending the OTP provided by the end user to Sift. Sift then checks the validity of the OTP, checks rate limits, and responds with a decision whether the user should be able to proceed or not.</p><p>Use Sift's response to determine what action to take:</p><ul><li>If the user was successfully verified, then let the user log in to the site.</li><li>If the user failed to verify (wrong code, too many attempts, etc.), then present an error message to the user.
The message should inform the user what to do next ("click resend and try again" or "wait for <n>
minutes and try again")</li></ul><p>Authenticate your requests using the Basic HTTP Authorization scheme with your production API key as the user_id: <code>Authorization: Basic base_64_encode(production_api_key + ":")</code></p></div><div class="docs-partial two-column"><div><h3>Request</h3><h5>Fields</h5><ul class="api-fields"><li><div class="field">user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>User ID of user being verified, e.g. johndoe123.</p></div></li><li><div class="field">code</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The code the user sent to the customer for validation.</p></div></li><li><div class="field">verified_event</div><div class="value-details"><strong>String (enum)</strong><p>This will be the event type that triggered the verification. Possible values are
<code>$add_item_to_cart</code>, <code>$add_promotion</code>, <code>$content_status</code>,
<code>$create_account</code>, <code>$create_content</code>, <code>$create_order</code>,
<code>$flag_content</code>, <code>$login</code>, <code>$order_status</code>,
<code>$remove_item_from_cart</code>, <code>$transaction</code>,
<code>$transaction</code>, <code>$update_account</code>, <code>$update_content</code>,
<code>$update_order</code> and <code>$update_password</code>.</p></div></li><li><div class="field">verified_entity_id</div><div class="value-details"><strong>String</strong><p>The ID of the entity impacted by the event being verified.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash code-partial">curl -X POST "http://api.sift.com/v1/verification/check"
  -H "Content-Type: application/json"
  -d '{
    "$user_id" : "billy_jones_301",
    "$code": "123456",
    "$verified_event": "$login",
    "$verified_entity_id": "SOME_SESSION_ID"
  }'
</pre><pre class="prettyprint lang python code-partial">curl -X POST "http://api.sift.com/v1/verification/check"
  -H "Content-Type: application/json"
  -d '{
    "$user_id" : "billy_jones_301",
    "$code": "123456",
    "$verified_event": "$login",
    "$verified_entity_id": "SOME_SESSION_ID"
  }'
</pre><pre class="prettyprint lang ruby code-partial">curl -X POST "http://api.sift.com/v1/verification/check"
  -H "Content-Type: application/json"
  -d '{
    "$user_id" : "billy_jones_301",
    "$code": "123456",
    "$verified_event": "$login",
    "$verified_entity_id": "SOME_SESSION_ID"
  }'
</pre><pre class="prettyprint lang php code-partial">curl -X POST "http://api.sift.com/v1/verification/check"
  -H "Content-Type: application/json"
  -d '{
    "$user_id" : "billy_jones_301",
    "$code": "123456",
    "$verified_event": "$login",
    "$verified_entity_id": "SOME_SESSION_ID"
  }'
</pre><pre class="prettyprint lang java code-partial">curl -X POST "http://api.sift.com/v1/verification/check"
  -H "Content-Type: application/json"
  -d '{
    "$user_id" : "billy_jones_301",
    "$code": "123456",
    "$verified_event": "$login",
    "$verified_entity_id": "SOME_SESSION_ID"
  }'
</pre></div></div></div><div class="docs-partial two-column"><div><h3>Response</h3><h5>Fields</h5><ul class="api-fields"><li><div class="field">status</div><div class="value-details"><strong>Integer</strong><p>The success or error code (see relevant error codes below).</p></div></li><li><div class="field">error_message</div><div class="value-details"><strong>String</strong><p>Human readable description of the error.</p></div></li><li><div class="field">checked_at</div><div class="value-details"><strong>Integer</strong><p>The time the OTP verified, as a UNIX timestamp in milliseconds.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash code-partial">{
    "status": 0,
    "error_message": "OK",
    "checked_at": 1566324368002
}
</pre><pre class="prettyprint lang python code-partial">{
    "status": 0,
    "error_message": "OK",
    "checked_at": 1566324368002
}
</pre><pre class="prettyprint lang ruby code-partial">{
    "status": 0,
    "error_message": "OK",
    "checked_at": 1566324368002
}
</pre><pre class="prettyprint lang php code-partial">{
    "status": 0,
    "error_message": "OK",
    "checked_at": 1566324368002
}
</pre><pre class="prettyprint lang java code-partial">{
    "status": 0,
    "error_message": "OK",
    "checked_at": 1566324368002
}</pre></div></div></div><div class="docs-partial verification-api-resend"><h1>Resend</h1><p>A user can ask for a new OTP (one-time password) if they haven’t received the previous one, or in case the
previous OTP expired. The <code>/resend</code> call generates a new OTP and sends it to the  original recipient with the
same settings (template, verified event info, verification type).</p><p>Authenticate your requests using the Basic HTTP Authorization scheme with your production API key as the user_id: <code>Authorization: Basic base_64_encode(production_api_key + ":")</code></p></div><div class="docs-partial two-column"><div><h3>Request</h3><h5>Fields</h5><ul class="api-fields"><li><div class="field">user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>User ID of user being verified, e.g. johndoe123.</p></div></li><li><div class="field">verified_event</div><div class="value-details"><strong>String (enum)</strong><p></p>This will be the event type that triggered the verification. Possible values are
<code>$add_item_to_cart</code>, <code>$add_promotion</code>, <code>$content_status</code>,
<code>$create_account</code>, <code>$create_content</code>, <code>$create_order</code>,
<code>$flag_content</code>, <code>$login</code>, <code>$order_status</code>,
<code>$remove_item_from_cart</code>, <code>$transaction</code>,
<code>$transaction</code>, <code>$update_account</code>, <code>$update_content</code>,
<code>$update_order</code> and <code>$update_password</code>.</div></li><li><div class="field">verified_entity_id</div><div class="value-details"><strong>String</strong><p>The ID of the entity impacted by the event being verified.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash code-partial">curl -X POST "http://api.sift.com/v1/verification/resend"
  -H "Content-Type: application/json"
  -d '{
    "$user_id" : "billy_jones_301",
    "$verified_event": "$login",
    "$verified_entity_id": "SOME_SESSION_ID"
  }'
</pre><pre class="prettyprint lang python code-partial">curl -X POST "http://api.sift.com/v1/verification/resend"
  -H "Content-Type: application/json"
  -d '{
    "$user_id" : "billy_jones_301",
    "$verified_event": "$login",
    "$verified_entity_id": "SOME_SESSION_ID"
  }'
</pre><pre class="prettyprint lang ruby code-partial">curl -X POST "http://api.sift.com/v1/verification/resend"
  -H "Content-Type: application/json"
  -d '{
    "$user_id" : "billy_jones_301",
    "$verified_event": "$login",
    "$verified_entity_id": "SOME_SESSION_ID"
  }'
</pre><pre class="prettyprint lang php code-partial">curl -X POST "http://api.sift.com/v1/verification/resend"
  -H "Content-Type: application/json"
  -d '{
    "$user_id" : "billy_jones_301",
    "$verified_event": "$login",
    "$verified_entity_id": "SOME_SESSION_ID"
  }'
</pre><pre class="prettyprint lang java code-partial">curl -X POST "http://api.sift.com/v1/verification/resend"
  -H "Content-Type: application/json"
  -d '{
    "$user_id" : "billy_jones_301",
    "$verified_event": "$login",
    "$verified_entity_id": "SOME_SESSION_ID"
  }'
</pre></div></div></div><div class="docs-partial two-column"><div><h3>Response</h3><h5>Fields</h5><ul class="api-fields"><li><div class="field">status</div><div class="value-details"><strong>Integer</strong><p>The success or error code (see relevant error codes below).</p></div></li><li><div class="field">error_message</div><div class="value-details"><strong>String</strong><p>Human readable description of the error.</p></div></li><li><div class="field">send_at</div><div class="value-details"><strong>Integer</strong><p>The time the OTP was sent, as a UNIX timestamp in milliseconds.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash code-partial">{
    "status": 0,
    "error_message": "OK",
    "sent_at": 1566324368002
}
</pre><pre class="prettyprint lang python code-partial">{
    "status": 0,
    "error_message": "OK",
    "sent_at": 1566324368002
}
</pre><pre class="prettyprint lang ruby code-partial">{
    "status": 0,
    "error_message": "OK",
    "sent_at": 1566324368002
}
</pre><pre class="prettyprint lang php code-partial">{
    "status": 0,
    "error_message": "OK",
    "sent_at": 1566324368002
}
</pre><pre class="prettyprint lang java code-partial">{
    "status": 0,
    "error_message": "OK",
    "sent_at": 1566324368002
}</pre></div></div></div><div class="docs-partial verification-api-send"><h1>Send</h1><p>Sift strongly recommends using Verification with Workflows. However, you may want to use the <code>/send</code> endpoint
for testing purposes. The <code>/send</code> endpoint initiates a user’s 2FA flow: it triggers the generation of a OTP
code that is stored by Sift and emails the code to the user. It will also produce a pending
$verification event in the user’s activity log.</p><p>Authenticate your requests using the Basic HTTP Authorization scheme with your production API key as the user_id: <code>Authorization: Basic base_64_encode(production_api_key + ":")</code></p></div><div class="docs-partial two-column"><div><h3>Request</h3><h5>Fields</h5><ul class="api-fields"><li><div class="field">user_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>User ID of user being verified, e.g. johndoe123</p></div></li><li><div class="field">send_to</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The phone number or email address to send the OTP to.</p>The value in this field must match verification_type.
If this field contains a phone number, it should be in E.164 format including <code>+</code> and a country code.</div></li><li><div class="field">event.$session_id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The session being verified. See $verification in the Sift Events API documentation.</p></div></li><li><div class="field">verification_type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The channel used for verification. Should be either <code>$email</code> or <code>$sms</code>.</p></div></li><li><div class="field">verified_entity_id</div><div class="value-details"><strong>String</strong><p>The ID of the entity impacted by the event being verified.</p></div></li><li><div class="field">event.$verified_event</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The type of the reserved event being verified.</p></div></li><li><div class="field">brand_name</div><div class="value-details"><strong>String</strong><p>Name of the brand of product or service the user interacts with.</p></div></li><li><div class="field">site_country</div><div class="value-details"><strong>String</strong><p>Country of the content of the site.</p></div></li><li><div class="field">(FOR APP) event.$app.$client_language</div><div class="value-details"><strong>String (Locale: enum of ISO 639-1 language codes)</strong><p>Language the application content is being delivered in.</p></div></li><li><div class="field">(FOR BROWSER) event.$browser.$content_language</div><div class="value-details"><strong>String (Locale: enum of ISO 639-1 language codes)</strong><p>Language of the content of the web site.</p></div></li><li><div class="field">event.$ip</div><div class="value-details"><strong>String</strong><p>The user’s IP address</p></div></li><li><div class="field">event.$browser</div><div class="value-details"><strong>Sift Browser object</strong><p>The user agent of the browser that is verifying. Represented by the $browser object.
Use this field if the client is a browser.
Note: cannot be used in conjunction with $app.</p></div></li><li><div class="field">event.app</div><div class="value-details"><strong>Sift App object</strong><p>The details of the app, OS, and device that is verifying. Represented by the $app object.
Use this field if the client is an app.
Note: cannot be used in conjunction with $browser.</p></div></li><li><div class="field">event.$reason</div><div class="value-details"><strong>String</strong><p>The trigger for the verification. See $verification in the Sift Events API documentation.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash code-partial">curl -X POST "http://api.sift.com/v1/verification/send"
  -H "Content-Type: application/json"
  -d '{
     "$user_id" : "billy_jones_301",
     "$send_to":	"billy_jones_301@gmail.com",
     "$verification_type": "$email",
     "$brand_name": "MyTopBrand",
     "$language": "en",
     "$event": {
          "$session_id": "SOME_SESSION_ID",
          "$verified_event": "$login",
          "$reason": "$automated_rule",
          "$ip": "192.168.1.1",
          "$browser": {
              "$user_agent" : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36"
          }
     }
   }'
</pre><pre class="prettyprint lang python code-partial">curl -X POST "http://api.sift.com/v1/verification/send"
  -H "Content-Type: application/json"
  -d '{
     "$user_id" : "billy_jones_301",
     "$send_to":	"billy_jones_301@gmail.com",
     "$verification_type": "$email",
     "$brand_name": "MyTopBrand",
     "$language": "en",
     "$event": {
          "$session_id": "SOME_SESSION_ID",
          "$verified_event": "$login",
          "$reason": "$automated_rule",
          "$ip": "192.168.1.1",
          "$browser": {
              "$user_agent" : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36"
          }
     }
   }'
</pre><pre class="prettyprint lang ruby code-partial">curl -X POST "http://api.sift.com/v1/verification/send"
  -H "Content-Type: application/json"
  -d '{
     "$user_id" : "billy_jones_301",
     "$send_to":	"billy_jones_301@gmail.com",
     "$verification_type": "$email",
     "$brand_name": "MyTopBrand",
     "$language": "en",
     "$event": {
          "$session_id": "SOME_SESSION_ID",
          "$verified_event": "$login",
          "$reason": "$automated_rule",
          "$ip": "192.168.1.1",
          "$browser": {
              "$user_agent" : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36"
          }
     }
   }'

</pre><pre class="prettyprint lang php code-partial">curl -X POST "http://api.sift.com/v1/verification/send"
  -H "Content-Type: application/json"
  -d '{
     "$user_id" : "billy_jones_301",
     "$send_to":	"billy_jones_301@gmail.com",
     "$verification_type": "$email",
     "$brand_name": "MyTopBrand",
     "$language": "en",
     "$event": {
          "$session_id": "SOME_SESSION_ID",
          "$verified_event": "$login",
          "$reason": "$automated_rule",
          "$ip": "192.168.1.1",
          "$browser": {
              "$user_agent" : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36"
          }
     }
   }'
</pre><pre class="prettyprint lang java code-partial">curl -X POST "http://api.sift.com/v1/verification/send"
  -H "Content-Type: application/json"
  -d '{
     "$user_id" : "billy_jones_301",
     "$send_to":	"billy_jones_301@gmail.com",
     "$verification_type": "$email",
     "$brand_name": "MyTopBrand",
     "$language": "en",
     "$event": {
          "$session_id": "SOME_SESSION_ID",
          "$verified_event": "$login",
          "$reason": "$automated_rule",
          "$ip": "192.168.1.1",
          "$browser": {
              "$user_agent" : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36"
          }
     }
   }'
</pre></div></div></div><div class="docs-partial two-column"><div><h3>Response</h3><h5>Fields</h5><ul class="api-fields"><li><div class="field">status</div><div class="value-details"><strong>Integer</strong><p>The success or error code (see relevant error codes below).</p></div></li><li><div class="field">error_message</div><div class="value-details"><strong>String</strong><p>Human readable description of the error.</p></div></li><li><div class="field">send_at</div><div class="value-details"><strong>Integer</strong><p>The time the OTP was sent, as a UNIX timestamp in milliseconds.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash code-partial">{
    "status": 0,
    "error_message": "OK",
    "sent_at": 1566324368002,
    "segment_id": "4",
    "segment_name": "Default template",
    "brand_name": "",
    "site_country": "",
    "content_language": ""
}
</pre><pre class="prettyprint lang python code-partial">{
    "status": 0,
    "error_message": "OK",
    "sent_at": 1566324368002,
    "segment_id": "4",
    "segment_name": "Default template",
    "brand_name": "",
    "site_country": "",
    "content_language": ""
}
</pre><pre class="prettyprint lang ruby code-partial">{
    "status": 0,
    "error_message": "OK",
    "sent_at": 1566324368002,
    "segment_id": "4",
    "segment_name": "Default template",
    "brand_name": "",
    "site_country": "",
    "content_language": ""
}
</pre><pre class="prettyprint lang php code-partial">{
    "status": 0,
    "error_message": "OK",
    "sent_at": 1566324368002,
    "segment_id": "4",
    "segment_name": "Default template",
    "brand_name": "",
    "site_country": "",
    "content_language": ""
}
</pre><pre class="prettyprint lang java code-partial">{
    "status": 0,
    "error_message": "OK",
    "sent_at": 1566324368002,
    "segment_id": "4",
    "segment_name": "Default template",
    "brand_name": "",
    "site_country": "",
    "content_language": ""
}</pre></div></div></div><div class="docs-partial device-fingerprinting-api-overview"><h1>Device Fingerprinting Integration Guide</h1><p>The Device Fingerprinting API is a separate product from our machine learning products. 
Our machine learning uses device fingerprints in making risk assessments and connecting
fraudulent users, but does not provide access to this API. For an overview and a use 
case example, see our <a href="/resources/tutorials/device-fingerprinting-api">Device Fingerprinting API tutorial</a>.</p><p>Using the Device Fingerprinting API requires that you have installed our 
<span data-href="/javascript-api">JavaScript snippet</span>.</p></div><div class="docs-partial device-fingerprinting-api-devices-device-information"><h1>Device Information</h1><h4>GET&nbsp;&nbsp;&nbsp;/v3/accounts/{accountId}/devices/{deviceId}</h4><div class="description"><p>You can use the data returned from this endpoint to help
investigate suspicious devices. Data like the first time you've
seen a device in addition to how the Sift network
has labeled a device can help you determine whether to allow
a user to continue interacting with your site.</p>
</div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl nolang code-partial"><h5>Example Request</h5><p><em></em></p>$ curl -XGET 'https://api.sift.com/v3/accounts/{id}/devices/{id}' \n  -H 'Content-Type: application/json' \n  -u {API_KEY}:<h5>Example Response</h5>{
  "id" : "{id}",
  "label" : "fraud",
  "labeled_at" : 1241241214000,
  "first_seen" : 1412990802000,
  "users" : {
    "data" : [ {
      "id" : "bob123",
      "href" : "https://api.sift.com/v3/accounts/{id}/users/bob123"
    } ]
  },
  "network" : {
    "first_seen" : 1412386033000,
    "score" : 0.8
  },
  "sessions" : {
    "has_more" : false,
    "total_results" : 1,
    "data" : [ {
      "time" : 1412990802000
    } ]
  }
}</pre></div></div><div class="api-fields-container"><h4>Parameters</h4><ul class="api-fields"><li><div class="field">accountId</div><div class="value-details"><em>required</em><strong> &middot; string</strong><p>Your Sift Account ID, which can be found in the Sift Console under the Developer Tab</p></div></li><li><div class="field">deviceId</div><div class="value-details"><em>required</em><strong> &middot; string</strong><p>A device fingerprint is an identifier that represents a device.</p></div></li></ul><h4>Response</h4><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><em>required</em><strong> &middot; string</strong><p><p>A device fingerprint is an identifier that represents a device.</p>
</p></div></li><li><div class="field">first_seen</div><div class="value-details"><strong>integer</strong><p><p>The time (represented as POSIX time in milliseconds) when Sift first identified this device on your site</p>
</p></div></li><li><div class="field">users</div><div class="value-details"><strong>object</strong><p><p>A list of references to external entities that this object is associated with</p>
</p></div></li><ul class="api-fields"><li><div class="field">data</div><div class="value-details"><em>required</em><strong> &middot; array</strong><p><p>The list of data elements</p>
</p></div></li><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><em>required</em><strong> &middot; string</strong><p><p>id of the referenced resource</p>
</p></div></li></ul><li><div class="field">has_more</div><div class="value-details"><strong>boolean</strong><p><p>True if there are more data elements available</p>
</p></div></li><li><div class="field">next_ref</div><div class="value-details"><strong>string</strong><p><p>A link to the next set of data elements, if available</p>
</p></div></li><li><div class="field">total_results</div><div class="value-details"><strong>integer</strong><p><p>The total number of results, if known</p>
</p></div></li></ul><li><div class="field">sessions</div><div class="value-details"><strong>object</strong><p><p>A list of sessions in which this device has been seen</p>
</p></div></li><ul class="api-fields"><li><div class="field">data</div><div class="value-details"><em>required</em><strong> &middot; array</strong><p><p>A list of data related to sessions in which this device has been seen</p>
</p></div></li><ul class="api-fields"><li><div class="field">time</div><div class="value-details"><strong>integer</strong><p><p>The time at which this Session ID was first set in the Sift JavaScript snippet.</p>
</p></div></li></ul><li><div class="field">has_more</div><div class="value-details"><strong>boolean</strong><p><p>True if there are more sessions available</p>
</p></div></li><li><div class="field">next_ref</div><div class="value-details"><strong>string</strong><p><p>A link to the next set of sessions, if available</p>
</p></div></li><li><div class="field">total_results</div><div class="value-details"><strong>integer</strong><p><p>The total number of results, if known</p>
</p></div></li></ul><li><div class="field">label</div><div class="value-details"><strong>string</strong><p><p>The label applied to this device. If no label has been applied, this field is undefined</p>
</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field"><span>fraud</span></span><span class="sub-details">This device has exhibited behavior that is fraudulent or otherwise detrimental to your business</span></li><li><span class="sub-field"><span>not_fraud</span></span><span class="sub-details">This device is not fraudulent</span></li></ul></div></li><li><div class="field">labeled_at</div><div class="value-details"><strong>integer</strong><p><p>The time at which the latest label was applied to this device. If no label has been applied, this field is null</p>
</p></div></li><li><div class="field">network</div><div class="value-details"><strong>object</strong><p><p>Data from our network of customers can help you make decisions on devices you've never seen before or haven't yet exhibited suspicious behavior.</p>
</p></div></li><ul class="api-fields"><li><div class="field">first_seen</div><div class="value-details"><strong>integer</strong><p><p>The time (represented as POSIX time in milliseconds) when Sift first identified this device within our network of customers.</p>
</p></div></li><li><div class="field">score</div><div class="value-details"><strong>number</strong><p><p>A representation of how likely this device is fraud based on labels we've received from our network of customers. The range of values is 0 to 1, where 1 represents a device that almost certainly is fraud.</p>
</p></div></li><li><div class="field">pervasiveness</div><div class="value-details"><strong>string</strong><p><p>NOT YET AVAILABLE. A representation of how often Sift has seen this device in our network of customers. You might consider scores where pervasiveness is 'low' less strongly than scores where pervasiveness is 'medium' or 'high'.</p>
</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field"><span>low</span></span></li><li><span class="sub-field"><span>medium</span></span></li><li><span class="sub-field"><span>high</span></span></li></ul></div></li></ul></ul></div></div><div class="docs-partial device-fingerprinting-api-devices-label-a-device"><h1>Label a Device</h1><h4>PUT&nbsp;&nbsp;&nbsp;/v3/accounts/{accountId}/devices/{deviceId}/label</h4><div class="description"><p>Use this endpoint to flag devices as either &quot;fraud&quot; or &quot;not_fraud&quot;.
Most likely you will need to link some concept of a user (e.g. email address or user id)
to a Device Fingerprint at some point in your product flow. Then, when you find a
user to be fraudulent, you should use this endpoint to flag the device the
user originated from. You will prevent this device from interacting from your
site using the /v3/accounts/{accountId}/session endpoint.</p>
</div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl nolang code-partial"><h5>Example Request</h5><p><em></em></p>$ curl -XPUT 'https://api.sift.com/v3/accounts/{id}/devices/{id}/label' \n  -H 'Content-Type: application/json' \n  -u {API_KEY}: \n  -d '{
  "label" : "fraud"
}'<h5>Example Response</h5>{
  "label" : "fraud"
}</pre></div></div><div class="api-fields-container"><h4>Parameters</h4><ul class="api-fields"><li><div class="field">accountId</div><div class="value-details"><em>required</em><strong> &middot; string</strong><p>Your Sift Account ID, which can be found in the Sift Console under the Developer Tab</p></div></li><li><div class="field">deviceId</div><div class="value-details"><em>required</em><strong> &middot; string</strong><p>A device fingerprint is an identifier that represents a device.</p></div></li></ul><h4>Entity</h4><ul class="api-fields"><li><div class="field">label</div><div class="value-details"><strong>string</strong><p></p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field"><span>fraud</span></span><span class="sub-details">This device has exhibited behavior that is fraudulent or otherwise detrimental to your business</span></li><li><span class="sub-field"><span>not_fraud</span></span><span class="sub-details">This device is not fraudulent</span></li></ul></div></li></ul><h4>Response</h4><ul class="api-fields"><li><div class="field">label</div><div class="value-details"><strong>string</strong><p></p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field"><span>fraud</span></span><span class="sub-details">This device has exhibited behavior that is fraudulent or otherwise detrimental to your business</span></li><li><span class="sub-field"><span>not_fraud</span></span><span class="sub-details">This device is not fraudulent</span></li></ul></div></li></ul></div></div><div class="docs-partial device-fingerprinting-api-sessions-session-information"><h1>Session Information</h1><h4>GET&nbsp;&nbsp;&nbsp;/v3/accounts/{accountId}/sessions/{sessionId}</h4><div class="description"><p>Call this endpoint to determine whether you should allow the device
seen for a given session id to continue interacting with your site.
Embedded in the response is whether you've seen this device before as well as
how you've labeled the device, if at all. If you've labeled a Device Fingerprint &quot;fraud&quot;
in the past, you should most likely restrict this device's ability to interact
with your site.</p>
</div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl nolang code-partial"><h5>Example Request</h5><p><em></em></p>$ curl -XGET 'https://api.sift.com/v3/accounts/{id}/sessions/465733823' \n  -H 'Content-Type: application/json' \n  -u {API_KEY}:<h5>Example Response</h5>{
  "id" : 465733823,
  "time" : 1412990802000,
  "device" : {
    "id" : "{id}",
    "label" : "fraud",
    "labeled_at" : 1241241214000,
    "first_seen" : 1412990802000,
    "network" : {
      "first_seen" : 1412386033000,
      "score" : 0.8
    },
    "sessions" : {
      "total_results" : 1,
      "has_more" : false,
      "data" : [ {
        "time" : 1412990802000
      } ]
    }
  }
}</pre></div></div><div class="api-fields-container"><h4>Parameters</h4><ul class="api-fields"><li><div class="field">accountId</div><div class="value-details"><em>required</em><strong> &middot; string</strong><p>Your Sift Account ID, which can be found in the Sift Console under the Developer Tab</p></div></li><li><div class="field">sessionId</div><div class="value-details"><em>required</em><strong> &middot; string</strong><p>Session IDs should be initially set in our JavaScript snippet. Use the same session id to retrieve the device associated with this session. You should only call this endpoint from your server, and not from the client.</p></div></li></ul><h4>Response</h4><ul class="api-fields"><li><div class="field">time</div><div class="value-details"><strong>integer</strong><p><p>The time at which this Session ID was first set in the Sift JavaScript snippet.</p>
</p></div></li><li><div class="field">device</div><div class="value-details"><strong>object</strong><p><p>Data related to a Device Fingerprint</p>
</p></div></li><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><em>required</em><strong> &middot; string</strong><p><p>A device fingerprint is an identifier that represents a device.</p>
</p></div></li><li><div class="field">first_seen</div><div class="value-details"><strong>integer</strong><p><p>The time (represented as POSIX time in milliseconds) when Sift first identified this device on your site</p>
</p></div></li><li><div class="field">users</div><div class="value-details"><strong>object</strong><p><p>A list of references to external entities that this object is associated with</p>
</p></div></li><ul class="api-fields"><li><div class="field">data</div><div class="value-details"><em>required</em><strong> &middot; array</strong><p><p>The list of data elements</p>
</p></div></li><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><em>required</em><strong> &middot; string</strong><p><p>id of the referenced resource</p>
</p></div></li></ul><li><div class="field">has_more</div><div class="value-details"><strong>boolean</strong><p><p>True if there are more data elements available</p>
</p></div></li><li><div class="field">next_ref</div><div class="value-details"><strong>string</strong><p><p>A link to the next set of data elements, if available</p>
</p></div></li><li><div class="field">total_results</div><div class="value-details"><strong>integer</strong><p><p>The total number of results, if known</p>
</p></div></li></ul><li><div class="field">sessions</div><div class="value-details"><strong>object</strong><p><p>A list of sessions in which this device has been seen</p>
</p></div></li><ul class="api-fields"><li><div class="field">data</div><div class="value-details"><em>required</em><strong> &middot; array</strong><p><p>A list of data related to sessions in which this device has been seen</p>
</p></div></li><ul class="api-fields"><li><div class="field">time</div><div class="value-details"><strong>integer</strong><p><p>The time at which this Session ID was first set in the Sift JavaScript snippet.</p>
</p></div></li></ul><li><div class="field">has_more</div><div class="value-details"><strong>boolean</strong><p><p>True if there are more sessions available</p>
</p></div></li><li><div class="field">next_ref</div><div class="value-details"><strong>string</strong><p><p>A link to the next set of sessions, if available</p>
</p></div></li><li><div class="field">total_results</div><div class="value-details"><strong>integer</strong><p><p>The total number of results, if known</p>
</p></div></li></ul><li><div class="field">label</div><div class="value-details"><strong>string</strong><p><p>The label applied to this device. If no label has been applied, this field is undefined</p>
</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field"><span>fraud</span></span><span class="sub-details">This device has exhibited behavior that is fraudulent or otherwise detrimental to your business</span></li><li><span class="sub-field"><span>not_fraud</span></span><span class="sub-details">This device is not fraudulent</span></li></ul></div></li><li><div class="field">labeled_at</div><div class="value-details"><strong>integer</strong><p><p>The time at which the latest label was applied to this device. If no label has been applied, this field is null</p>
</p></div></li><li><div class="field">network</div><div class="value-details"><strong>object</strong><p><p>Data from our network of customers can help you make decisions on devices you've never seen before or haven't yet exhibited suspicious behavior.</p>
</p></div></li><ul class="api-fields"><li><div class="field">first_seen</div><div class="value-details"><strong>integer</strong><p><p>The time (represented as POSIX time in milliseconds) when Sift first identified this device within our network of customers.</p>
</p></div></li><li><div class="field">score</div><div class="value-details"><strong>number</strong><p><p>A representation of how likely this device is fraudulent based on labels we've received from our network of customers. The range of values is 0 to 1, where 1 represents a device that almost certainly is fraudulent.</p>
</p></div></li><li><div class="field">pervasiveness</div><div class="value-details"><strong>string</strong><p><p>NOT YET AVAILABLE. A representation of how often Sift has seen this device in our network of customers. You might consider scores where pervasiveness is 'low' less strongly than scores where pervasiveness is 'medium' or 'high'.</p>
</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><span class="sub-field"><span>low</span></span></li><li><span class="sub-field"><span>medium</span></span></li><li><span class="sub-field"><span>high</span></span></li></ul></div></li></ul></ul></ul></div></div><div class="docs-partial device-fingerprinting-api-users-device-information-for-users"><h1>Device Information for Users</h1><h4>GET&nbsp;&nbsp;&nbsp;/v3/accounts/{accountId}/users/{userId}/devices</h4><div class="description"><p>Call this endpoint to determine the devices associated for a given user_id</p>
</div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl nolang code-partial"><h5>Example Request</h5><p><em></em></p>$ curl -XGET 'https://api.sift.com/v3/accounts/{id}/users/465733823/devices' \n  -H 'Content-Type: application/json' \n  -u {API_KEY}:<h5>Example Response</h5>{
  "data" : [ {
    "id" : "{id}",
    "href" : "https://api.sift.com/v3/accounts/{id}/devices/{id}"
  }, {
    "id" : "{id}",
    "href" : "https://api.sift.com/v3/accounts/{id}/devices/{id}"
  } ]
}</pre></div></div><div class="api-fields-container"><h4>Parameters</h4><ul class="api-fields"><li><div class="field">accountId</div><div class="value-details"><em>required</em><strong> &middot; string</strong><p>Your Sift Account ID, which can be found in the Sift Console under the Developer Tab</p></div></li><li><div class="field">userId</div><div class="value-details"><em>required</em><strong> &middot; string</strong><p>User IDs should be initially set in our JavaScript snippet. Use the same user ID to retrieve the devices associated with this user. You should only call this endpoint from your server, and not from the client.</p></div></li></ul><h4>Response</h4><ul class="api-fields"><li><div class="field">schema</div><div class="value-details"><em>required</em><strong> &middot; string</strong><p><p>Reference to the json schema that the data in the array conforms to</p>
</p></div></li><li><div class="field">data</div><div class="value-details"><em>required</em><strong> &middot; array</strong><p><p>A list of data items</p>
</p></div></li><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><em>required</em><strong> &middot; string</strong><p><p>id of the referenced resource</p>
</p></div></li></ul><li><div class="field">has_more</div><div class="value-details"><strong>boolean</strong><p><p>Whether there are more results</p>
</p></div></li><li><div class="field">next_ref</div><div class="value-details"><strong>string</strong><p><p>A link to the next set of data, if available</p>
</p></div></li><li><div class="field">total_results</div><div class="value-details"><strong>integer</strong><p><p>The total number of results, if known</p>
</p></div></li></ul></div></div><div class="docs-partial partner-api-overview"><h1>Partner API</h1><div class="description"><p>The Partner API allows e-commerce platforms, agencies, and payment
gateways/processors to programmatically create Sift
accounts for their own merchants, and to interact with those
accounts on behalf of their merchants.</p>
<h2>Client libraries</h2>
<p>We have written
<a href="/resources/plugins/partnership-api-libraries">client libraries</a> in
several languages to make using this API even easier.</p>
<h2>Capabilities</h2>
<p>Partners can:</p>
<ul>
<li>Create new Sift accounts on behalf of their customers</li>
<li>List the set of accounts they have created, along with the API keys for those accounts.</li>
<li>Submit events and labels, or request scores on behalf of their customers</li>
</ul>
<h2>Access</h2>
<p>Before using the Partner API, please contact our <a href="mailto:partner-support@siftscience.com">partner support team</a>
and ask to be enabled as a partner.</p>
<p>The operations below will require two credentialing pieces of information:</p>
<ul>
<li>The Partner Account ID, which can be found in the
<a href="/console/settings">&quot;Settings&quot;</a> section of the Sift Console.</li>
<li>The partner's Production REST API key which can be found in the
<a href="/console/api-keys">&quot;API Keys&quot;</a> console page.</li>
</ul>
<h2>Terminology</h2>
<p>In the following document &quot;partner&quot; will be the organization which is creating and using Sift
accounts on behalf of a group of parties. We'll refer to those other parties as &quot;merchants&quot;.</p>
<h2>Authentication</h2>
<p>All authentication is based on API keys.</p>
<h3>When acting as a Partner</h3>
<p>When doing partner-level or administrative actions (i.e. creating new accounts, configuring
notifications, or listing merchant accounts), the partner's API key should be included in the
request header under the <code>Authorization</code> key, with the <code>Basic</code> scheme. See the Account Creation
curl example below for a concrete example.</p>
<h3>When acting on behalf of a Merchant</h3>
<p>When performing actions at the level of a specific existing merchant account, use the API key
associated with that merchant (which is included in the response when the merchant's Sift
account is first created). When using the existing
<a href="/resources/references/events-api">Events API</a> or
<a href="/resources/references/labels-api">Labels API</a> this will mean
placing this API key into the JSON body. When making requests against the Scores API, the API
key will appear as a query parameter.</p>
</div></div><div class="docs-partial labels-api-label-user"><h1>Labels API Reference</h1><div class="more-you-know"><h4><svg class="megaphone"><use xlink:href='/image/icons.svg#icon-megaphone'></use></svg>Note</h4><p>The Labels API is not recommended for customers signing up after February 1st, 2017.</p></div><h2>Overview</h2><p>The Labels API is a way to tell Sift which transactions or events are fraudulent or legitimate. By telling 
us this information, Sift can identify abuse patterns unique to your business.
Labels are used by the platform to generate the risk scores you within your application
to automate your fraud fighting.</p><p><strong>Labels API is no longer recommended for new customers.</strong> Decisions are now
the recommended integration, they enable you to send more granular and powerful feedback 
to our machine learning system. <span data-href="/decisions-api">Learn more about Decisions.</span></p><p>For customers already using Labels API, don't worry! It is still a supported integration method.
If you are interested in migrating to Decisions, please contact your account manager or 
<a href="mailto:support@sift.com">support@sift.com</a> and we can help.</p><h2>How it Works</h2><ul><li>Labeling events as fraudulent helps us determine other events that are likely to be fraudulent.</li><li>Labeling events as legitimate is useful for when a user has a high score
but is known to be legitimate; it will help lower your false positive rate.</li><li>If you want to change an existing label for a user ID - for example, from risky to valid 
- all you need to do is send a new label and we'll overwrite the existing value.</li><li>If instead you want to remove labels, 
you can use our <span data-href="/labels-api/unlabel-user">Unlabel API</span>.</li></ul><p>Note: you can find the documentation for the previous version of this API 
<a href="/developers/docs/v204/curl/labels-api/label-user">here</a>.</p><h3>Labeling a User</h3><p>To label a user ID, send an HTTP POST to our Label API endpoint:</p><code class="highlighted">https://api.sift.com/v205/users/INSERT_USER_ID/labels</code><p>Be sure to replace INSERT_USER_ID with the ID of the user you are labeling. 
The response should have an <a href="http://en.wikipedia.org/wiki/List_of_HTTP_status_codes">HTTP status code</a>
 of <code>200</code> and a <code>status</code> of <code>0</code>. See our 
<span data-href="/events-api/error-codes">Error Codes</span> for more information on non-zero statuses.</p><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Example curl request to label a user:
curl -X POST 'https://api.sift.com/v205/users/INSERT_USER_ID/labels' -d \n'{ 
  "$api_key"     : "YOUR_API_KEY", 
  "$is_fraud"      : true, 
  "$abuse_type"  : "payment_abuse",
  "$description" : "The user was testing cards repeatedly for a valid card", 
  "$source"      : "manual review", 
  "$analyst"     : "someone@your-site.com" 
}'

// Example of returned response:
{ 
  "time" : 1418757635 , 
  "status" : 0 , 
  "request" : 
  "{ 
  
      "$api_key"     : "YOUR_API_KEY", 
  
      "$is_fraud"      : true, 
  
      "$abuse_type"  : "payment_abuse", 
  
      "$description" : "The user was testing cards repeatedly for a valid card", 
  
      "$source"      : "manual review", 
  
      "$analyst"     : "someone@your-site.com" 

  }" ,
   "error_message" : "OK"
}
</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')

properties = {
  "$is_fraud"      : True, # ... or False; Required 
  "$abuse_type"  : "payment_abuse", # Required
  "$description" : "The user was testing cards repeatedly for a valid card", # Optional
  "$source"      : "manual review", # Optional
  "$analyst"     : "someone@your-site.com" # Optional
}

response = client.label("billy_jones_301", properties)
</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(:api_key => "YOUR_API_KEY")

properties = {
  "$is_fraud"      => true, # ... or false; Required 
  "$abuse_type"  => "payment_abuse", # Required
  "$description" => "The user was testing cards repeatedly for a valid card", # Optional
  "$source"      => "manual review", # Optional 
  "$analyst"     => "someone@your-site.com" # Optional 
}

response = client.label("billy_jones_301", properties)
</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY'));

$properties = array(
  '$is_fraud'      => true, // ... or false; Required Field
  '$abuse_type'  => 'payment_abuse', // Required
  '$description' => 'The user was testing cards repeatedly for a valid card', // Optional
  '$source'      => 'manual review', // Optional 
  '$analyst'     => 'someone@your-site.com' // Optional 
);

$response = $client->label('billy_jones_301', $properties);
</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.LabelRequest;
import com.siftscience.LabelResponse;
import com.siftscience.model.LabelFieldSet;

SiftClient client = new SiftClient("YOUR_API_KEY");
LabelRequest request = client.buildRequest(new LabelFieldSet()
        .setUserId("billy_jones_301")
        .setIsBad(true)
        .setAbuseType("payment_abuse")
        .setDescription("The user was testing cards repeatedly for a valid card")
        .setSource("manual review")
        .setAnalyst("someone@your-site.com"));

LabelResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true

</pre></div></div><ul class="api-fields"><li><div class="field">$api_key</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>Your Sift API key.</p></div></li><li><div class="field">$is_fraud</div><div class="value-details"><em>required</em><strong> &middot; Boolean</strong><p>Indicates whether a user is engaging in behavior deemed harmful to your business. Set to true if the 
user is engaging in abusive activity. Set to false if the user is engaging in valid activity.</p></div></li><li><div class="field">$abuse_type</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The type of abuse for which you want to send a label. It's important to send a label specific to the 
type of abuse the user is committing so that Sift can learn about specific patterns of behavior. 
You'll end up with more accurate results this way.</p><h6>Allowed values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>payment_abuse</span></div><div class="sub-details"><span>A user using stolen payment information (e.g. a stolen credit card) to purchase goods or services.</span></div></li><li><div class="sub-field"><span>content_abuse</span></div><div class="sub-details"><span>A user creating content or sending messages on your site in an abusive manner. This includes
spam posts that pollute your site, fake listings intended to scam other users, 
spammy messages to other users, and any other fraudulent or abusive content.</span></div></li><li><div class="sub-field"><span>promotion_abuse</span></div><div class="sub-details"><span>A user gaming the terms of a promotion in an excessive or abusive way. A promotion includes 
things like coupons, referral credits, limited offers, free trial periods, etc.</span></div></li><li><div class="sub-field"><span>account_abuse</span></div><div class="sub-details"><span>A user who uses your service in a manner you deem abusive. This behavior can include creating 
fake/duplicate accounts or any other abusive patterns specific to your business.  </span></div></li></ul></div></li><li><div class="field">$description</div><div class="value-details"><strong>String</strong><p>Freeform text description of the user and/or incident triggering the label. Useful as annotation 
on why the label was added.</p></div></li><li><div class="field">$source</div><div class="value-details"><strong>String</strong><p>String describing the original source of the label information (e.g. payment gateway, manual review, etc.).</p></div></li><li><div class="field">$analyst</div><div class="value-details"><strong>String</strong><p>Unique identifier (e.g. email address) of the analyst who applied the label. Useful for tracking 
purposes after the fact.</p></div></li></ul></div><div class="docs-partial labels-api-unlabel-user"><h1>Unlabeling a User ID</h1><p>If you are unsure whether a user ID is fraudulent or legitimate, you can always remove labels and leave the user 
in a neutral state. To unlabel a user for a particular abuse type, send an HTTP DELETE to our Labels API endpoint 
with the <code>abuse_type</code> query parameter:</p><code class="highlighted">https://api.sift.com/v205/users/INSERT_USER_ID/labels?abuse_type=INSERT_ABUSE_TYPE</code><p>This API call should return an 
<a href="http://en.wikipedia.org/wiki/List_of_HTTP_status_codes">HTTP status code</a> of <code>204</code>.</p><p>In the rare case that you want to remove all labels for all abuse types for a particular user, send an HTTP 
DELETE to our Labels API endpoint without the <code>abuse_type</code> query parameter:</p><code class="highlighted">https://api.sift.com/v205/users/INSERT_USER_ID/labels</code><p>If you just want to change an existing label - for example, from fraudulent to legitimate - all you need to do 
is send a new label and we'll overwrite the existing value. Learn more about 
<span data-href="/labels-api/label-user">labeling a user</span>.</p><p>Note: you can find the documentation for the previous version of this API 
<a href="/developers/docs/v204/curl/labels-api/unlabel-user">here</a>.</p><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl code-partial">// Example curl request to remove a payment abuse label:
curl -X DELETE 'https://api.sift.com/v205/users/USER_ID/labels/?api_key=YOUR_API_KEY&abuse_type=payment_abuse'</pre><pre class="prettyprint lang python code-partial">import sift

client = sift.Client(api_key='{apiKey}', account_id='{accountId}')
response = client.unlabel("billy_jones_301", abuse_type="payment_abuse")</pre><pre class="prettyprint lang ruby code-partial">require "sift"

client = Sift::Client.new(:api_key => "YOUR_API_KEY - production key if not testing")
response = client.unlabel("billy_jones_301", :abuse_type => "payment_abuse")</pre><pre class="prettyprint lang php code-partial">require 'sift-php/lib/Services_JSON-1.0.3/JSON.php';
require 'sift-php/lib/SiftRequest.php';
require 'sift-php/lib/SiftResponse.php';
require 'sift-php/lib/SiftClient.php';
require 'sift-php/lib/Sift.php';

$client = new SiftClient(array('api_key' => 'YOUR_API_KEY - production key if not testing'));
$response = $client->unlabel('billy_jones_301', array('abuse_type' => 'payment_abuse'));</pre><pre class="prettyprint lang java code-partial">import com.siftscience.SiftClient;
import com.siftscience.UnlabelRequest;
import com.siftscience.UnlabelResponse;
import com.siftscience.model.UnlabelFieldSet;

SiftClient client = new SiftClient("YOUR_API_KEY");
UnlabelRequest request = client.buildRequest(new UnlabelFieldSet()
        .setUserId("billy_jones_301")
        .setAbuseType("payment_abuse"));

UnlabelResponse response;
try {
    response = request.send();
} catch (SiftException e) {
    System.out.println(e.getApiErrorMessage());
    return;
}
response.isOk(); // true</pre></div></div></div><div class="docs-partial webhooks-api-overview"><h1>Webhooks API</h1><h2>Overview</h2><p>You may use webhooks to receive notifications about particular events in Sift. When one
of the events is triggered, Sift will send a JSON payload to the webhook’s specified URL.
Webhooks can be used to update your own support tool, data warehouses, and more.</p><h2>Authentication</h2><p>Our webhook APIs are accessible using your API Keys. If you are a Sift product partner,
API keys must be provided by a customer.</p><p>All API requests should be made over HTTPS. Any call using HTTP or without authentication
will fail.</p></div><div class="docs-partial webhooks-api-create"><h1>Create a webhook</h1><p>Creates a new webhook with a specified URL.</p></div><div class="docs-partial two-column"><div><h3>Request</h3><h5>Arguments</h5><ul class="api-fields"><li><div class="field">payload_type</div><div class="value-details"><em>REQUIRED</em><strong> &middot; String</strong><p>The type of payload.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>ORDER_V1_0</span></div><div class="sub-details"><span>This payload type provides an order data response. <a href="/developers/docs/java/webhooks-api/payload/order">See our order object</a>.</span></div></li></ul></div></li><li><div class="field">status</div><div class="value-details"><em>REQUIRED</em><strong> &middot; String</strong><p>The status of the webhook.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>draft</span></div><div class="sub-details"><span>Indicates the webhook is in a draft state. No webhooks are sent.</span></div></li><li><div class="sub-field"><span>active</span></div><div class="sub-details"><span>Indicates the webhook is active. The webhook is live.</span></div></li></ul></div></li><li><div class="field">url</div><div class="value-details"><em>REQUIRED</em><strong> &middot; String</strong><p>The URL of the webhook endpoint. This must be HTTPS.</p></div></li><li><div class="field">enabled_events</div><div class="value-details"><em>REQUIRED</em><strong> &middot; String</strong><p>The list of events to enable for this endpoint. These correspond to our
Reserved Events in our <span data-href="/events-api">Events API.</span></p><h6>Possible enabled events</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>$create_order</span></div><div class="sub-details"><span>Occurs whenever a $create_order API call is received.</span></div></li><li><div class="sub-field"><span>$update_order</span></div><div class="sub-details"><span>Occurs whenever a $update_order API call is received.</span></div></li><li><div class="sub-field"><span>order_status</span></div><div class="sub-details"><span>Occurs whenever a $order_status API call is received.</span></div></li><li><div class="sub-field"><span>$transaction</span></div><div class="sub-details"><span>Occurs whenever a $transaction API call is received.</span></div></li><li><div class="sub-field"><span>$chargeback</span></div><div class="sub-details"><span>Occurs whenever a $chargeback API call is received.</span></div></li></ul></div></li><li><div class="field">name</div><div class="value-details"><em>OPTIONAL</em><strong> &middot; String</strong><p>An optional name you specify for this webhook</p></div></li><li><div class="field">description</div><div class="value-details"><em>OPTIONAL</em><strong> &middot; String</strong><p>An optional description about what the webhook is used for.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"></div><pre class="prettyprint lang curl lang-bash">curl -X POST https://api.sift.com/v3/accounts/{accountId}/webhooks \n-H 'Content-Type: application/json' \n-u {YOUR_API_KEY}: \n-d \n    '{
    "payload_type": "ORDER_V1_0",
    "status": "draft",
    "url": "https://example.com/",
    "enabled_events": ["$create_order"],
    "name": "My webhook name",
    "description": "This is a webhook!"
    }'
</pre></div></div><div class="docs-partial two-column"><div><h3>Response</h3><h5>Attributes</h5><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><strong> String</strong><p>The id of the webhook. </p></div></li><li><div class="field">created</div><div class="value-details"><strong> Integer</strong><p>The time at which the webhook was created as a UNIX timestamp.</p></div></li><li><div class="field">last_updated</div><div class="value-details"><strong> Integer</strong><p>The time at which the webhook endpoint was last updated as a UNIX timestamp.</p></div></li><li><div class="field">name</div><div class="value-details"><strong> String</strong><p>The specified name of the webhook.</p></div></li><li><div class="field">description</div><div class="value-details"><strong> String</strong><p>The specified description of the webhook</p></div></li><li><div class="field">payload_type</div><div class="value-details"><strong> String</strong><p>The type of payload. </p><h6>Possible Values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>ORDER_V1_0</span></div><div class="sub-details"><span>This payload type provides an order data response. <a href="/developers/docs/java/webhooks-api/payload/order">See our order object</a>.</span></div></li></ul></div></li><li><div class="field">enabled_events</div><div class="value-details"><strong> String</strong><p>The list of events to enable for this endpoint. These correspond to our
Reserved Events in our <span data-href="/events-api">Events API.</span></p><h6>Possible enabled events</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>$create_order</span></div><div class="sub-details"><span>Occurs whenever a $create_order API call is received.</span></div></li><li><div class="sub-field"><span>$update_order</span></div><div class="sub-details"><span>Occurs whenever a $update_order API call is received.</span></div></li><li><div class="sub-field"><span>order_status</span></div><div class="sub-details"><span>Occurs whenever a $order_status API call is received.</span></div></li><li><div class="sub-field"><span>$transaction</span></div><div class="sub-details"><span>Occurs whenever a $transaction API call is received.</span></div></li><li><div class="sub-field"><span>$chargeback</span></div><div class="sub-details"><span>Occurs whenever a $chargeback API call is received.</span></div></li></ul></div></li><li><div class="field">status</div><div class="value-details"><strong> String</strong><p>The status of the webhook.</p><h6>Possible Values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>draft</span></div><div class="sub-details"><span>Indicates the webhook is in a draft state. No webhooks are sent.</span></div></li><li><div class="sub-field"><span>active</span></div><div class="sub-details"><span>Indicates the webhook is active. The webhook is live.</span></div></li></ul></div></li><li><div class="field">url</div><div class="value-details"><strong> String</strong><p>The URL of the webhook endpoint. This must be HTTPS. </p></div></li></ul></div><div class="code-container-container"><div class="code-container"></div><pre class="prettyprint lang curl lang-bash">{
    "id":512,
    "created":1607731610614,
    "last_updated":1607731610614,
    "name":"My webhook name",
    "description":"This is a webhook!",
    "payload_type":"ORDER_V1_0",
    "enabled_events":[
        "$create_order"
    ],
    "status":"DRAFT",
    "url":"https://example.com/"
}</pre></div></div><div class="docs-partial webhooks-api-retrieve"><h1>Retrieve a Webhook </h1><p>Retrieves a webhook when given an ID. </p></div><div class="docs-partial two-column"><div><h3>Request</h3><h5>Arguments</h5><p>No arguments. </p></div><div class="code-container-container"><div class="code-container"></div><pre class="prettyprint lang curl lang-bash">curl -X GET https://api.sift.com/v3/accounts/{accountId}/webhooks/{id} \n    -H 'Content-Type: application/json' \n    -u {YOUR_API_KEY}:
</pre></div></div><div class="docs-partial two-column"><div><h3>Response</h3><h5>Attributes</h5><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><strong> String</strong><p>The id of the webhook. </p></div></li><li><div class="field">created</div><div class="value-details"><strong> Integer</strong><p>The time at which the webhook was created as a UNIX timestamp.</p></div></li><li><div class="field">last_updated</div><div class="value-details"><strong> Integer</strong><p>The time at which the webhook endpoint was last updated as a UNIX timestamp.</p></div></li><li><div class="field">name</div><div class="value-details"><strong> String</strong><p>The specified name of the webhook.</p></div></li><li><div class="field">description</div><div class="value-details"><strong> String</strong><p>The specified description of the webhook</p></div></li><li><div class="field">payload_type</div><div class="value-details"><strong> String</strong><p>The type of payload. </p><h6>Possible Values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>ORDER_V1_0</span></div><div class="sub-details"><span>This payload type provides an order data response. <a href="/developers/docs/java/webhooks-api/payload/order">See our order object</a>.</span></div></li></ul></div></li><li><div class="field">enabled_events</div><div class="value-details"><strong> String</strong><p>The list of events to enable for this endpoint. These correspond to our
Reserved Events in our <span data-href="/events-api">Events API.</span></p><h6>Possible enabled events</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>$create_order</span></div><div class="sub-details"><span>Occurs whenever a $create_order API call is received.</span></div></li><li><div class="sub-field"><span>$update_order</span></div><div class="sub-details"><span>Occurs whenever a $update_order API call is received.</span></div></li><li><div class="sub-field"><span>order_status</span></div><div class="sub-details"><span>Occurs whenever a $order_status API call is received.</span></div></li><li><div class="sub-field"><span>$transaction</span></div><div class="sub-details"><span>Occurs whenever a $transaction API call is received.</span></div></li><li><div class="sub-field"><span>$chargeback</span></div><div class="sub-details"><span>Occurs whenever a $chargeback API call is received.</span></div></li></ul></div></li><li><div class="field">status</div><div class="value-details"><strong> String</strong><p>The status of the webhook.</p><h6>Possible Values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>draft</span></div><div class="sub-details"><span>Indicates the webhook is in a draft state. No webhooks are sent.</span></div></li><li><div class="sub-field"><span>active</span></div><div class="sub-details"><span>Indicates the webhook is active. The webhook is live.</span></div></li></ul></div></li><li><div class="field">url</div><div class="value-details"><strong> String</strong><p>The URL of the webhook endpoint. This must be HTTPS. </p></div></li></ul></div><div class="code-container-container"><div class="code-container"></div><pre class="prettyprint lang curl lang-bash">{
    "id":534,
    "created":1607731610614,
    "last_updated":1607731610614,
    "name":"My webhook name",
    "description":"This is a webhook!",
    "payload_type":"ORDER_V1_0",
    "enabled_events":[
        "$create_order"
    ],
    "status":"DRAFT",
    "url":"https://example.com/"
}</pre></div></div><div class="docs-partial webhooks-api-list"><h1>List All Webhooks</h1><p>Returns a list of all webhooks. </p></div><div class="docs-partial two-column"><div><h3>Request</h3><h5>Arguments</h5><p>No arguments. </p></div><div class="code-container-container"><div class="code-container"></div><pre class="prettyprint lang curl lang-bash">curl -X GET https://api.sift.com/v3/accounts/{accountId}/webhooks \n    -H 'Content-Type: application/json' \n    -u {YOUR_API_KEY}:
</pre></div></div><div class="docs-partial two-column"><div><h3>Response</h3><h5>Attributes</h5><ul class="api-fields"><li><div class="field">data</div><div class="value-details"><strong> Array</strong><p>A list of all webhooks.</p></div></li><h6></h6><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><strong> String</strong><p>The id of the webhook. </p></div></li><li><div class="field">created</div><div class="value-details"><strong> Integer</strong><p>The time at which the webhook was created as a UNIX timestamp.</p></div></li><li><div class="field">last_updated</div><div class="value-details"><strong> Integer</strong><p>The time at which the webhook endpoint was last updated as a UNIX timestamp.</p></div></li><li><div class="field">name</div><div class="value-details"><strong> String</strong><p>The specified name of the webhook.</p></div></li><li><div class="field">description</div><div class="value-details"><strong> String</strong><p>The specified description of the webhook</p></div></li><li><div class="field">payload_type</div><div class="value-details"><strong> String</strong><p>The type of payload. </p><h6>Possible Values</h6><ul class="enum-descriptions"><li></li><div class="sub-field"><span>ORDER_V1_0</span></div><div class="sub-details"><span>This payload type provides an order data response. <a href="/developers/docs/java/webhooks-api/payload/order">See our order object</a>.</span></div></ul></div></li><li><div class="field">enabled_events</div><div class="value-details"><strong> String</strong><p>The list of events to enable for this endpoint. These correspond to our
Reserved Events in our <span data-href="/events-api">Events API.</span></p><h6>Possible enabled events</h6><ul class="enum-descriptions"><li></li><div class="sub-field"><span>$create_order</span></div><div class="sub-details"><span>Occurs whenever a $create_order API call is received.</span></div><li></li><div class="sub-field"><span>$update_order</span></div><div class="sub-details"><span>Occurs whenever a $update_order API call is received.</span></div><li></li><div class="sub-field"><span>order_status</span></div><div class="sub-details"><span>Occurs whenever a $order_status API call is received.</span></div><li></li><div class="sub-field"><span>$transaction</span></div><div class="sub-details"><span>Occurs whenever a $transaction API call is received.</span></div><li></li><div class="sub-field"><span>$chargeback</span></div><div class="sub-details"><span>Occurs whenever a $chargeback API call is received.</span></div></ul></div></li><li><div class="field">status</div><div class="value-details"><strong> String</strong><p>The status of the webhook.</p><h6>Possible Values</h6><ul class="enum-descriptions"><li></li><div class="sub-field"><span>draft</span></div><div class="sub-details"><span>Indicates the webhook is in a draft state. No webhooks are sent.</span></div><li></li><div class="sub-field"><span>active</span></div><div class="sub-details"><span>Indicates the webhook is active. The webhook is live.</span></div></ul></div></li><li><div class="field">url</div><div class="value-details"><strong> String</strong><p>The URL of the webhook endpoint. This must be HTTPS.</p></div></li></ul></ul></div><div class="code-container-container"><div class="code-container"></div><pre class="prettyprint lang curl lang-bash">{
    "data": [
        {
        "id":573,
        "created":1607731610614,
        "last_updated":1607731610614,
        "name":"My webhook name",
        "description":"This is a webhook!",
        "payload_type":"ORDER_V1_0",
        "enabled_events":[
            "$create_order"
        ],
        "status":"DRAFT",
        "url":"https://example.com/"
        },
        {...},
        {...}
    ]
    "has_more": false,
    "total_results": 3
}</pre></div></div><div class="docs-partial webhooks-api-update"><h1>Update a Webhook</h1><p>Updates a webhook when given an ID. This will overwrite the entire existing webhook object.</p></div><div class="docs-partial two-column"><div><h3>Request</h3><h5>Arguments</h5><ul class="api-fields"><li><div class="field">payload_type</div><div class="value-details"><em>REQUIRED</em><strong> &middot; String</strong><p>The type of payload.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>ORDER_V1_0</span></div><div class="sub-details"><span>This payload type provides an order data response. <a href="/developers/docs/java/webhooks-api/payload/order">See our order object</a>.</span></div></li></ul></div></li><li><div class="field">status</div><div class="value-details"><em>REQUIRED</em><strong> &middot; String</strong><p>The status of the webhook.</p><h6>Allowed Values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>draft</span></div><div class="sub-details"><span>Indicates the webhook is in a draft state. No webhooks are sent.</span></div></li><li><div class="sub-field"><span>active</span></div><div class="sub-details"><span>Indicates the webhook is active. The webhook is live.</span></div></li></ul></div></li><li><div class="field">url</div><div class="value-details"><em>REQUIRED</em><strong> &middot; String</strong><p>The URL of the webhook endpoint. This must be HTTPS.</p></div></li><li><div class="field">enabled_events</div><div class="value-details"><em>REQUIRED</em><strong> &middot; String</strong><p>The list of events to enable for this endpoint. These correspond to our
Reserved Events in our <span data-href="/events-api">Events API.</span></p><h6>Possible enabled events</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>$create_order</span></div><div class="sub-details"><span>Occurs whenever a $create_order API call is received.</span></div></li><li><div class="sub-field"><span>$update_order</span></div><div class="sub-details"><span>Occurs whenever a $update_order API call is received.</span></div></li><li><div class="sub-field"><span>order_status</span></div><div class="sub-details"><span>Occurs whenever a $order_status API call is received.</span></div></li><li><div class="sub-field"><span>$transaction</span></div><div class="sub-details"><span>Occurs whenever a $transaction API call is received.</span></div></li><li><div class="sub-field"><span>$chargeback</span></div><div class="sub-details"><span>Occurs whenever a $chargeback API call is received.</span></div></li></ul></div></li><li><div class="field">name</div><div class="value-details"><em>OPTIONAL</em><strong> &middot; String</strong><p>An optional name you specify for this webhook</p></div></li><li><div class="field">description</div><div class="value-details"><em>OPTIONAL</em><strong> &middot; String</strong><p>An optional description about what the webhook is used for.</p></div></li></ul></div><div class="code-container-container"><div class="code-container"></div><pre class="prettyprint lang curl lang-bash">curl -X PUT https://api.sift.com/v3/accounts/{accountId}/webhooks/{id} \n-H 'Content-Type: application/json' \n-u {YOUR_API_KEY}: \n-d \n    '{
    "payload_type": "ORDER_V1_0", 
    "status": "active", 
    "url": "https://example.com/updated", 
    "enabled_events": ["$update_order"], 
    "name": "My updated webhook name",
    "description": "This is an updated webhook!"
    }'
</pre></div></div><div class="docs-partial two-column"><div><h3>Response</h3><h5>Attributes</h5><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><strong> String</strong><p>The id of the webhook. </p></div></li><li><div class="field">created</div><div class="value-details"><strong> Integer</strong><p>The time at which the webhook was created as a UNIX timestamp.</p></div></li><li><div class="field">last_updated</div><div class="value-details"><strong> Integer</strong><p>The time at which the webhook endpoint was last updated as a UNIX timestamp.</p></div></li><li><div class="field">name</div><div class="value-details"><strong> String</strong><p>The specified name of the webhook.</p></div></li><li><div class="field">description</div><div class="value-details"><strong> String</strong><p>The specified description of the webhook</p></div></li><li><div class="field">payload_type</div><div class="value-details"><strong> String</strong><p>The type of payload. </p><h6>Possible Values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>ORDER_V1_0</span></div><div class="sub-details"><span>This payload type provides an order data response. <a href="/developers/docs/java/webhooks-api/payload/order">See our order object</a>.</span></div></li></ul></div></li><li><div class="field">enabled_events</div><div class="value-details"><strong> String</strong><p>The list of events to enable for this endpoint. These correspond to our
Reserved Events in our <span data-href="/events-api">Events API.</span></p><h6>Possible enabled events</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>$create_order</span></div><div class="sub-details"><span>Occurs whenever a $create_order API call is received.</span></div></li><li><div class="sub-field"><span>$update_order</span></div><div class="sub-details"><span>Occurs whenever a $update_order API call is received.</span></div></li><li><div class="sub-field"><span>order_status</span></div><div class="sub-details"><span>Occurs whenever a $order_status API call is received.</span></div></li><li><div class="sub-field"><span>$transaction</span></div><div class="sub-details"><span>Occurs whenever a $transaction API call is received.</span></div></li><li><div class="sub-field"><span>$chargeback</span></div><div class="sub-details"><span>Occurs whenever a $chargeback API call is received.</span></div></li></ul></div></li><li><div class="field">status</div><div class="value-details"><strong> String</strong><p>The status of the webhook.</p><h6>Possible Values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>draft</span></div><div class="sub-details"><span>Indicates the webhook is in a draft state. No webhooks are sent.</span></div></li><li><div class="sub-field"><span>active</span></div><div class="sub-details"><span>Indicates the webhook is active. The webhook is live.</span></div></li></ul></div></li><li><div class="field">url</div><div class="value-details"><strong> String</strong><p>The URL of the webhook endpoint. This must be HTTPS. </p></div></li></ul></div><div class="code-container-container"><div class="code-container"></div><pre class="prettyprint lang curl lang-bash">{
    "id":573,
    "created":1607731610614,
    "last_updated":1607731610614,
    "name":"My updated webhook name",
    "description":"This is an updated webhook!",
    "payload_type":"ORDER_V1_0",
    "enabled_events":[
        "$update_order"
    ],
    "status":"ACTIVE",
    "url":"https://example.com/updated"
}</pre></div></div><div class="docs-partial webhooks-api-delete"><h1>Delete a Webhook</h1><p>Deletes a webhook when given an ID. </p></div><div class="docs-partial two-column"><div><h3>Request</h3><h5>Arguments</h5><p>No arguments. </p></div><div class="code-container-container"><div class="code-container"></div><pre class="prettyprint lang curl lang-bash">curl -X DELETE https://api.sift.com/v3/accounts/{accountId}/webhooks/{id}
    -u {YOUR_API_KEY}:
</pre></div></div><div class="docs-partial two-column"><div><h3>Response</h3><p>Response will contain no content and have an HTTP status of 204. </p></div></div><div class="docs-partial orders-api-overview"><h1>Orders</h1><h2>Overview</h2><p>The Sift order is a collection of data sent by <code>$create_order</code>, <code>$update_order</code>, <code>$order_status</code>, <code>$transaction</code>, and <code>$chargeback</code>. Orders can be identified by a unique $order_id or $transaction_id.</p><h2>Versioning</h2><p>The Sift order object will be added to without updating the version. We will create a new version if there are any changes that are not backwards compatible with the current version. Please ensure not to hardcode a schema when integrating with the order object. </p></div><div class="docs-partial orders-api-order"><h1>The Order Object</h1></div><div class="docs-partial two-column"><div><h3>Attributes</h3><ul class="api-fields"><li><div class="field">account_id</div><div class="value-details"><strong> String</strong><p>The order's Sift Account ID, which can be found in the Sift Console under the Developer Tab.</p></div></li><li><div class="field">event</div><div class="value-details"><strong> String</strong><p>Provided triggered via webhook, indicates the triggering webhook event. One of <code>$create_order</code>, <code>$update_order</code>, <code>$order_status</code>, <code>$transaction</code>, or <code>$update_order</code>.</p></div></li><li><div class="field">created</div><div class="value-details"><strong> Integer</strong><p>The UNIX timestamp in milliseconds at which the order was created.</p></div></li><li><div class="field">updated_at</div><div class="value-details"><strong> Integer</strong><p>The UNIX timestamp in milliseconds at which the order was last updated.</p></div></li><li><div class="field">order_id</div><div class="value-details"><strong> String</strong><p>The ID for tracking this order in your system.</p></div></li><li><div class="field">user_id</div><div class="value-details"><strong> String</strong><p>The user's account ID according to your systems. Note that user IDs are case sensitive.</p></div></li><li><div class="field">user_email</div><div class="value-details"><strong> String</strong><p>Email of the user who has created this order.</p></div></li><li><div class="field">ip</div><div class="value-details"><strong> String</strong><p>The ip address of the user that created the order.</p></div></li><li><div class="field">order_status</div><div class="value-details"><strong> String</strong><p>Indicates the state of the order. One of <strong>$approved, $canceled, $held, $fulfilled, </strong> or <strong>$returned</strong>.</p></div></li><li><div class="field">amount</div><div class="value-details"><strong> Integer</strong><p>Total transaction amount in micros in the base unit of the $currency_code. 1 cent = 10,000 microns. $1.23 USD = 123 cents = 1,230,000 micros. For currencies without cents of fractional denominations, like the Japanese Yen, use JPY 1000000 micros</p></div></li><li><div class="field">currency_code</div><div class="value-details"><strong> String</strong><p><a href="http://en.wikipedia.org/wiki/ISO_4217">ISO-4217</a> currency code for the amount.</p></div></li><li><div class="field">payment_methods</div><div class="value-details"><strong> Array of Payment Methods</strong><p>The payment information associated with the order. Contains the following attributes:</p></div></li><h6></h6><ul class="api-fields"><li><div class="field">payment_type</div><div class="value-details"><strong> String</strong><p>The general type of payment being used. </p></div></li><li><div class="field">card_bin</div><div class="value-details"><strong> String</strong><p>The first six or eight digits of the credit card number. These numbers contain information about the card issuer, the geography and other card details.</p></div></li><li><div class="field">card_last_4</div><div class="value-details"><strong> String</strong><p>The last four digits of the credit card number.</p></div></li><li><div class="field">payment_gateway</div><div class="value-details"><strong> String</strong><p>The specific gateway, company, product, etc. being used to process payment.</p></div></li><li><div class="field">avs_result_code</div><div class="value-details"><strong> String</strong><p>Response code from the AVS address verification system. Used in payments involving credit cards.</p></div></li><li><div class="field">cvv_result_code</div><div class="value-details"><strong> String</strong><p>Response code from the credit card company indicating if the CVV number matches the number on the record. Used in payments involving credit cards.</p></div></li><li><div class="field">billing_address</div><div class="value-details"><strong> Billing Address Object</strong><p>The billing address entered by the user. <a href="https://sift.com/developers/docs/curl/events-api/complex-field-types/address">See Address.</a></p></div></li></ul><li><div class="field">ordered_from</div><div class="value-details"><strong> Ordered From Object</strong><p>The details about the specific location providing the good or service. This can be used to capture pickup, delivery locations, etc. <a href="https://sift.com/developers/docs/curl/events-api/complex-field-types/ordered-from">See Ordered From.</a></p></div></li><li><div class="field">shipping_address</div><div class="value-details"><strong> Shipping Address Object</strong><p>The shipping address entered by the user. <a href="https://sift.com/developers/docs/curl/events-api/complex-field-types/address">See Address.</a></p></div></li><li><div class="field">expedited_shipping</div><div class="value-details"><strong> Boolean</strong><p>Whether the user requested priority/expedited shipping on their order</p></div></li><li><div class="field">shipping_method</div><div class="value-details"><strong> String</strong><p>Indicates the method of delivery to the user.</p></div></li><li><div class="field">shipping_carrier</div><div class="value-details"><strong> String</strong><p>Shipping carrier for the shipment of the product.</p></div></li><li><div class="field">shipping_tracking_number</div><div class="value-details"><em>deprecated</em><strong> &middot; String</strong><p>Shipping tracking number of the product</p></div></li><li><div class="field">shipping_tracking_numbers</div><div class="value-details"><strong> Array of Strings</strong><p>Shipping tracking number(s) for the shipment of the product(s).</p></div></li><li><div class="field">items</div><div class="value-details"><strong> Array of Items</strong><p>The list of items ordered. Each item contains: </p></div></li><h6></h6><ul class="api-fields"><li><div class="field">item_id</div><div class="value-details"><strong> String</strong><p>The item’s unique identifier.</p></div></li><li><div class="field">product_title</div><div class="value-details"><strong> String</strong><p>The item’s name.</p></div></li><li><div class="field">price</div><div class="value-details"><strong> Integer</strong><p>The item unit price in micros, in the base unit of the currency_code. 1 cent = 10,000 micros. $1.23 USD = 123 cents = 1,230,000 micros.</p></div></li><li><div class="field">currency_code</div><div class="value-details"><strong> String</strong><p><a href="http://en.wikipedia.org/wiki/ISO_4217">ISO-4217</a> currency code for the price.</p></div></li></ul><li><div class="field">bookings</div><div class="value-details"><strong><span data-href="/events-api/complex-field-types/booking">Array of Bookings</span></strong><p>The list of bookings made. This may include tickets and reservations like flights, hotels, rideshares etc.
Note: cannot be used in conjunction with <code>$items</code>.</p></div></li><li><div class="field">transactions</div><div class="value-details"><strong> Array of Transactions</strong><p>The list of transactions associated with the order. Each transaction contains: </p></div></li><h6></h6><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><strong> String</strong><p>The ID for identifying this transaction. Important for tracking transactions, and liking different parts of the same transaction together, e.g. linking a refund to it’s original transaction.</p></div></li><li><div class="field">transaction_type</div><div class="value-details"><strong> String</strong><p>The type of transaction being recorded. One of <strong>sale, authorize, capture, void, refund, deposit, withdrawal,</strong> or <strong>transfer</strong>.</p></div></li><li><div class="field">transaction_time</div><div class="value-details"><strong> Integer</strong><p>The UNIX timestamp in milliseconds at which the transaction occurred. </p></div></li><li><div class="field">amount</div><div class="value-details"><strong> Integer</strong><p>Total transaction amount in micros in the base unit of the $currency_code. 1 cent = 10,000 microns. $1.23 USD = 123 cents = 1,230,000 micros. For currencies without cents of fractional denominations, like the Japanese Yen, use JPY 1000000 micros.</p></div></li><li><div class="field">currency_code</div><div class="value-details"><strong> String</strong><p><a href="http://en.wikipedia.org/wiki/ISO_4217">ISO-4217</a> currency code for the amount.</p></div></li></ul><li><div class="field">chargebacks</div><div class="value-details"><strong> Array of Chargebacks</strong><p>The list of chargebacks associated with the order. Each chargeback contains:</p></div></li><h6></h6><ul class="api-fields"><li><div class="field">transaction_id</div><div class="value-details"><strong> String</strong><p>The transaction_id that this chargeback is linked to.</p></div></li><li><div class="field">time</div><div class="value-details"><strong> Integer</strong><p>The UNIX timestamp in milliseconds at which the transaction occurred.</p></div></li><li><div class="field">status</div><div class="value-details"><strong> String</strong><p>The current state of the chargeback.</p></div></li><li><div class="field">reason</div><div class="value-details"><strong> String</strong><p>The reason for why the chargeback occurred. One of <strong>fraud, duplicate, product_not_received, product_unacceptable, other.</strong></p></div></li></ul><li><div class="field">latest_decisions</div><div class="value-details"><strong> Map</strong><p>The decisions map contains the most recent decision on the order. The map is keyed by abuse type, which could be one of: payment_abuse, account_abuse, content_abuse, promotion abuse, and legacy. Contains:</p></div></li><h6></h6><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><strong> String</strong><p>The ID of the decision. This is derived from the decision name in the Console.</p></div></li><li><div class="field">type</div><div class="value-details"><strong> String</strong><p>The type of the decision taken on the entity. One of <strong>Red, Yellow,</strong> or <strong>Green</strong></p></div></li><li><div class="field">time</div><div class="value-details"><strong> Integer</strong><p>The UNIX timestamp of when the decision was made. </p></div></li><li><div class="field">description</div><div class="value-details"><strong> String</strong><p>A description of the decision. </p></div></li></ul><li><div class="field">scores</div><div class="value-details"><strong> Map</strong><p>The scores map contains the computed scores for all applicable abuse types. The map is keyed by abuse type, which could be one of: payment_abuse, account_abuse, content_abuse, promotion abuse, and legacy. Contains:</p></div></li><h6></h6><ul class="api-fields"><li><div class="field">score</div><div class="value-details"><strong> Float</strong><p>Score of the user between 0.0 and 1.0. A score of 0.5 translates to a score of 50 in the console.</p></div></li><li><div class="field">time</div><div class="value-details"><strong> Long</strong><p>The time at which the score was generated, as a UNIX timestamp. </p></div></li></ul><li><div class="field">site_country</div><div class="value-details"><strong> String</strong><p>Country the company is providing service from.</p></div></li><li><div class="field">site_domain</div><div class="value-details"><strong> String</strong><p>Domain being interfaced with.</p></div></li><li><div class="field">merchant_profile</div><div class="value-details"><strong> Merchant Profile Object</strong><p>The details about the merchant or seller providing the goods or service. Note: The merchant profile fields will have the '$' prefix removed in the response. <a href="https://sift.com/developers/docs/curl/events-api/complex-field-types/merchant-profile">See Merchant Profile.</a></p></div></li><li><div class="field">custom_fields</div><div class="value-details"><strong> Map</strong><p>The custom fields map contains the custom fields of an order.</p></div></li><li><div class="field">billing_address</div><div class="value-details"><strong> Billing Address Object</strong><p>The billing address of the order. <a href="https://sift.com/developers/docs/curl/events-api/complex-field-types/address">See Address.</a></p></div></li></ul></div><div class="code-container-container"><h5>Orders</h5><div class="code-container"><pre class="prettyprint lang curl lang-bash">{
    "account_id": "YOUR_ACCOUNT_ID",
    "event": "$create_order",
    "created": 1607650820366,
    "updated_at": 1607650820056,
    "order_id": "ORDER-28168441",
    "user_id": "billy_jones_301",
    "user_email": "bill@gmail.com",
    "ip": "11.11.11.11",
    "order_status": "$approved",
    "amount": 200000,
    "currency_code": "USD",
    "payment_methods": [{
        "payment_type": "$credit_card",
        "card_bin": "54248612",
        "card_last4": "4444",
        "payment_gateway": "$braintree",
        "avs_result_code": "Y",
        "cvv_result_code": "M",
        "billing_address": {
            "name": "Jake Joseph",
            "address_1": "1111 Oak St",
            "address_2": "Unit 111",
            "city": "New Orleans",
            "region": "Louisiana",
            "country": "US",
            "zipcode": "03254"
        }
    }],
    "ordered_from": {
        "store_id": "123",
        "store_address": {
            "name": "Alice Green",
            "address_1": "18 Market Street",
            "address_2": "Suite 100",
            "city": "New London",
            "region": "New Hampshire",
            "country": "US",
            "zipcode": "03257",
            "phone": "1-415-532-6892"
        }
    },
    "shipping_address": {
        "name": "Bill Jones",
        "address_1": "2100 Main Street",
        "address_2": "Apt 3B",
        "city": "New London",
        "region": "New Hampshire",
        "country": "US",
        "zipcode": "03257",
        "phone": "1-415-555-6041"
    },
    "expedited_shipping": true,
    "shipping_method": "$physical",
    "shipping_carrier": "UPS",
    "shipping_tracking_numbers": ["1Z204E380338943508", "1Z204E380338943509"],
    "items": [{
            "item_id": "12344321",
            "product_title": "Microwavable Kettle Corn: Original Flavor",
            "price": 4990000,
            "currency_code": "USD"
        },
        {
            "item_id": "B004834GQO",
            "product_title": "The Slanket Blanket-Texas Tea",
            "price": 39990000,
            "currency_code": "USD"
        }
    ],
    "transactions": [{
            "id": "123",
            "transaction_type": "auth",
            "time": 1592433168230,
            "amount": 0,
            "currency_code": "USD"
        },
        {
            "id": "123",
            "transaction_type": "capture",
            "time": 1592433168230,
            "amount": 300000,
            "currency_code": "USD"
        },
        {
            "id": "124",
            "transaction_type": "sale",
            "time": 1592433168230,
            "amount": 100000,
            "currency_code": "USD"
        }
    ],
    "chargebacks": [{
            "transaction_id": 123,
            "time": 1592433277044,
            "status": "disputed",
            "reason": "fraud"
        },
        {
            "transaction_id": 124,
            "time": 1592433277044,
            "status": "disputed",
            "reason": "fraud"
        }
    ],
    "latest_decisions": {
        "payment_abuse": {
            "id": "Accept Order",
            "type": "ACCEPT",
            "time": 1571420853046,
            "description": ""
        }
    },
    "scores": {
        "content_abuse": {
            "score": 0.021003901194838703,
            "time": 1607650820056
        },
        "payment_abuse": {
            "score": 0.25462552602582395,
            "time": 1607650820056
        }
    },
    "site_domain": "sift.com",
    "site_country": "US",
    "merchant_profile": {
        "merchant_id": "12345",
        "merchant_category_code": "5000",
        "merchant_name": "merchant_name",
        "merchant_address": {
            "name": "Alexander Frizler",
            "address_1": "Spitzwegstr. 17",
            "city": "Kuenzelsau",
            "country": "DE",
            "zipcode": "74653",
            "phone": "+4915152362576"
        }
    },
    "custom_fields": {
        "custom_field_key_1": "custom_field_value_1",
        "custom_field_key_2": "custom_field_value_2"
    },
    "billing_address": {
            "name": "Jake Joseph",
            "address_1": "1111 Oak St",
            "address_2": "Unit 111",
            "city": "New Orleans",
            "region": "Louisiana",
            "country": "US",
            "zipcode": "03254"
    }
}</pre></div></div></div><div class="docs-partial psp-merchant-management-api-overview"><h1>PSP Merchant Management API</h1><p>The PSP Merchants API allows payment service providers to create a summary of their merchant
portfolio in the Sift console. The API is an automated way to onboard, off-board merchants
providing fraud teams with a quick and easy way to view a summary of all merchants.
A PSP can use this API to create a record of key metadata related to the merchant including
MCC, Location, or an internal risk level.</p></div><div class="docs-partial psp-merchant-management-api-create"><h1>Create Merchant</h1><p>On-board a PSP merchant summary to Sift Platform.</p><div class="docs-partial two-column"><div><h3>Request</h3><p>Every PSP merchant has to have a unique <code>{id}</code>.</p><p>Be sure to replace <code>${accountId}</code> with your Sift account ID, found on the
<a href="/console/account/profile">Profile Tab</a> on the Console. Lastly, replace
<code>${YOUR_API_KEY}</code> with your REST API key, found in the
<a href="https://sift.com/console/developer/api-keys">API Keys tab</a> of the Developer
page in the Console.</p><ul class="api-fields"><li><div class="field">accountId</div><div class="value-details"><strong>String</strong><p>The Account ID of your organisation.</p></div></li><li><div class="field">merchantId</div><div class="value-details"><strong>String</strong><p>The unique ID of the PSP merchant for search</p></div></li><li><div class="field">merchantObject</div><div class="value-details"><strong>Object</strong><p>The merchant object payload. <span data-href="/psp-merchant-management-api/object">See PSP Merchant Object.</span></p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash">merchantObject='{
  "id": "cf51f0ec-6078-46e9-a796-700af25e668c",
  "name": "Watson and Holmes",
  "description": "An example of a PSP Merchant. Illustrative.",
  "address": {
    "name": "Dr Watson",
    "address_1": "221B, Baker street",
    "address_2": "apt., 1",
    "city": "London",
    "region": "London",
    "country": "GB",
    "zipcode": "00001",
    "phone": "0122334455"
  },
  "category": "1002",
  "service_level": "Platinum",
  "status": "active",
  "risk_profile": {
    "level": "low",
    "score": 10
  }
}'

# Create a merchant
curl -X POST https://api.sift.com/v3/accounts/${accountId}/psp_management/merchants
     -H 'Content-Type: application/json'
     -u ${YOUR_API_KEY}:
     -d ${merchantObject}</pre></div></div></div></div><div class="docs-partial psp-merchant-management-api-edit"><h1>Edit Merchant</h1><p>Update a merchant summary to reflect changes in the status or service level or address etc.</p><div class="docs-partial two-column"><div><h3>Request</h3><p>Be sure to replace <code>${accountId}</code> with your Sift account ID, found on the
<a href="/console/account/profile">Profile Tab</a> on the Console. Lastly, replace
<code>${YOUR_API_KEY}</code> with your REST API key, found in the
<a href="https://sift.com/console/developer/api-keys">API Keys tab</a> of the Developer
page in the Console.</p><ul class="api-fields"><li><div class="field">accountId</div><div class="value-details"><strong>String</strong><p>The Account ID of your organisation.</p></div></li><li><div class="field">merchantId</div><div class="value-details"><strong>String</strong><p>The unique ID of the PSP merchant for search</p></div></li><li><div class="field">merchantObject</div><div class="value-details"><strong>Object</strong><p>The merchant object payload. <span data-href="/psp-merchant-management-api/object">See PSP Merchant Object.</span></p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash">merchantObject='{
  "id": "cf51f0ec-6078-46e9-a796-700af25e668c",
  `"name": "Watson and Holmes",
  "description": "An example of a PSP Merchant. Illustrative.",
  "address": {
    "name": "Dr Watson",
    "address_1": "221B, Baker street",
    "address_2": "apt., 1",
    "city": "London",
    "region": "London",
    "country": "GB",
    "zipcode": "00001",
    "phone": "0122334455"
  },
  "category": "1002",
  "service_level": "Platinum",
  "status": "active",
  "risk_profile": {
    "level": "low",
    "score": 10
  }
}'

# Update a merchant
curl -X PUT https://api.sift.com/v3/accounts/${accountId}/psp_management/merchants/${merchantId}
     -H 'Content-Type: application/json'
     -u ${YOUR_API_KEY}:
     -d ${merchantObject}</pre></div></div></div></div><div class="docs-partial psp-merchant-management-api-get"><h1>Get Merchant</h1><p>Browse existing PSP merchant summaries.</p><div class="docs-partial psp-merchant-management-api-get-request"></div><div class="docs-partial two-column"><div><h3>Request</h3><p>Obtain the latest PSP Merchant metadata by <code>{id}</code>.</p><p>Be sure to replace <code>${accountId}</code> with your Sift account ID, found on the
<a href="/console/account/profile">Profile Tab</a> on the Console. Lastly, replace
<code>${YOUR_API_KEY}</code> with your REST API key, found in the
<a href="https://sift.com/console/developer/api-keys">API Keys tab</a> of the Developer
page in the Console.</p><ul class="api-fields"><li><div class="field">batchSize</div><div class="value-details"><strong>Integer</strong><p>Batch or page size of the paginated sequence.</p></div></li><li><div class="field">batchToken</div><div class="value-details"><strong>String</strong><p>Batch or page position of the paginated sequence.</p></div></li><li><div class="field">accountId</div><div class="value-details"><strong>String</strong><p>The Account ID of your organisation.</p></div></li><li><div class="field">merchantId</div><div class="value-details"><strong>String</strong><p>The unique ID of the PSP merchant for search</p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash"># Get a merchant array
curl -XGET https://api.sift.com/v3/accounts/${accountId}/psp_management/merchants
     -H 'Content-Type: application/json'
     -u ${YOUR_API_KEY}:

# Get a merchant array paginated
curl -XGET https://api.sift.com/v3/accounts/${accountId}/psp_management/merchants?batch_size=${batchSize}&batch_token=${batchToken}
     -H 'Content-Type: application/json'
     -u ${YOUR_API_KEY}:

# Get a specific merchant by id
curl -XGET https://api.sift.com/v3/accounts/${accountId}/psp_management/merchants/${merchantId}
     -H 'Content-Type: application/json'
     -u ${YOUR_API_KEY}:
</pre></div></div></div><div class="docs-partial psp-merchant-management-api-get-batch-response"></div><div class="docs-partial two-column"><div><h3>Batch Response</h3><ul class="api-fields"><li><div class="field">next_ref</div><div class="value-details"><strong>String</strong><p>A reference to the next batch of merchants to iterate. For pagination.</p></div></li><li><div class="field">has_more</div><div class="value-details"><strong>Boolean</strong><p>Indicates if this PSP merchants batch is the last one. For pagination.</p></div></li><li><div class="field">schema</div><div class="value-details"><strong>String</strong><p>A schema name of the data items.</p></div></li><li><div class="field">data</div><div class="value-details"><strong>Array</strong><p>An array of Merchants in the current response batch. <span data-href="/psp-merchant-management-api/object">See PSP Merchant Object item.</span></p></div></li></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash">{
  "has_more": false,
  "next_ref": "-"
  "schema": "psp_merchant.json",
  "data": [
    {
      "id": "cf51f0ec-6078-46e9-a796-700af25e668c",
      "name": "Watson and Holmes",
      "description": "An example of a PSP Merchant. Illustrative.",
      "created_at": 1663162925457,
      "created_by": "hhdkka888rKKc",
      "last_updated_at": 1663162982915,
      "last_updated_by": "jkdjnueu7e7",
      "address": {
        "name": "Dr Watson",
        "address_1": "221B, Baker street",
        "address_2": "apt., 1",
        "city": "London",
        "region": "London",
        "country": "GB",
        "zipcode": "00001",
        "phone": "0122334455"
      },
      "category": "1002",
      "service_level": "Platinum",
      "status": "active",
      "risk_profile": {
        "level": "low",
        "score": 10
      }
    }
  ]
}
</pre></div></div></div><div class="docs-partial psp-merchant-management-api-get-by-id-response"><h6></h6></div><div class="docs-partial two-column"><div><h3>By ID Response</h3><p>A successful response will contain <span data-href="/psp-merchant-management-api/object">a PSP Merchant Object item.</span></p></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash">{
  "id": "cf51f0ec-6078-46e9-a796-700af25e668c",
  "name": "Watson and Holmes",
  "description": "An example of a PSP Merchant. Illustrative.",
  "created_at": 1663162925457,
  "created_by": "hhdkka888rKKc",
  "last_updated_at": 1663162982915,
  "last_updated_by": "jkdjnueu7e7",
  "address": {
    "name": "Dr Watson",
    "address_1": "221B, Baker street",
    "address_2": "apt., 1",
    "city": "London",
    "region": "London",
    "country": "GB",
    "zipcode": "00001",
    "phone": "0122334455"
  },
  "category": "1002",
  "service_level": "Platinum",
  "status": "active",
  "risk_profile": {
    "level": "low",
    "score": 10
  }
}</pre></div></div></div></div><div class="docs-partial psp-merchant-management-api-object"><h1>Merchant Object</h1><div class="docs-partial two-column"><div><h3>Attributes</h3><ul class="api-fields"><li><div class="field">id</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>A unique PSP merchant identifier.</p></div></li><li><div class="field">name</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>A PSP merchant name.</p></div></li><li><div class="field">description</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>A PSP merchant description.</p></div></li><li><div class="field">category</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>A merchants category code or ISO-18245 Merchant Category Code.</p></div></li><li><div class="field">service_level</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>A merchants service level as defined by the PSP if they offer a variety of services.</p></div></li><li><div class="field">created_at</div><div class="value-details"><em>read-only</em><strong> &middot; Long</strong><p>The time the PSP merchant was created, as a UNIX timestamp in milliseconds.</p></div></li><li><div class="field">created_by</div><div class="value-details"><em>read-only</em><strong> &middot; String</strong><p>The unique identifier of the creater agent.</p></div></li><li><div class="field">last_updated_by</div><div class="value-details"><em>read-only</em><strong> &middot; String</strong><p>The unique identifier of the updater agent.</p></div></li><li><div class="field">last_updated_at</div><div class="value-details"><em>read-only</em><strong> &middot; Long</strong><p>The time the PSP merchant was changed, as a UNIX timestamp in milliseconds.</p></div></li><li><div class="field">status</div><div class="value-details"><em>required</em><strong> &middot; String</strong><p>The status of the PSP merchant.</p><h6>Allowed Key Values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>active</span></div></li><li><div class="sub-field"><span>churned</span></div></li><li><div class="sub-field"><span>inactive</span></div></li><li><div class="sub-field"><span>paused</span></div></li></ul></div></li><li><div class="field">risk_profile</div><div class="value-details"><em>optional</em><strong> &middot; Object</strong><p>The risk profile of the merchant as defined by the PSP during the on-boarding.
This can be an internal score or level.</p></div></li><h6></h6><ul class="api-fields"><li><div class="field">score</div><div class="value-details"><em>optional</em><strong> &middot; Integer</strong><p>The risk score interpretation from lowest 0 to highest 100.</p></div></li><li><div class="field">level</div><div class="value-details"><em>optional</em><strong> &middot; String</strong><p>The risk level name.</p><h6>Allowed Key Values</h6><ul class="enum-descriptions"><li><div class="sub-field"><span>low</span></div></li><li><div class="sub-field"><span>medium</span></div></li><li><div class="sub-field"><span>high</span></div></li></ul></div></li></ul><li><div class="field">address</div><div class="value-details"><em>required</em><strong> &middot; Object</strong><p>Postal address of the PSP merchant.</p></div></li><h6></h6><ul class="api-fields"><li><div class="sub-field">name</div><div class="sub-details"><em>optional</em><strong> &middot; String</strong><p>Address name</p></div></li><li><div class="sub-field">address_1</div><div class="sub-details"><em>optional</em><strong> &middot; String</strong><p>Address line 1.</p></div></li><li><div class="sub-field">address_2</div><div class="sub-details"><em>optional</em><strong> &middot; String</strong><p>Address line 2.</p></div></li><li><div class="sub-field">city</div><div class="sub-details"><em>optional</em><strong> &middot; String</strong><p>Address city.</p></div></li><li><div class="sub-field">region</div><div class="sub-details"><em>optional</em><strong> &middot; String</strong><p>Address region.</p></div></li><li><div class="sub-field">country</div><div class="sub-details"><em>optional</em><strong> &middot; String</strong><p>Address country.</p></div></li><li><div class="sub-field">zipcode</div><div class="sub-details"><em>optional</em><strong> &middot; String</strong><p>Address zipcode.</p></div></li><li><div class="sub-field">phone</div><div class="sub-details"><em>optional</em><strong> &middot; String</strong><p>Phone number.</p></div></li></ul></ul></div><div class="code-container-container"><div class="code-container"><pre class="prettyprint lang curl lang-bash">{
  "id": "cf51f0ec-6078-46e9-a796-700af25e668c",
  "name": "Watson and Holmes",
  "description": "An example of a PSP Merchant. Illustrative.",
  "created_at": 1663162925457,
  "created_by": "hhdkka888rKKc",
  "last_updated_at": 1663162982915,
  "last_updated_by": "jkdjnueu7e7",
  "address": {
    "name": "Dr Watson",
    "address_1": "221B, Baker street",
    "address_2": "apt., 1",
    "city": "London",
    "region": "London",
    "country": "GB",
    "zipcode": "00001",
    "phone": "0122334455"
  },
  "category": "1002",
  "service_level": "Platinum",
  "status": "active",
  "risk_profile": {
    "level": "low",
    "score": 10
  }
}</pre></div></div></div></div><!-- mixpanel--><script>(function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^///)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
mixpanel.init("c91a1a1875d9f57966dce77902e67ea2");</script></div></main></div><div class="fade-in-form" id="contact-us-form"><div class="fade-in-form-outer"><div class="fade-in-form-middle"><div class="fade-in-form-inner"><div class="fade-in-form-close-box"></div><div class="fade-in-form-content-wrapper"><script src="//pages.sift.com/js/forms2/js/forms2.min.js" async></script><div class="extra-content-side"> <div class="logo-holder"> </div><div class="lower-content-holder"><div class="text-content"><h2>Secure your business from login to chargeback</h2><p>Stop fraud, break down data silos, and lower friction with&nbsp;Sift.</p><ul> <li><span class="icon"> </span><span class="text">Achieve up to <strong class='no-wrap'>285% ROI</strong></span></li><li> <span class="icon"> </span><span class="text">Increase user acceptance rates up <span class='no-wrap'>to <strong>99%</strong></span></span></li><li> <span class="icon"> </span><span class="text">Drop time spent on manual review up <span class='no-wrap'>to <strong>80%</strong></span></span></li></ul></div><div class="awards-showcase-outer"><div class="awards-showcase-inner"></div></div></div></div><div class="form-side"><form id="mktoForm_1058"></form><small class="opt-out">Your information will be used to contact you about our service and subscribe you to our direct 
marketing communications. You can, of course, 
<a href='https://pages.siftscience.com/preference-center.html'>unsubscribe</a> at any time. Please see 
our <a href='/site-privacy'>Website Privacy Notice.</a></small></div></div></div></div></div></div><script>// 'use strict';

var MENU_OPEN_CLASS = 'menu-open',
    TARGET_SELECTORS = ['.mobile-menu', 'header'];
/**
 * This is a script embedded directly in the html page to ensure that the
 * mobile nav click handler is bound as early as possible, even while the other
 * javascripts are being loaded.
 *
 * This has only Modernizr as a dependency.
 */
(function() {
  var veggieWrapEl = document.querySelector('.veggieburger-wrap');

  if (veggieWrapEl && Modernizr.classlist) {
    veggieWrapEl.addEventListener('click', function() {
      [].forEach.call(TARGET_SELECTORS, function(sel) {
        document.querySelector(sel).classList.toggle(MENU_OPEN_CLASS);
      });
    });
  }
})();
</script><script>// v1.2
!function(a){"use strict";a.picturefill=function(){for(var b=a.document.getElementsByTagName("span"),c=0,d=b.length;d>c;c++)if(null!==b[c].getAttribute("data-picture")){for(var e=b[c].getElementsByTagName("span"),f=[],g=0,h=e.length;h>g;g++){var i=e[g].getAttribute("data-media");(!i||a.matchMedia&&a.matchMedia(i).matches)&&f.push(e[g])}var j=b[c].getElementsByTagName("img")[0];if(f.length){var k=f.pop();if(j&&"NOSCRIPT"!==j.parentNode.nodeName){if(k===j.parentNode)continue}else j=a.document.createElement("img"),j.alt=b[c].getAttribute("data-alt");j.src=k.getAttribute("data-src"),k.appendChild(j),j.removeAttribute("width"),j.removeAttribute("height")}else j&&j.parentNode.removeChild(j)}},a.addEventListener?(a.addEventListener("resize",a.picturefill,!1),a.addEventListener("DOMContentLoaded",function(){a.picturefill(),a.removeEventListener("load",a.picturefill,!1)},!1),a.addEventListener("load",a.picturefill,!1)):a.attachEvent&&a.attachEvent("onload",a.picturefill)}(this);
</script><script src="/js/docs.js"></script><img height="0" width="0" alt="" src="https://pixel.mintigo.com/mintigo_pixel.png?pixel_cid=d9c36504ad" style="display: none;"><img src="https://s.ml-attr.com/getuid?https%3a%2f%2fattr.ml-api.io%2f%3fdomain%3dsift.com%26pId%3d%24UID" width="1" height="1" style="display:none" /><script id="term-e7e5d07437489" src="//vidassets.terminus.services/c71d871b-a5a6-4c14-a18c-645c411580d9/t.js" async></script><script>!function(){function e(){t===!1&&(t=!0,Munchkin.init("526-PCC-974"))}var t=!1,n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="//munchkin.marketo.net/munchkin.js",n.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState)&&e()},n.onload=e,document.getElementsByTagName("head")[0].appendChild(n)}();
</script><script>!function(){_linkedin_data_partner_id="25785",function(){var t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",t.parentNode.insertBefore(e,t)}();}();
</script><script>var _eiq=_eiq||[],_engagio_settings={accountId:"944b0120a7feb4c6a56845fb0c13e1b6a85720fa"};!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"==document.location.protocol?"https://":"http://")+"web-analytics.engagio.com/js/ei.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}();
</script><script language='JavaScript1.1' async src='//pixel.mathtag.com/event/js?mt_id=1424048&mt_adid=226423&mt_exem=&mt_excl=&v1=&v2=&v3=&s1=&s2=&s3='></script><script>(function(w,d,t,r,u){var f,n,i;w[u]=w[u]||[],f=function(){var o={ti:"26187152"};o.q=w[u],w[u]=new UET(o),w[u].push("pageLoad")},n=d.createElement(t),n.src=r,n.async=1,n.onload=n.onreadystatechange=function(){var s=this.readyState;s&&s!=="loaded"&&s!=="complete"||(f(),n.onload=n.onreadystatechange=null)},i=d.getElementsByTagName(t)[0],i.parentNode.insertBefore(n,i)})(window,document,"script","//bat.bing.com/bat.js","uetq");
</script><script>function getParam(p) {
  var match = RegExp('[?&]' + p + '=([^&]*)').exec(window.location.search);
  return match && decodeURIComponent(match[1].replace(/+/g, ' '));
}
function getExpiryRecord(value) {
  var expiryPeriod = 90 * 24 * 60 * 60 * 1000; // 90 day expiry in milliseconds
  var expiryDate = new Date().getTime() + expiryPeriod;
  return {
    value: value,
    expiryDate: expiryDate
  };
}
function addGclid() {
  var gclidParam = getParam('gclid');
  var gclidFormFields = ['GCLID__c'];
  var gclidRecord = null;
  var currGclidFormField;
  var gclsrcParam = getParam('gclsrc');
  var isGclsrcValid = !gclsrcParam || gclsrcParam.indexOf('aw') !== -1;
  gclidFormFields.forEach(function (field) {
    if (document.getElementById(field)) {
      currGclidFormField = document.getElementById(field);
    }
  });
  if (gclidParam && isGclsrcValid) {
    gclidRecord = getExpiryRecord(gclidParam);
    localStorage.setItem('gclid', JSON.stringify(gclidRecord));
  }
  var gclid = gclidRecord || JSON.parse(localStorage.getItem('gclid'));
  var isGclidValid = gclid && new Date().getTime() < gclid.expiryDate;
  if (currGclidFormField && isGclidValid) {
    currGclidFormField.value = gclid.value;
  }
}
window.addEventListener('load', addGclid);
</script><script>// Sift Profile ID
_airpr = {'id':'249020', 'ga_dim': '3', 'ga_account_preset': 'UA-28381067-4'} ;
(function(d, e, a, s) {
a = d.createElement(e); a.async = 1; a.src = '//px.airpr.com/airpr.js';
s = d.getElementsByTagName(e)[0]; s.parentNode.insertBefore(a, s);
})(document, 'script');
</script><noscript><img height='1' width='1' style='display:none;visibility:hidden;' alt='' src='https://dc.ads.linkedin.com/collect/?pid=25785&fmt=gif' /></noscript><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PF53KPG" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script type="text/javascript" data-cfasync="false" src="https://tribl.io/footer.js?orgId=Mo8woK2edzcD8WnZO9Pj"></script></body></html>